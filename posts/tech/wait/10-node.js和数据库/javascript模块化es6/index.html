<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JavaScriptæ¨¡å—åŒ–ï¼šES6 | Bablvsj's Blog</title><meta name=keywords content="Node"><meta name=description content="JavaScriptæ¨¡å—åŒ–ï¼šES6 - Bablvsj's Blog"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/tech/wait/10-node.js%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93/javascript%E6%A8%A1%E5%9D%97%E5%8C%96es6/><link crossorigin=anonymous href=/assets/css/stylesheet.b33b75c69bb2ec0d4accfeaad1d3ba05b272f180583f687c640a522d6492076f.css integrity="sha256-szt1xpuy7A1KzP6q0dO6BbJy8YBYP2h8ZApSLWSSB28=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=stylesheet href=/css/syntax.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="JavaScriptæ¨¡å—åŒ–ï¼šES6"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/tech/wait/10-node.js%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93/javascript%E6%A8%A1%E5%9D%97%E5%8C%96es6/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-01T17:11:35+08:00"><meta property="article:modified_time" content="2020-01-01T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="JavaScriptæ¨¡å—åŒ–ï¼šES6"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"JavaScriptæ¨¡å—åŒ–ï¼šES6","item":"https://bablvsj.github.io/posts/tech/wait/10-node.js%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93/javascript%E6%A8%A1%E5%9D%97%E5%8C%96es6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JavaScriptæ¨¡å—åŒ–ï¼šES6","name":"JavaScriptæ¨¡å—åŒ–ï¼šES6","description":"","keywords":["Node"],"articleBody":"æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥ JSå¼€å‘çš„å¼Šç«¯ JS åœ¨ä½¿ç”¨æ—¶å­˜åœ¨ä¸¤å¤§é—®é¢˜ï¼Œè€Œ Node.js å¯ä»¥å¾ˆå¥½åœ°é¿å…è¿™ä¸¤ä¸ªé—®é¢˜ï¼š\næ–‡ä»¶ä¾èµ–ã€‚æ¯”å¦‚ a æ–‡ä»¶ä¾èµ– b æ–‡ä»¶ï¼Œb æ–‡ä»¶ä¾èµ– c æ–‡ä»¶ã€‚è€Œ Node.js ä¸­çš„æ–‡ä»¶ä¾èµ–ï¼Œä¸éœ€è¦äººå·¥ç»´æŠ¤å’Œäººä¸ºåˆ†æã€‚\nå‘½åå†²çªã€‚js çš„å„ä¸ªæ–‡ä»¶æ˜¯ç›¸äº’å¼€æ”¾çš„ï¼Œå®¹æ˜“å¯¼è‡´å‘½åå†²çªã€‚è€Œ Node.js æ˜¯å±äºåŠå°é—­çš„çŠ¶æ€ï¼Œå¯ä»¥æŒ‡å®šå“ªäº›å†…å®¹æ˜¯å¼€æ”¾çš„ï¼Œå“ªäº›å†…å®¹æ˜¯å°é—­çš„ã€‚\nNode.js åœ¨è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜æ—¶ï¼Œç”¨åˆ°çš„å°±æ˜¯æ¨¡å—åŒ–å¼€å‘ã€‚\nè½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘ ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå¤šä¸ªæ¨¡å—å¯ä»¥ç»„æˆå®Œæ•´çš„åº”ç”¨ï¼ŒæŠ½ç¦»ä¸€ä¸ªæ¨¡å—ä¸ä¼šå½±å“å…¶ä»–åŠŸèƒ½çš„è¿è¡Œã€‚\næ•ˆæœå¦‚ä¸‹ï¼š\nNode.js ä¸­çš„æ¨¡å—åŒ–å¼€å‘ Node.js è§„å®šï¼Œä¸€ä¸ª JS æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡å’Œå‡½æ•°é»˜è®¤æƒ…å†µä¸‹åœ¨å¤–éƒ¨æ— æ³•è®¿é—®ã€‚\næ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨ exports å¯¹è±¡è¿›è¡Œæˆå‘˜å¯¼å‡ºï¼Œ ä½¿ç”¨ require æ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚æ•ˆæœå¦‚ä¸‹ï¼š\nES6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³• ES6æ¨¡å—åŒ–çš„è¯´æ˜ ä¾èµ–æ¨¡å—éœ€è¦ç¼–è¯‘æ‰“åŒ…å¤„ç†ã€‚åŸå› å¦‚ä¸‹ï¼š\nï¼ˆ1ï¼‰æœ‰äº›æµè§ˆå™¨ä¸æ”¯æŒ ES6 çš„è¯­æ³•ï¼Œå†™å®Œ ES6 çš„ä»£ç åï¼Œéœ€è¦é€šè¿‡Babelå°† ES6 è½¬åŒ–ä¸º ES5ã€‚\nï¼ˆ2ï¼‰ç”Ÿæˆäº†ES5ä¹‹åï¼Œé‡Œé¢ä»ç„¶æœ‰requireè¯­æ³•ï¼Œè€Œæµè§ˆå™¨å¹¶ä¸è®¤è¯†requireè¿™ä¸ªå…³é”®å­—ã€‚æ­¤æ—¶ï¼Œå¯ä»¥ç”¨ Browserifyç¼–è¯‘æ‰“åŒ… jsï¼Œè¿›è¡Œå†æ¬¡è½¬æ¢ã€‚\næ¨èå­¦ä¹ é“¾æ¥ï¼š\nhttp://es6.ruanyifeng.com/#docs/module åŸºæœ¬è¯­æ³•ï¼š å¯¼å‡ºæ¨¡å—ï¼š\nexport å¼•å…¥æ¨¡å—ï¼š\nimport xxx from 'è·¯å¾„' ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼‰ 1ã€åˆå§‹åŒ–é¡¹ç›® ï¼ˆ1ï¼‰åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­æ–°å»ºå¦‚ä¸‹ç›®å½•ï¼š\njs | src | module1.js | module2.js | module3.js | main.js index.html ï¼ˆ2ï¼‰åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºæ–‡ä»¶package.jsonï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n{ \"name\": \"es6-babel-browserify\", \"version\": \"1.0.0\" } 2ã€ç¯å¢ƒé…ç½®ï¼šå®‰è£…babel å’Œ browserifyç­‰ ï¼ˆ1ï¼‰å®‰è£…babel å’Œ browserifyï¼š\nnpm install babel-cli -g npm install babel-preset-es2015 --save-dev npm install browserify -g å®‰è£… babel çš„è¯¦ç»†è§£é‡Šï¼Œå¯ä»¥å‚è€ƒæœ¬äººçš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼šES6çš„ä»‹ç»å’Œç¯å¢ƒé…ç½®\nï¼ˆ2ï¼‰æ–°å»º.babelrcï¼š\nåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶.babelrcï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š\n{ \"presets\":[ \"es2015\" ], \"plugins\":[] } 3ã€ç¼–å†™ä»£ç  ï¼ˆ1ï¼‰module1.jsï¼š\n//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨åˆ†åˆ«æš´éœ²çš„æ–¹å¼ export function foo1() { console.log('æˆ‘æ˜¯ module1 ä¸­çš„ foo1'); } export function foo2() { console.log('æˆ‘æ˜¯ module2 ä¸­çš„ foo2'); } export let arr = [1, 2, 3, 4, 5]; ï¼ˆ2ï¼‰module2.jsï¼š\n//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨ç»Ÿä¸€æš´éœ²çš„æ–¹å¼ function fn1() { console.log('æˆ‘æ˜¯ module2 ä¸­çš„ fn1'); } function fn2() { console.log('æˆ‘æ˜¯ module2 ä¸­çš„ fn2'); } //ç»Ÿä¸€æš´éœ² export { fn1, fn2 }; ï¼ˆ3ï¼‰module3.jsï¼š\n//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨é»˜è®¤æš´éœ²çš„æ–¹å¼ã€‚ //é»˜è®¤æš´éœ²çš„æ–¹å¼å¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»å‹ï¼Œæš´éœ²çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶åˆ°çš„å°±æ˜¯ä»€ä¹ˆæ•°æ® //è¯­æ³•æ ¼å¼ï¼šexport default value; export default () =\u003e { console.log('æˆ‘æ˜¯ module3 ä¸­ default æ–¹å¼æš´éœ²çš„å‡½æ•°'); }; è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡å–äº†ä¸€ç§æ–°çš„æš´éœ²æ–¹å¼ï¼ˆé»˜è®¤æš´éœ²ï¼‰ï¼Œåœ¨æš´éœ²æ—¶ï¼ŒåŠ ä¸Šäº†defaultè¿™ä¸ªå…³é”®å­—ã€‚ä»£ç é‡Œæš´éœ²äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œç¨åï¼Œæˆ‘ä»¬æ³¨æ„åœ¨main.jsé‡Œæ˜¯æ€ä¹ˆå¼•å…¥module3.jsçš„ã€‚\næ³¨æ„ï¼Œæˆ‘ä»¬åªèƒ½å†™ä¸€æ¬¡ defaultï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½è¿›è¡Œä¸€æ¬¡é»˜è®¤æš´éœ²ã€‚\nï¼ˆ4ï¼‰module4.jsï¼šï¼ˆdefaultæ–¹å¼æš´éœ²å¤šä¸ªå±æ€§ï¼‰\n//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨é»˜è®¤æš´éœ²çš„æ–¹å¼ã€‚ //é»˜è®¤æš´éœ²çš„æ–¹å¼å¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»å‹ï¼Œæš´éœ²çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶åˆ°çš„å°±æ˜¯ä»€ä¹ˆæ•°æ® //è¯­æ³•æ ¼å¼ï¼šexport default value; export default { name: 'æˆ‘æ˜¯ module4 ä¸­ default æ–¹å¼æš´éœ²çš„å±æ€§ name', foo() { console.log('æˆ‘æ˜¯ module4 ä¸­ default æ–¹å¼æš´éœ²çš„å‡½æ•° foo'); } } è¿™é‡Œï¼Œæˆ‘ä»¬ä¾æ—§é‡‡å–äº†é»˜è®¤æš´éœ²çš„æ–¹å¼ï¼Œåªèƒ½å†™ä¸€æ¬¡ defaultã€‚ä»£ç é‡Œæš´éœ²äº†ä¸€ä¸ªå¯¹è±¡ï¼ˆå¯¹è±¡é‡Œå­˜æ”¾äº†ä¸€ä¸ªå±æ€§ã€ä¸€ä¸ªæ–¹æ³•ï¼‰ã€‚ç¨åï¼Œæˆ‘ä»¬æ³¨æ„åœ¨main.jsé‡Œæ˜¯æ€ä¹ˆå¼•å…¥module4.jsçš„ã€‚\nå¦‚æœæˆ‘æƒ³æš´éœ²å¤šä¸ªå±æ€§ã€å¤šä¸ªå¯¹è±¡æ€å‘¢ï¼Ÿå¾ˆç®€å•ï¼ŒæŠŠä½ æƒ³è¦æš´éœ²çš„æ‰€æœ‰å†…å®¹ï¼Œéƒ½æ”¾åœ¨defaulté‡Œï¼ŒåŒ…æˆä¸€ä¸ªå¯¹è±¡ã€‚ä½ çœ‹module4.jså°±æ˜¯å¦‚æ­¤ï¼Œ åŒæ—¶æš´éœ²äº†å¤šä¸ªå±æ€§\u0026æ–¹æ³•ã€‚\nï¼ˆ5ï¼‰main.jsï¼š\nè¿™ä¸ªæ˜¯ä¸»æ¨¡å—ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå®ƒå¦‚ä½•å¼•å…¥ä¸Šé¢çš„å››ä¸ªæ¨¡å—ã€‚\n//ä¸»æ¨¡å—ã€‚å¼•å…¥å…¶ä»–çš„æ¨¡å— import { foo1, foo2 } from './module1'; //é‡‡ç”¨è§£æ„èµ‹å€¼çš„å½¢å¼è¿›è¡Œå¯¼å…¥ã€‚æ³¨æ„ï¼Œæ‹¬å·é‡Œçš„å¯¹è±¡åï¼Œè¦å’Œ module1 ä¸­çš„å¯¹è±¡åä¸€è‡´ã€‚ import { fn1, fn2 } from './module2'; //é‡‡ç”¨è§£æ„èµ‹å€¼çš„å½¢å¼è¿›è¡Œå¯¼å…¥ã€‚æ³¨æ„ï¼Œæ‹¬å·é‡Œçš„å¯¹è±¡åï¼Œè¦å’Œ module2 ä¸­çš„å¯¹è±¡åä¸€è‡´ã€‚ import myModule3 from './module3'; //module3 æ¨¡å—æ˜¯é‡‡ç”¨ default æ–¹å¼è¿›è¡Œæš´éœ²çš„ï¼ŒmyModule3 è¿™ä¸ªåå­—æ˜¯æˆ‘éšä¾¿èµ·çš„ import myModule4 from './module4'; //module4 æ¨¡å—æ˜¯é‡‡ç”¨ default æ–¹å¼è¿›è¡Œæš´éœ²çš„ï¼ŒmyModule4 è¿™ä¸ªåå­—æ˜¯æˆ‘éšä¾¿èµ·çš„ //è°ƒç”¨module1ã€module2ä¸­çš„å†…å®¹ foo1(); foo2(); fn1(); fn2(); //è°ƒç”¨module3ä¸­çš„å†…å®¹ myModule3(); //è°ƒç”¨module4ä¸­çš„å†…å®¹ console.log(myModule4.name); //module4ä¸­çš„å±æ€§ myModule4.foo(); //module4ä¸­çš„æ–¹æ³• æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šï¼ˆå…·ä½“è¯·çœ‹æ³¨é‡Šï¼Œéå¸¸é‡è¦ï¼‰\nmodule1å’Œmodule2æ˜¯é‡‡ç”¨å¸¸è§„æš´éœ²çš„å½¢å¼ï¼Œåœ¨å¼•å…¥å®ƒä»¬æ—¶ï¼Œæ¨¡å—åè¦ä¸€è‡´ã€‚è€Œä¸”ï¼Œè¦æ±‚ç”¨å¯¹è±¡è§£æ„èµ‹å€¼çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ç”¨ import myModule from ...è¿™ç§å½¢å¼ï¼ˆå¦åˆ™ä¼šæŠ¥é”™ undefinedï¼‰ã€‚\nmodule2å’Œmodule3æ˜¯é‡‡ç”¨é»˜è®¤æš´éœ²çš„å½¢å¼ï¼Œåœ¨å¼•å…¥å®ƒä»¬æ—¶ï¼Œæ¨¡å—åéšä¾¿èµ·ã€‚\nï¼ˆ6ï¼‰index.htmlï¼š\nåœ¨è¿™é‡Œå¼•å…¥main.jså³å¯ã€‚\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cscript src=\"dist/main.js\"\u003e\u003c/script\u003e \u003c/body\u003e \u003c/html\u003e 4ã€ç¼–è¯‘è½¬æ¢ å¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œè½¬æ¢ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ index.html ä¸­åŠ è½½ js/src/main.jsï¼Œæ˜¯ä¼šæŠ¥é”™çš„ï¼š\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¿›è¡Œè½¬æ¢ã€‚\nï¼ˆ1ï¼‰åˆ©ç”¨ babel å°† ES6 è½¬æ¢ä¸º ES5ï¼š\nbabel src -d build //buildç›®å½•ä¼šè‡ªåŠ¨ç”Ÿæˆ ä¸Šæ–¹å‘½ä»¤çš„æ„æ€æ˜¯ï¼Œå°†srcç›®å½•ä¸‹çš„æ‰€æœ‰ES6æ–‡ä»¶è½¬åŒ–ä¸ºES5æ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨buildç›®å½•ä¸‹ï¼ˆbuildç›®å½•ä¼šè¢«è‡ªåŠ¨åˆ›å»ºï¼‰ã€‚\nè½¬åŒ–æˆES5ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœç›´æ¥åœ¨ index.html ä¸­åŠ è½½buildç›®å½•ä¸‹çš„ES5æ–‡ä»¶ï¼Œä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºæµè§ˆå™¨ä¸è®¤è¯†main.jsé‡Œçš„requireå…³é”®å­—ï¼š\näºæ˜¯ï¼Œæˆ‘ä»¬è¿˜è¦è¿›è¡Œä¸€æ¬¡è½¬æ¢ã€‚\nï¼ˆ2ï¼‰åˆ©ç”¨Browserifyç¼–è¯‘æ‰“åŒ… buildç›®å½•ä¸‹çš„ ES5 æ–‡ä»¶ï¼š\nbrowserify build/main.js -o dist/main.js //distç›®å½•éœ€è¦æ‰‹åŠ¨åˆ›å»º dist/main.jså°±æ˜¯æˆ‘ä»¬éœ€è¦å¼•å…¥åˆ° index.html é‡Œçš„æ–‡ä»¶ã€‚\nä»¥åï¼Œæˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å®ŒES6çš„ä»£ç ï¼Œå°±è¦æ‰§è¡Œä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆæ–°çš„jsæ–‡ä»¶ã€‚\nè¿è¡Œæ•ˆæœï¼š\nå·¥ç¨‹æ–‡ä»¶ï¼š\n2018-04-13-ES6Demo.rar ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆå¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰ ä¸‹è½½ jQuery åŒ…ï¼š\nnpm install jquery@1 //ä¸‹è½½jQuery 1.X çš„ç‰ˆæœ¬é‡Œæœ€æ–°çš„ åœ¨main.js ä¸­å¼•å…¥ä¸Šé¢çš„ jQueryï¼š\nimport $ from 'jQuery'; ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡$è¿™ä¸ªç¬¦å·å»å†™jQueryçš„ä»£ç äº†ã€‚\n","wordCount":"2496","inLanguage":"en","datePublished":"2020-01-01T17:11:35+08:00","dateModified":"2020-01-01T17:11:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/tech/wait/10-node.js%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93/javascript%E6%A8%A1%E5%9D%97%E5%8C%96es6/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>JavaScriptæ¨¡å—åŒ–ï¼šES6</h1><div class=post-meta><div class=post-tags-meta><a href=https://bablvsj.github.io/tags/node/>Node</a></div>5 min&nbsp;Â·&nbsp;<span title='2020-01-01 17:11:35 +0800 +0800'>2020/01/01</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e6%a8%a1%e5%9d%97%e5%8c%96%e5%bc%80%e5%8f%91%e7%9a%84%e5%bc%95%e5%85%a5 aria-label=æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥>æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥</a><ul><li><a href=#js%e5%bc%80%e5%8f%91%e7%9a%84%e5%bc%8a%e7%ab%af aria-label=JSå¼€å‘çš„å¼Šç«¯>JSå¼€å‘çš„å¼Šç«¯</a></li><li><a href=#%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e7%9a%84%e6%a8%a1%e5%9d%97%e5%8c%96%e5%bc%80%e5%8f%91 aria-label=è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘>è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘</a></li><li><a href=#nodejs-%e4%b8%ad%e7%9a%84%e6%a8%a1%e5%9d%97%e5%8c%96%e5%bc%80%e5%8f%91 aria-label="Node.js ä¸­çš„æ¨¡å—åŒ–å¼€å‘">Node.js ä¸­çš„æ¨¡å—åŒ–å¼€å‘</a></li></ul></li><li><a href=#es6%e6%a8%a1%e5%9d%97%e5%8c%96%e7%9a%84%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95 aria-label=ES6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³•>ES6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³•</a><ul><li><a href=#es6%e6%a8%a1%e5%9d%97%e5%8c%96%e7%9a%84%e8%af%b4%e6%98%8e aria-label=ES6æ¨¡å—åŒ–çš„è¯´æ˜>ES6æ¨¡å—åŒ–çš„è¯´æ˜</a></li><li><a href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95 aria-label=åŸºæœ¬è¯­æ³•ï¼š>åŸºæœ¬è¯­æ³•ï¼š</a></li></ul></li><li><a href=#es6%e6%a8%a1%e5%9d%97%e5%8c%96%e7%9a%84%e4%bd%bf%e7%94%a8%e4%b8%be%e4%be%8b%e8%87%aa%e5%ae%9a%e4%b9%89%e6%a8%a1%e5%9d%97 aria-label=ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼‰>ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼‰</a><ul><li><a href=#1%e5%88%9d%e5%a7%8b%e5%8c%96%e9%a1%b9%e7%9b%ae aria-label=1ã€åˆå§‹åŒ–é¡¹ç›®>1ã€åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href=#2%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae%e5%ae%89%e8%a3%85babel-%e5%92%8c-browserify%e7%ad%89 aria-label="2ã€ç¯å¢ƒé…ç½®ï¼šå®‰è£…babel å’Œ browserifyç­‰">2ã€ç¯å¢ƒé…ç½®ï¼šå®‰è£…babel å’Œ browserifyç­‰</a></li><li><a href=#3%e7%bc%96%e5%86%99%e4%bb%a3%e7%a0%81 aria-label=3ã€ç¼–å†™ä»£ç >3ã€ç¼–å†™ä»£ç </a></li><li><a href=#4%e7%bc%96%e8%af%91%e8%bd%ac%e6%8d%a2 aria-label=4ã€ç¼–è¯‘è½¬æ¢>4ã€ç¼–è¯‘è½¬æ¢</a></li></ul></li><li><a href=#es6%e6%a8%a1%e5%9d%97%e5%8c%96%e7%9a%84%e4%bd%bf%e7%94%a8%e4%b8%be%e4%be%8b%e5%bc%95%e5%85%a5%e7%ac%ac%e4%b8%89%e6%96%b9%e6%a8%a1%e5%9d%97 aria-label=ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆå¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰>ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆå¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰</a></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥>æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥<a hidden class=anchor aria-hidden=true href=#æ¨¡å—åŒ–å¼€å‘çš„å¼•å…¥>#</a></h2><h3 id=jså¼€å‘çš„å¼Šç«¯>JSå¼€å‘çš„å¼Šç«¯<a hidden class=anchor aria-hidden=true href=#jså¼€å‘çš„å¼Šç«¯>#</a></h3><p>JS åœ¨ä½¿ç”¨æ—¶å­˜åœ¨ä¸¤å¤§é—®é¢˜ï¼Œè€Œ Node.js å¯ä»¥å¾ˆå¥½åœ°é¿å…è¿™ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li><p>æ–‡ä»¶ä¾èµ–ã€‚æ¯”å¦‚ a æ–‡ä»¶ä¾èµ– b æ–‡ä»¶ï¼Œb æ–‡ä»¶ä¾èµ– c æ–‡ä»¶ã€‚è€Œ Node.js ä¸­çš„æ–‡ä»¶ä¾èµ–ï¼Œä¸éœ€è¦äººå·¥ç»´æŠ¤å’Œäººä¸ºåˆ†æã€‚</p></li><li><p>å‘½åå†²çªã€‚js çš„å„ä¸ªæ–‡ä»¶æ˜¯ç›¸äº’å¼€æ”¾çš„ï¼Œå®¹æ˜“å¯¼è‡´å‘½åå†²çªã€‚è€Œ Node.js æ˜¯å±äºåŠå°é—­çš„çŠ¶æ€ï¼Œå¯ä»¥æŒ‡å®šå“ªäº›å†…å®¹æ˜¯å¼€æ”¾çš„ï¼Œå“ªäº›å†…å®¹æ˜¯å°é—­çš„ã€‚</p></li></ul><p>Node.js åœ¨è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜æ—¶ï¼Œç”¨åˆ°çš„å°±æ˜¯æ¨¡å—åŒ–å¼€å‘ã€‚</p><h3 id=è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘>è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘<a hidden class=anchor aria-hidden=true href=#è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¼€å‘>#</a></h3><p>ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå¤šä¸ªæ¨¡å—å¯ä»¥ç»„æˆå®Œæ•´çš„åº”ç”¨ï¼ŒæŠ½ç¦»ä¸€ä¸ªæ¨¡å—ä¸ä¼šå½±å“å…¶ä»–åŠŸèƒ½çš„è¿è¡Œã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20200409_1934.png alt></p><h3 id=nodejs-ä¸­çš„æ¨¡å—åŒ–å¼€å‘>Node.js ä¸­çš„æ¨¡å—åŒ–å¼€å‘<a hidden class=anchor aria-hidden=true href=#nodejs-ä¸­çš„æ¨¡å—åŒ–å¼€å‘>#</a></h3><p>Node.js è§„å®šï¼Œä¸€ä¸ª JS æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—å†…éƒ¨å®šä¹‰çš„å˜é‡å’Œå‡½æ•°é»˜è®¤æƒ…å†µä¸‹åœ¨å¤–éƒ¨æ— æ³•è®¿é—®ã€‚</p><p>æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨ <code>exports</code> å¯¹è±¡è¿›è¡Œæˆå‘˜å¯¼å‡ºï¼Œ ä½¿ç”¨ <code>require</code> æ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20200409_1932.png alt></p><h2 id=es6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³•>ES6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³•<a hidden class=anchor aria-hidden=true href=#es6æ¨¡å—åŒ–çš„åŸºæœ¬è¯­æ³•>#</a></h2><h3 id=es6æ¨¡å—åŒ–çš„è¯´æ˜>ES6æ¨¡å—åŒ–çš„è¯´æ˜<a hidden class=anchor aria-hidden=true href=#es6æ¨¡å—åŒ–çš„è¯´æ˜>#</a></h3><p><strong>ä¾èµ–æ¨¡å—éœ€è¦ç¼–è¯‘æ‰“åŒ…å¤„ç†</strong>ã€‚åŸå› å¦‚ä¸‹ï¼š</p><ul><li><p>ï¼ˆ1ï¼‰æœ‰äº›æµè§ˆå™¨ä¸æ”¯æŒ ES6 çš„è¯­æ³•ï¼Œå†™å®Œ ES6 çš„ä»£ç åï¼Œéœ€è¦é€šè¿‡<code>Babel</code>å°† ES6 è½¬åŒ–ä¸º ES5ã€‚</p></li><li><p>ï¼ˆ2ï¼‰ç”Ÿæˆäº†ES5ä¹‹åï¼Œé‡Œé¢ä»ç„¶æœ‰<code>require</code>è¯­æ³•ï¼Œè€Œæµè§ˆå™¨å¹¶ä¸è®¤è¯†<code>require</code>è¿™ä¸ªå…³é”®å­—ã€‚æ­¤æ—¶ï¼Œå¯ä»¥ç”¨ <code>Browserify</code>ç¼–è¯‘æ‰“åŒ… jsï¼Œè¿›è¡Œå†æ¬¡è½¬æ¢ã€‚</p></li></ul><p>æ¨èå­¦ä¹ é“¾æ¥ï¼š</p><ul><li><a href=http://es6.ruanyifeng.com/#docs/module>http://es6.ruanyifeng.com/#docs/module</a></li></ul><h3 id=åŸºæœ¬è¯­æ³•>åŸºæœ¬è¯­æ³•ï¼š<a hidden class=anchor aria-hidden=true href=#åŸºæœ¬è¯­æ³•>#</a></h3><p><strong>å¯¼å‡ºæ¨¡å—</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>	export
</span></span></code></pre></div><p><strong>å¼•å…¥æ¨¡å—</strong>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>	import xxx from &#39;è·¯å¾„&#39;
</span></span></code></pre></div><h2 id=es6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹è‡ªå®šä¹‰æ¨¡å—>ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼‰<a hidden class=anchor aria-hidden=true href=#es6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹è‡ªå®šä¹‰æ¨¡å—>#</a></h2><h3 id=1åˆå§‹åŒ–é¡¹ç›®>1ã€åˆå§‹åŒ–é¡¹ç›®<a hidden class=anchor aria-hidden=true href=#1åˆå§‹åŒ–é¡¹ç›®>#</a></h3><p>ï¼ˆ1ï¼‰åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­æ–°å»ºå¦‚ä¸‹ç›®å½•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>js
</span></span><span style=display:flex><span>    | src
</span></span><span style=display:flex><span>    	| module1.js
</span></span><span style=display:flex><span>    	| module2.js
</span></span><span style=display:flex><span>    	| module3.js
</span></span><span style=display:flex><span>    	| main.js
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>index.html
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºæ–‡ä»¶<code>package.json</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#9d0006>&#34;name&#34;</span>: <span style=color:#79740e>&#34;es6-babel-browserify&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#9d0006>&#34;version&#34;</span>: <span style=color:#79740e>&#34;1.0.0&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=2ç¯å¢ƒé…ç½®å®‰è£…babel-å’Œ-browserifyç­‰>2ã€ç¯å¢ƒé…ç½®ï¼šå®‰è£…babel å’Œ browserifyç­‰<a hidden class=anchor aria-hidden=true href=#2ç¯å¢ƒé…ç½®å®‰è£…babel-å’Œ-browserifyç­‰>#</a></h3><p>ï¼ˆ1ï¼‰å®‰è£…babel å’Œ browserifyï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>	npm install babel-cli -g
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	npm install babel-preset-es2015 --save-dev
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	npm install browserify -g
</span></span></code></pre></div><p>å®‰è£… babel çš„è¯¦ç»†è§£é‡Šï¼Œå¯ä»¥å‚è€ƒæœ¬äººçš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š<a href=https://github.com/smyhvae/Web/blob/master/10-ES6/03-ES6%E7%9A%84%E4%BB%8B%E7%BB%8D%E5%92%8C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.md>ES6çš„ä»‹ç»å’Œç¯å¢ƒé…ç½®</a></p><p>ï¼ˆ2ï¼‰æ–°å»º.babelrcï¼š</p><p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶<code>.babelrc</code>ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>{
</span></span><span style=display:flex><span>    &#34;presets&#34;:[
</span></span><span style=display:flex><span>        &#34;es2015&#34;
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    &#34;plugins&#34;:[]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=3ç¼–å†™ä»£ç >3ã€ç¼–å†™ä»£ç <a hidden class=anchor aria-hidden=true href=#3ç¼–å†™ä»£ç >#</a></h3><p>ï¼ˆ1ï¼‰module1.jsï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#928374;font-style:italic>//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨åˆ†åˆ«æš´éœ²çš„æ–¹å¼
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#af3a03>export</span> <span style=color:#af3a03>function</span> foo1() {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module1 ä¸­çš„ foo1&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>export</span> <span style=color:#af3a03>function</span> foo2() {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module2 ä¸­çš„ foo2&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>export</span> <span style=color:#af3a03>let</span> arr <span style=color:#af3a03>=</span> [<span style=color:#8f3f71>1</span>, <span style=color:#8f3f71>2</span>, <span style=color:#8f3f71>3</span>, <span style=color:#8f3f71>4</span>, <span style=color:#8f3f71>5</span>];
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰module2.jsï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#928374;font-style:italic>//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨ç»Ÿä¸€æš´éœ²çš„æ–¹å¼
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#af3a03>function</span> fn1() {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module2 ä¸­çš„ fn1&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>function</span> fn2() {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module2 ä¸­çš„ fn2&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//ç»Ÿä¸€æš´éœ²
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>export</span> { fn1, fn2 };
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰module3.jsï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#928374;font-style:italic>//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨é»˜è®¤æš´éœ²çš„æ–¹å¼ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//é»˜è®¤æš´éœ²çš„æ–¹å¼å¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»å‹ï¼Œæš´éœ²çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶åˆ°çš„å°±æ˜¯ä»€ä¹ˆæ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//è¯­æ³•æ ¼å¼ï¼šexport default value;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>export</span> <span style=color:#af3a03>default</span> () =&gt; {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module3 ä¸­ default æ–¹å¼æš´éœ²çš„å‡½æ•°&#39;</span>);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>è¿™é‡Œï¼Œæˆ‘ä»¬é‡‡å–äº†ä¸€ç§æ–°çš„æš´éœ²æ–¹å¼ï¼ˆé»˜è®¤æš´éœ²ï¼‰ï¼Œåœ¨æš´éœ²æ—¶ï¼ŒåŠ ä¸Šäº†<code>default</code>è¿™ä¸ªå…³é”®å­—ã€‚ä»£ç é‡Œæš´éœ²äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œç¨åï¼Œæˆ‘ä»¬æ³¨æ„åœ¨main.jsé‡Œæ˜¯æ€ä¹ˆå¼•å…¥module3.jsçš„ã€‚</p><p>æ³¨æ„ï¼Œæˆ‘ä»¬åªèƒ½å†™ä¸€æ¬¡ defaultï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½è¿›è¡Œä¸€æ¬¡é»˜è®¤æš´éœ²ã€‚</p><p>ï¼ˆ4ï¼‰module4.jsï¼šï¼ˆdefaultæ–¹å¼æš´éœ²å¤šä¸ªå±æ€§ï¼‰</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#928374;font-style:italic>//æš´éœ²æ¨¡å—ï¼šé‡‡ç”¨é»˜è®¤æš´éœ²çš„æ–¹å¼ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//é»˜è®¤æš´éœ²çš„æ–¹å¼å¯ä»¥æš´éœ²ä»»æ„æ•°æ®ç±»å‹ï¼Œæš´éœ²çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Œæ¥æ”¶åˆ°çš„å°±æ˜¯ä»€ä¹ˆæ•°æ®
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//è¯­æ³•æ ¼å¼ï¼šexport default value;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>export</span> <span style=color:#af3a03>default</span> {
</span></span><span style=display:flex><span>    name<span style=color:#af3a03>:</span> <span style=color:#79740e>&#39;æˆ‘æ˜¯ module4 ä¸­ default æ–¹å¼æš´éœ²çš„å±æ€§ name&#39;</span>,
</span></span><span style=display:flex><span>    foo() {
</span></span><span style=display:flex><span>        console.log(<span style=color:#79740e>&#39;æˆ‘æ˜¯ module4 ä¸­ default æ–¹å¼æš´éœ²çš„å‡½æ•° foo&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¿™é‡Œï¼Œæˆ‘ä»¬ä¾æ—§é‡‡å–äº†é»˜è®¤æš´éœ²çš„æ–¹å¼ï¼Œåªèƒ½å†™ä¸€æ¬¡ defaultã€‚ä»£ç é‡Œæš´éœ²äº†ä¸€ä¸ªå¯¹è±¡ï¼ˆå¯¹è±¡é‡Œå­˜æ”¾äº†ä¸€ä¸ªå±æ€§ã€ä¸€ä¸ªæ–¹æ³•ï¼‰ã€‚ç¨åï¼Œæˆ‘ä»¬æ³¨æ„åœ¨main.jsé‡Œæ˜¯æ€ä¹ˆå¼•å…¥module4.jsçš„ã€‚</p><p>å¦‚æœæˆ‘æƒ³æš´éœ²å¤šä¸ªå±æ€§ã€å¤šä¸ªå¯¹è±¡æ€å‘¢ï¼Ÿå¾ˆç®€å•ï¼ŒæŠŠä½ æƒ³è¦æš´éœ²çš„æ‰€æœ‰å†…å®¹ï¼Œéƒ½æ”¾åœ¨defaulté‡Œï¼ŒåŒ…æˆä¸€ä¸ªå¯¹è±¡ã€‚ä½ çœ‹module4.jså°±æ˜¯å¦‚æ­¤ï¼Œ åŒæ—¶æš´éœ²äº†å¤šä¸ªå±æ€§&æ–¹æ³•ã€‚</p><p>ï¼ˆ5ï¼‰main.jsï¼š</p><p>è¿™ä¸ªæ˜¯ä¸»æ¨¡å—ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå®ƒå¦‚ä½•å¼•å…¥ä¸Šé¢çš„å››ä¸ªæ¨¡å—ã€‚</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//ä¸»æ¨¡å—ã€‚å¼•å…¥å…¶ä»–çš„æ¨¡å—
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#af3a03>import</span> { foo1, foo2 } from <span style=color:#79740e>&#39;./module1&#39;</span>; <span style=color:#928374;font-style:italic>//é‡‡ç”¨è§£æ„èµ‹å€¼çš„å½¢å¼è¿›è¡Œå¯¼å…¥ã€‚æ³¨æ„ï¼Œæ‹¬å·é‡Œçš„å¯¹è±¡åï¼Œè¦å’Œ module1 ä¸­çš„å¯¹è±¡åä¸€è‡´ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>import</span> { fn1, fn2 } from <span style=color:#79740e>&#39;./module2&#39;</span>;   <span style=color:#928374;font-style:italic>//é‡‡ç”¨è§£æ„èµ‹å€¼çš„å½¢å¼è¿›è¡Œå¯¼å…¥ã€‚æ³¨æ„ï¼Œæ‹¬å·é‡Œçš„å¯¹è±¡åï¼Œè¦å’Œ module2 ä¸­çš„å¯¹è±¡åä¸€è‡´ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>import</span> myModule3 from <span style=color:#79740e>&#39;./module3&#39;</span>;   <span style=color:#928374;font-style:italic>//module3 æ¨¡å—æ˜¯é‡‡ç”¨ default æ–¹å¼è¿›è¡Œæš´éœ²çš„ï¼ŒmyModule3 è¿™ä¸ªåå­—æ˜¯æˆ‘éšä¾¿èµ·çš„
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#af3a03>import</span> myModule4 from <span style=color:#79740e>&#39;./module4&#39;</span>;   <span style=color:#928374;font-style:italic>//module4 æ¨¡å—æ˜¯é‡‡ç”¨ default æ–¹å¼è¿›è¡Œæš´éœ²çš„ï¼ŒmyModule4 è¿™ä¸ªåå­—æ˜¯æˆ‘éšä¾¿èµ·çš„
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//è°ƒç”¨module1ã€module2ä¸­çš„å†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>foo1();
</span></span><span style=display:flex><span>foo2();
</span></span><span style=display:flex><span>fn1();
</span></span><span style=display:flex><span>fn2();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//è°ƒç”¨module3ä¸­çš„å†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>myModule3();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//è°ƒç”¨module4ä¸­çš„å†…å®¹
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>console.log(myModule4.name);  <span style=color:#928374;font-style:italic>//module4ä¸­çš„å±æ€§
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>myModule4.foo();              <span style=color:#928374;font-style:italic>//module4ä¸­çš„æ–¹æ³•
</span></span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼šï¼ˆå…·ä½“è¯·çœ‹æ³¨é‡Šï¼Œéå¸¸é‡è¦ï¼‰</p><ul><li><p>module1å’Œmodule2æ˜¯é‡‡ç”¨<strong>å¸¸è§„æš´éœ²</strong>çš„å½¢å¼ï¼Œåœ¨å¼•å…¥å®ƒä»¬æ—¶ï¼Œæ¨¡å—åè¦ä¸€è‡´ã€‚è€Œä¸”ï¼Œè¦æ±‚ç”¨<strong>å¯¹è±¡è§£æ„èµ‹å€¼</strong>çš„å½¢å¼ï¼Œè€Œä¸æ˜¯ç”¨ <code>import myModule from ...</code>è¿™ç§å½¢å¼ï¼ˆå¦åˆ™ä¼šæŠ¥é”™ undefinedï¼‰ã€‚</p></li><li><p>module2å’Œmodule3æ˜¯é‡‡ç”¨<strong>é»˜è®¤æš´éœ²</strong>çš„å½¢å¼ï¼Œåœ¨å¼•å…¥å®ƒä»¬æ—¶ï¼Œæ¨¡å—åéšä¾¿èµ·ã€‚</p></li></ul><p>ï¼ˆ6ï¼‰index.htmlï¼š</p><p>åœ¨è¿™é‡Œå¼•å…¥main.jså³å¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>name</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;viewport&#34;</span> <span style=color:#79740e;font-weight:700>content</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>http-equiv</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;X-UA-Compatible&#34;</span> <span style=color:#79740e;font-weight:700>content</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;ie=edge&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;Document&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>script</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;dist/main.js&#34;</span>&gt;&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><h3 id=4ç¼–è¯‘è½¬æ¢>4ã€ç¼–è¯‘è½¬æ¢<a hidden class=anchor aria-hidden=true href=#4ç¼–è¯‘è½¬æ¢>#</a></h3><p>å¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œè½¬æ¢ï¼Œè€Œæ˜¯ç›´æ¥åœ¨ index.html ä¸­åŠ è½½ js/src/main.jsï¼Œæ˜¯ä¼šæŠ¥é”™çš„ï¼š</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¿›è¡Œè½¬æ¢ã€‚</p><p>ï¼ˆ1ï¼‰åˆ©ç”¨ babel å°† ES6 è½¬æ¢ä¸º ES5ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>babel src -d build      //buildç›®å½•ä¼šè‡ªåŠ¨ç”Ÿæˆ
</span></span></code></pre></div><p>ä¸Šæ–¹å‘½ä»¤çš„æ„æ€æ˜¯ï¼Œå°†<code>src</code>ç›®å½•ä¸‹çš„æ‰€æœ‰ES6æ–‡ä»¶è½¬åŒ–ä¸ºES5æ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨<code>build</code>ç›®å½•ä¸‹ï¼ˆ<code>build</code>ç›®å½•ä¼šè¢«è‡ªåŠ¨åˆ›å»ºï¼‰ã€‚</p><p>è½¬åŒ–æˆES5ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœç›´æ¥åœ¨ index.html ä¸­åŠ è½½<code>build</code>ç›®å½•ä¸‹çš„ES5æ–‡ä»¶ï¼Œä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºæµè§ˆå™¨ä¸è®¤è¯†<code>main.js</code>é‡Œçš„<code>require</code>å…³é”®å­—ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180414_1410.png alt></p><p>äºæ˜¯ï¼Œæˆ‘ä»¬è¿˜è¦è¿›è¡Œä¸€æ¬¡è½¬æ¢ã€‚</p><p>ï¼ˆ2ï¼‰åˆ©ç”¨<code>Browserify</code>ç¼–è¯‘æ‰“åŒ… <code>build</code>ç›®å½•ä¸‹çš„ ES5 æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>browserify build/main.js -o dist/main.js     //distç›®å½•éœ€è¦æ‰‹åŠ¨åˆ›å»º
</span></span></code></pre></div><p>dist/main.jså°±æ˜¯æˆ‘ä»¬éœ€è¦å¼•å…¥åˆ° index.html é‡Œçš„æ–‡ä»¶ã€‚</p><p>ä»¥åï¼Œæˆ‘ä»¬æ¯æ¬¡ä¿®æ”¹å®ŒES6çš„ä»£ç ï¼Œå°±è¦æ‰§è¡Œä¸Šé¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆæ–°çš„jsæ–‡ä»¶ã€‚</p><p>è¿è¡Œæ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180414_1615.png alt></p><p>å·¥ç¨‹æ–‡ä»¶ï¼š</p><ul><li><a href=https://download.csdn.net/download/smyhvae/10348940>2018-04-13-ES6Demo.rar</a></li></ul><h2 id=es6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—>ES6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹ï¼ˆå¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰<a hidden class=anchor aria-hidden=true href=#es6æ¨¡å—åŒ–çš„ä½¿ç”¨ä¸¾ä¾‹å¼•å…¥ç¬¬ä¸‰æ–¹æ¨¡å—>#</a></h2><p>ä¸‹è½½ jQuery åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>npm install jquery@1      //ä¸‹è½½jQuery 1.X çš„ç‰ˆæœ¬é‡Œæœ€æ–°çš„
</span></span></code></pre></div><p>åœ¨main.js ä¸­å¼•å…¥ä¸Šé¢çš„ jQueryï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import $ from &#39;jQuery&#39;;
</span></span></code></pre></div><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>$</code>è¿™ä¸ªç¬¦å·å»å†™jQueryçš„ä»£ç äº†ã€‚</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/node/>Node</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/tech/wait/10-node.js%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93/javascript%E6%A8%A1%E5%9D%97%E5%8C%96cmd/><span class=title>Â« Prev</span><br><span>JavaScriptæ¨¡å—åŒ–ï¼šCMD</span></a>
<a class=next href=https://bablvsj.github.io/posts/interview/css/03-less%E8%AF%A6%E8%A7%A3/><span class=title>Next Â»</span><br><span>Lessè¯¦è§£</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>