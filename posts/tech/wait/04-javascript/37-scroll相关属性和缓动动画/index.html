<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”» | Bablvsj's Blog</title><meta name=keywords content="JavaScript"><meta name=description content="scroll ç›¸å…³å±æ€§ window.onscroll() æ–¹æ³• å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰ å¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/tech/wait/04-javascript/37-scroll%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E7%BC%93%E5%8A%A8%E5%8A%A8%E7%94%BB/><link crossorigin=anonymous href=/assets/css/stylesheet.89e53fb10d7090a33517d83b18da1cdb3f4d7bfa546525e8b3cf5a41f9817fb5.css integrity="sha256-ieU/sQ1wkKM1F9g7GNoc2z9Ne/pUZSXos89aQfmBf7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»"><meta property="og:description" content="scroll ç›¸å…³å±æ€§ window.onscroll() æ–¹æ³• å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰ å¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/tech/wait/04-javascript/37-scroll%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E7%BC%93%E5%8A%A8%E5%8A%A8%E7%94%BB/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-01T17:11:35+08:00"><meta property="article:modified_time" content="2020-01-01T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»"><meta name=twitter:description content="scroll ç›¸å…³å±æ€§ window.onscroll() æ–¹æ³• å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰ å¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»","item":"https://bablvsj.github.io/posts/tech/wait/04-javascript/37-scroll%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E7%BC%93%E5%8A%A8%E5%8A%A8%E7%94%BB/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»","name":"37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»","description":"scroll ç›¸å…³å±æ€§ window.onscroll() æ–¹æ³• å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰ å¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚","keywords":["JavaScript"],"articleBody":"scroll ç›¸å…³å±æ€§ window.onscroll() æ–¹æ³• å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰\nå¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚\næˆ‘ä»¬æ¥çœ‹çœ‹å’Œ scroll ç›¸å…³çš„æœ‰å“ªäº›å±æ€§ã€‚\n1ã€ScrollWidth å’Œ scrollHeight ScrollWidth å’Œ scrollHeightï¼šè·å–å…ƒç´ æ•´ä¸ªæ»šåŠ¨åŒºåŸŸçš„å®½ã€é«˜ã€‚åŒ…æ‹¬ width å’Œ paddingï¼Œä¸åŒ…æ‹¬ borderå’Œmarginã€‚\næ³¨æ„ï¼š\nscrollHeight çš„ç‰¹ç‚¹æ˜¯ï¼šå¦‚æœå†…å®¹è¶…å‡ºäº†ç›’å­ï¼ŒscrollHeightä¸ºå†…å®¹çš„é«˜ï¼ˆåŒ…æ‹¬è¶…å‡ºçš„å†…å®¹ï¼‰ï¼›å¦‚æœä¸è¶…å‡ºï¼ŒscrollHeightä¸ºç›’å­æœ¬èº«çš„é«˜åº¦ã€‚ScrollWidthåŒç†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e div { width: 100px; height: 100px; padding: 10px; margin: 3px; border: 8px solid red; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box\"\u003e é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚ \u003c/div\u003e \u003cscript\u003e var div = document.getElementsByTagName(\"div\")[0]; // `scrollHeight` çš„ç‰¹ç‚¹æ˜¯ï¼šå¦‚æœå†…å®¹è¶…å‡ºäº†ç›’å­ï¼Œ`scrollHeight`ä¸ºå†…å®¹çš„é«˜ï¼ˆåŒ…æ‹¬è¶…å‡ºçš„å†…å®¹ï¼‰ï¼›å¦‚æœä¸è¶…å‡ºï¼Œ`scrollHeight`ä¸ºç›’å­æœ¬èº«çš„é«˜åº¦ã€‚ //IE8ä»¥ä¸‹ï¼ˆä¸åŒ…æ‹¬IE8ï¼‰ï¼Œä¸ºç›’å­æœ¬èº«å†…å®¹çš„é«˜åº¦ã€‚ console.log(div.scrollWidth); console.log(div.scrollHeight); \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e æ‰“å°ç»“æœï¼š\n2ã€scrollTop å’Œ scrollLeft scrollLeftï¼šè·å–æ°´å¹³æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦»ã€‚\nscrollTopï¼šè·å–å‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦»ã€‚\nå®æˆ˜ç»éªŒï¼š\nå½“æŸä¸ªå…ƒç´ æ»¡è¶³scrollHeight - scrollTop == clientHeightæ—¶ï¼Œè¯´æ˜å‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨åˆ°åº•äº†ã€‚\nå½“æŸä¸ªå…ƒç´ æ»¡è¶³scrollWidth - scrollLeft == clientWidthæ—¶ï¼Œè¯´æ˜æ°´å¹³æ»šåŠ¨æ¡æ»šåŠ¨åˆ°åº•äº†ã€‚\nè¿™ä¸ªå®æˆ˜ç»éªŒéå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»å°†å†…å®¹æ»‘åŠ¨åˆ°åº•äº†ã€‚æ¯”å¦‚è¯´ï¼Œæœ‰äº›åœºæ™¯ä¸‹ï¼Œå¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿçœ‹å®Œâ€œé•¿é•¿çš„æ´»åŠ¨è§„åˆ™â€ï¼Œæ‰å…è®¸è§¦å‘æ¥ä¸‹æ¥çš„è¡¨å•æ“ä½œã€‚\nscrollTop çš„å…¼å®¹æ€§ å¦‚æœè¦è·å–é¡µé¢æ»šåŠ¨çš„è·ç¦»ï¼ŒscrollTop è¿™ä¸ªå±æ€§çš„å†™æ³•è¦æ³¨æ„å…¼å®¹æ€§ï¼Œå¦‚ä¸‹ã€‚\nï¼ˆ1ï¼‰å¦‚æœæ–‡æ¡£æ²¡æœ‰ DTD å£°æ˜ï¼Œå†™æ³•ä¸ºï¼š\n1 document.body.scrollTop åœ¨æ²¡æœ‰ DTD å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¦æ±‚æ˜¯è¿™ç§å†™æ³•ï¼Œchromeæµè§ˆå™¨æ‰èƒ½è®¤å‡ºæ¥ã€‚\nï¼ˆ2ï¼‰å¦‚æœæ–‡æ¡£æœ‰ DTD å£°æ˜ï¼Œå†™æ³•ä¸ºï¼š\n1 document.documentElement.scrollTop åœ¨æœ‰ DTD å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¦æ±‚æ˜¯è¿™ç§å†™æ³•ï¼ŒIE6ã€7ã€8æ‰èƒ½è®¤å‡ºæ¥ã€‚\nç»¼åˆä¸Šé¢è¿™ä¸¤ä¸ªï¼Œå°±è¯ç”Ÿäº†ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ï¼š\n1 2 3 document.body.scrollTop || document.documentElement.scrollTop //æ–¹å¼ä¸€ document.body.scrollTop + document.documentElement.scrollTop //æ–¹å¼äºŒ å¦å¤–è¿˜æœ‰ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ï¼šwindow.pageYOffset å’Œ window.pageXOffsetã€‚è¿™ç§å†™æ³•æ— è§†DTDçš„å£°æ˜ã€‚è¿™ç§å†™æ³•æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬æ˜¯ï¼šç«ç‹/è°·æ­Œ/ie9+ã€‚\nç»¼åˆä¸Šé¢çš„å‡ ç§å†™æ³•ï¼Œä¸ºäº†å…¼å®¹ï¼Œä¸ç®¡æœ‰æ²¡æœ‰DTDï¼Œæœ€ç»ˆç‰ˆçš„å…¼å®¹æ€§å†™æ³•ï¼š\n1 window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop; åˆ¤æ–­æ˜¯å¦å·²ç» DTD å£°æ˜ æ–¹æ³•å¦‚ä¸‹ï¼š\n1 2 document.compatMode === \"CSS1Compat\" // å·²å£°æ˜ document.compatMode === \"BackCompat\" // æœªå£°æ˜ å°† scrollTop å’Œ scrollLeft è¿›è¡Œå°è£… è¿™é‡Œï¼Œæˆ‘ä»¬å°† scrollTop å’Œ scrollLeft å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œåå«scroll()ï¼Œè¿”å›å€¼ä¸º ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥åå°±ç›´æ¥è°ƒç”¨scroll().top å’Œ scroll().leftå°±å¥½ã€‚\nä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e body { height: 6000px; width: 5000px; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cscript\u003e //éœ€æ±‚ï¼šå°è£…ä¸€ä¸ªå…¼å®¹çš„scroll().è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œç”¨scroll().topè·å–scrollTopï¼Œç”¨scroll().leftè·å–scrollLeft window.onscroll = function () { // var myScroll = scroll(); // myScroll.top; console.log(scroll().top); console.log(scroll().left); } //å‡½æ•°å°è£…ï¼ˆç®€å•å°è£…ï¼Œå®é™…å·¥ä½œä½¿ç”¨ï¼‰ function scroll() { return { //æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡ left: window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop, right: window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft } } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e ä¸Šæ–¹ä»£ç ä¸­ï¼Œå‡½æ•°å®šä¹‰çš„é‚£éƒ¨åˆ†å°±æ˜¯è¦å°è£…çš„ä»£ç ã€‚\nå¦å¤–è¿˜æœ‰ä¸€ç§æ¯”è¾ƒéº»çƒ¦çš„å°è£…æ–¹å¼ï¼šï¼ˆä»…ä¾›å‚è€ƒï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function scroll() { // å¼€å§‹å°è£…è‡ªå·±çš„scrollTop if(window.pageYOffset !== undefined) { // ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨ // å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯ 0 æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­ return { left: window.pageXOffset, top: window.pageYOffset } } else if(document.compatMode === \"CSS1Compat\") { // æ ‡å‡†æµè§ˆå™¨ æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD return { left: document.documentElement.scrollLeft, top: document.documentElement.scrollTop } } return { // æœªå£°æ˜ DTD left: document.body.scrollLeft, top: document.body.scrollTop } } è·å– html æ–‡æ¡£çš„æ–¹æ³• è·å–titleã€bodyã€headã€htmlæ ‡ç­¾çš„æ–¹æ³•å¦‚ä¸‹ï¼š\ndocument.title æ–‡æ¡£æ ‡é¢˜ï¼›\ndocument.head æ–‡æ¡£çš„å¤´æ ‡ç­¾\ndocument.body æ–‡æ¡£çš„bodyæ ‡ç­¾ï¼›\ndocument.documentElement ï¼ˆè¿™ä¸ªå¾ˆé‡è¦ï¼‰ã€‚\ndocument.documentElementè¡¨ç¤ºæ–‡æ¡£çš„htmlæ ‡ç­¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºæœ¬ç»“æ„å½“ä¸­çš„ html æ ‡ç­¾è€Œæ˜¯é€šè¿‡document.documentElementè®¿é—®çš„ï¼Œå¹¶ä¸æ˜¯é€šè¿‡ document.html å»è®¿é—®çš„ã€‚\nscrollTop ä¸¾ä¾‹ï¼šå›ºå®šå¯¼èˆªæ  å®Œæ•´ç‰ˆä»£ç å®ç°ï¼š\nï¼ˆ1ï¼‰index.htmlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e * { margin: 0; padding: 0 } img { vertical-align: top; } .main { margin: 0 auto; width: 1000px; margin-top: 10px; } #Q-nav1 { overflow: hidden; } .fixed { position: fixed; top: 0; left: 0; } \u003c/style\u003e \u003cscript src=\"tools.js\"\u003e\u003c/script\u003e \u003cscript\u003e window.onload = function () { //éœ€æ±‚1ï¼šå½“æˆ‘ä»¬æ»šåŠ¨ç•Œé¢çš„æ—¶å€™ï¼Œè¢«å·æ›²çš„å¤´éƒ¨å¦‚æœè¶…è¿‡ç¬¬äºŒä¸ªç›’å­è·ç¦»é¡¶éƒ¨çš„ä½ç½®ï¼Œé‚£ä¹ˆç›´æ¥ç»™ç¬¬äºŒä¸ªç›’å­åŠ ç±»å.fixed //éœ€æ±‚2ï¼šå½“æˆ‘ä»¬æ»šåŠ¨ç•Œé¢çš„æ—¶å€™ï¼Œè¢«å·æ›²çš„å¤´éƒ¨å¦‚æœå°äºç¬¬äºŒä¸ªç›’å­è·ç¦»é¡¶éƒ¨çš„ä½ç½®ï¼Œé‚£ä¹ˆç›´æ¥ç»™ç¬¬äºŒä¸ªç›’å­å–æ¶ˆç±»å.fixed //1.è€ä¸‰æ­¥ã€‚ var topDiv = document.getElementById(\"top\"); var height = topDiv.offsetHeight; var middle = document.getElementById(\"Q-nav1\"); var main = document.getElementById(\"main\"); window.onscroll = function () { //2.åˆ¤æ–­ ï¼Œè¢«å·æ›²çš„å¤´éƒ¨çš„å¤§å° if (scroll().top \u003e height) { //3.æ»¡è¶³æ¡ä»¶æ·»åŠ ç±»ï¼Œå¦åˆ™åˆ é™¤ç±» middle.className += \" fixed\"; //ç¬¬äºŒä¸ªç›’å­ä¹Ÿè¦å ä½ç½®ï¼Œä¸ºäº†é¿å…é‡å ï¼Œæˆ‘ä»¬ç»™ç¬¬ä¸‰ä¸ªç›’å­ä¸€ä¸ªä¸Špaddingçš„ç©ºé—´ï¼ŒæŠŠè¿™ä¸ªç©ºé—´ç•™ç»™ç¬¬äºŒä¸ªç›’å­ main.style.paddingTop = middle.offsetHeight + \"px\"; } else { middle.className = \"\"; //æ¸…é›¶ main.style.paddingTop = 0; } } } \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"top\" id=\"top\"\u003e \u003cimg src=\"images/top.png\" alt=\"\"/\u003e \u003c/div\u003e \u003cdiv id=\"Q-nav1\"\u003e \u003cimg src=\"images/nav.png\" alt=\"\"/\u003e \u003c/div\u003e \u003cdiv class=\"main\" id=\"main\"\u003e \u003cimg src=\"images/main.png\" alt=\"\"/\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ä¸Šæ–¹ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªæŠ€å·§ï¼š\n1 main.style.paddingTop = middle.offsetHeight + \"px\"; ä»”ç»†çœ‹æ³¨é‡Šå°±å¥½ã€‚\nï¼ˆ2ï¼‰tools.jsï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /** * Created by smyhvae on 2018/02/03. */ function scroll() { // å¼€å§‹å°è£…è‡ªå·±çš„scrollTop if (window.pageYOffset !== undefined) { // ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨ // å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯ 0 æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­ return { left: window.pageXOffset, top: window.pageYOffset } } else if (document.compatMode === \"CSS1Compat\") { // æ ‡å‡†æµè§ˆå™¨ æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD return { left: document.documentElement.scrollLeft, top: document.documentElement.scrollTop } } return { // æœªå£°æ˜ DTD left: document.body.scrollLeft, top: document.body.scrollTop } } å®ç°æ•ˆæœï¼š\nå·¥ç¨‹æ–‡ä»¶ï¼š\n2018-02-03-scrollTopå›ºå®šå¯¼èˆªæ .rar ç¼“åŠ¨åŠ¨ç”» ä¸‰ä¸ªå‡½æ•° ç¼“æ…¢åŠ¨ç”»é‡Œï¼Œæˆ‘ä»¬è¦ç”¨åˆ°ä¸‰ä¸ªå‡½æ•°ï¼Œè¿™é‡Œå…ˆåˆ—å‡ºæ¥ï¼š\nMath.ceil() å‘ä¸Šå–æ•´\nMath.floor() å‘ä¸‹å–æ•´\nMath.round(); å››èˆäº”å…¥\nç¼“åŠ¨åŠ¨ç”»çš„åŸç† ç¼“åŠ¨åŠ¨ç”»çš„åŸç†å°±æ˜¯ï¼šåœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ­¥é•¿è¶Šæ¥è¶Šå°ã€‚\nè®¾ç½®æ­¥é•¿ä¸ºï¼šç›®æ ‡ä½ç½®å’Œç›’å­å½“å‰ä½ç½®çš„ååˆ†ä¹‹ä¸€ã€‚ç”¨å…¬å¼è¡¨è¾¾ï¼Œå³ï¼š\n1 ç›’å­ä½ç½® = ç›’å­æœ¬èº«ä½ç½® + (ç›®æ ‡ä½ç½® - ç›’å­æœ¬èº«ä½ç½®)/ 10ï¼› ä»£ç ä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e div { width: 100px; height: 100px; background-color: pink; position: absolute; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cbutton\u003eè¿åŠ¨åˆ°left = 400px\u003c/button\u003e \u003cdiv\u003e\u003c/div\u003e \u003cscript\u003e var btn = document.getElementsByTagName(\"button\")[0]; var div = document.getElementsByTagName(\"div\")[0]; btn.onclick = function () { setInterval(function () { //åŠ¨ç”»åŸç†ï¼šç›’å­æœªæ¥çš„ä½ç½® = ç›’å­å½“å‰çš„ä½ç½®+æ­¥é•¿ div.style.left = div.offsetLeft + (400 - div.offsetLeft) / 10 + \"px\"; }, 30); } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e æ•ˆæœï¼š\nç¼“æ…¢åŠ¨ç”»çš„å°è£…ï¼ˆè§£å†³å››èˆäº”å…¥çš„é—®é¢˜ï¼‰ æˆ‘ä»¬å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šå›¾ä¸­çš„ç›’å­æœ€ç»ˆå¹¶æ²¡æœ‰åˆ°è¾¾400pxçš„ä½ç½®ï¼Œè€Œæ˜¯åªåˆ°äº†396.04pxå°±åœä½äº†ï¼š\nåŸå› æ˜¯ï¼šJSåœ¨å–æ•´çš„è¿ç®—æ—¶ï¼Œè¿›è¡Œäº†å››èˆäº”å…¥ã€‚\næˆ‘ä»¬æŠŠæ‰“å°396.04pxè¿™ä¸ªleftå€¼æ‰“å°å‡ºæ¥çœ‹çœ‹ï¼š\næˆ‘ä¹ˆå‘ç°ï¼Œé€šè¿‡div.style.leftè·å–çš„å€¼æ˜¯ç²¾ç¡®çš„ï¼Œé€šè¿‡div.offsetLeftè·å–çš„leftå€¼ä¼šè¿›è¡Œå››èˆäº”å…¥ã€‚\næ­¤æ—¶ï¼Œæˆ‘ä»¬å°±è¦ç”¨åˆ°å–æ•´çš„å‡½æ•°äº†ã€‚\né€šè¿‡å¯¹ç¼“åŠ¨åŠ¨ç”»è¿›è¡Œå°è£…ï¼Œå®Œæ•´ç‰ˆçš„ä»£ç å®ç°å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e div { width: 100px; height: 100px; background-color: pink; position: absolute; left: 0; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cbutton\u003eè¿åŠ¨åˆ°200\u003c/button\u003e \u003cbutton\u003eè¿åŠ¨åˆ°400\u003c/button\u003e \u003cdiv\u003e\u003c/div\u003e \u003cscript\u003e var btn = document.getElementsByTagName(\"button\"); var div = document.getElementsByTagName(\"div\")[0]; btn[0].onclick = function () { animate(div, 200); } btn[1].onclick = function () { animate(div, 400); } //ç¼“åŠ¨åŠ¨ç”»å°è£… function animate(ele, target) { //è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…å®šæ—¶å™¨ //ä¸€ä¸ªèåœä¸€ä¸ªå‘å„¿ï¼Œä¸€ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªå®šæ—¶å™¨ clearInterval(ele.timer); //å®šä¹‰å®šæ—¶å™¨ ele.timer = setInterval(function () { //è·å–æ­¥é•¿ //æ­¥é•¿åº”è¯¥æ˜¯è¶Šæ¥è¶Šå°çš„ï¼Œç¼“åŠ¨çš„ç®—æ³•ã€‚ var step = (target - ele.offsetLeft) / 10; //å¯¹æ­¥é•¿è¿›è¡ŒäºŒæ¬¡åŠ å·¥(å¤§äº0å‘ä¸Šå–æ•´,å°äº0å‘ä¸‹å–æ•´) //è¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼šæœ€å10åƒç´ çš„æ—¶å€™éƒ½æ˜¯1åƒç´ 1åƒç´ çš„å‘ç›®æ ‡ä½ç½®ç§»åŠ¨ï¼Œå°±èƒ½å¤Ÿåˆ°è¾¾æŒ‡å®šä½ç½®ã€‚ step = step \u003e 0 ? Math.ceil(step) : Math.floor(step); //åŠ¨ç”»åŸç†ï¼š ç›®æ ‡ä½ç½® = å½“å‰ä½ç½® + æ­¥é•¿ ele.style.left = ele.offsetLeft + step + \"px\"; console.log(step); //æ£€æµ‹ç¼“åŠ¨åŠ¨ç”»æœ‰æ²¡æœ‰åœæ­¢ console.log(\"smyhvae\"); if (Math.abs(target - ele.offsetLeft) \u003c= Math.abs(step)) { //å¤„ç†å°æ•°èµ‹å€¼ ele.style.left = target + \"px\"; clearInterval(ele.timer); } }, 30); } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e å®ç°æ•ˆæœï¼š\nwindow.scrollTo()æ–¹æ³•ä¸¾ä¾‹ï¼šè¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­ ï¼ˆ1ï¼‰index.htmlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e img { position: fixed; bottom: 100px; right: 50px; cursor: pointer; display: none; border: 1px solid #000; } div { width: 1210px; margin: 100px auto; text-align: center; font: 500 26px/35px \"simsun\"; color: red; } \u003c/style\u003e \u003cscript src=\"tools.js\"\u003e\u003c/script\u003e \u003cscript\u003e window.onload = function () { //éœ€æ±‚ï¼šè¢«å·å»çš„å¤´éƒ¨è¶…è¿‡100æ˜¾ç¤ºå°ç«ç®­ï¼Œç„¶åç‚¹å‡»å°ç«ç®­å±å¹•ç¼“æ…¢ç§»åŠ¨åˆ°æœ€é¡¶ç«¯ã€‚ //éš¾ç‚¹ï¼šæˆ‘ä»¬ä»¥å‰æ˜¯ç§»åŠ¨ç›’å­ï¼Œç°åœ¨æ˜¯ç§»åŠ¨å±å¹•ï¼Œæˆ‘ä»¬æ²¡æœ‰å­¦è¿‡å¦‚ä½•ç§»åŠ¨å±å¹•ã€‚ // æŠ€æœ¯ç‚¹ï¼šwindow.scrollTo(x,y);æµè§ˆå™¨æ˜¾ç¤ºåŒºåŸŸè·³è½¬åˆ°æŒ‡å®šçš„åæ ‡ //æ­¥éª¤ï¼š //1.è€ä¸‰æ­¥ var img = document.getElementsByTagName(\"img\")[0]; window.onscroll = function () { //è¢«å·å»çš„è·ç¦»å¤§äº200æ˜¾ç¤ºå°ç«ç®­ï¼Œå¦åˆ™éšè— //2.æ˜¾ç¤ºéšè—å°ç«ç®­ if (scroll().top \u003e 1000) { img.style.display = \"block\"; } else { img.style.display = \"none\"; } //æ¯æ¬¡ç§»åŠ¨æ»šåŠ¨æ¡çš„æ—¶å€™éƒ½ç»™leaderèµ‹å€¼ï¼Œæ¨¡æ‹Ÿleaderè·å–è·ç¦»é¡¶éƒ¨çš„è·ç¦» leader = scroll().top; } //3.ç¼“åŠ¨è·³è½¬åˆ°é¡µé¢æœ€é¡¶ç«¯ï¼ˆåˆ©ç”¨æˆ‘ä»¬çš„ç¼“åŠ¨åŠ¨ç”»ï¼‰ var timer = null; var target = 0; //ç›®æ ‡ä½ç½® var leader = 0; //æ˜¾ç¤ºåŒºåŸŸè‡ªèº«çš„ä½ç½® img.onclick = function () { //æŠ€æœ¯ç‚¹ï¼šwindow.scrollTo(0,0); //è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…å®šæ—¶å™¨ clearInterval(timer); timer = setInterval(function () { //è·å–æ­¥é•¿ var step = (target - leader) / 10; //äºŒæ¬¡å¤„ç†æ­¥é•¿ step = step \u003e 0 ? Math.ceil(step) : Math.floor(step); leader = leader + step; //å¾€ä¸Šç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œstepæ˜¯è´Ÿæ•°ã€‚å½“å‰ä½ç½®å‡å»æ­¥é•¿ï¼Œå°±ç­‰äºä¸‹ä¸€æ­¥çš„ä½ç½®ã€‚ //æ˜¾ç¤ºåŒºåŸŸç§»åŠ¨ window.scrollTo(0, leader); //æ¸…é™¤å®šæ—¶å™¨ if (leader === 0) { clearInterval(timer); } }, 25); } } \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cimg src=\"images/Top.jpg\"/\u003e \u003cdiv\u003e æˆ‘æ˜¯æœ€é¡¶ç«¯.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....\u003cbr\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ï¼ˆ2ï¼‰tools.js:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 /** * Created by smyhvae on 2015/12/8. */ //å‡½æ•°ï¼šè·å–scrollTopå’ŒscrollLeftçš„å€¼ function scroll() { // å¼€å§‹å°è£…è‡ªå·±çš„scrollTop if (window.pageYOffset != null) { // ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨ // å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯ 0 æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­ return { left: window.pageXOffset, top: window.pageYOffset } } else if (document.compatMode === \"CSS1Compat\") { // æ ‡å‡†æµè§ˆå™¨ æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD return { left: document.documentElement.scrollLeft, top: document.documentElement.scrollTop } } return { // æœªå£°æ˜ DTD left: document.body.scrollLeft, top: document.body.scrollTop } } å®ç°æ•ˆæœï¼š\nå°ç«ç®­çš„å›¾ç‰‡èµ„æºï¼š\n","wordCount":"5961","inLanguage":"en","datePublished":"2020-01-01T17:11:35+08:00","dateModified":"2020-01-01T17:11:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/tech/wait/04-javascript/37-scroll%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E7%BC%93%E5%8A%A8%E5%8A%A8%E7%94%BB/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»</h1><div class=post-meta><ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></ul>12 min&nbsp;Â·&nbsp;<span title='2020-01-01 17:11:35 +0800 +0800'>2020/01/01</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#scroll-%e7%9b%b8%e5%85%b3%e5%b1%9e%e6%80%a7 aria-label="scroll ç›¸å…³å±æ€§">scroll ç›¸å…³å±æ€§</a><ul><li><a href=#windowonscroll-%e6%96%b9%e6%b3%95 aria-label="window.onscroll() æ–¹æ³•">window.onscroll() æ–¹æ³•</a></li><li><a href=#1scrollwidth-%e5%92%8c-scrollheight aria-label="1ã€ScrollWidth å’Œ scrollHeight">1ã€ScrollWidth å’Œ scrollHeight</a></li><li><a href=#2scrolltop-%e5%92%8c-scrollleft aria-label="2ã€scrollTop å’Œ scrollLeft">2ã€scrollTop å’Œ scrollLeft</a></li><li><a href=#scrolltop-%e7%9a%84%e5%85%bc%e5%ae%b9%e6%80%a7 aria-label="scrollTop çš„å…¼å®¹æ€§">scrollTop çš„å…¼å®¹æ€§</a></li><li><a href=#%e5%88%a4%e6%96%ad%e6%98%af%e5%90%a6%e5%b7%b2%e7%bb%8f-dtd-%e5%a3%b0%e6%98%8e aria-label="åˆ¤æ–­æ˜¯å¦å·²ç» DTD å£°æ˜">åˆ¤æ–­æ˜¯å¦å·²ç» DTD å£°æ˜</a></li><li><a href=#%e5%b0%86-scrolltop-%e5%92%8c-scrollleft-%e8%bf%9b%e8%a1%8c%e5%b0%81%e8%a3%85 aria-label="å°† scrollTop å’Œ scrollLeft è¿›è¡Œå°è£…">å°† scrollTop å’Œ scrollLeft è¿›è¡Œå°è£…</a></li></ul></li><li><a href=#%e8%8e%b7%e5%8f%96-html-%e6%96%87%e6%a1%a3%e7%9a%84%e6%96%b9%e6%b3%95 aria-label="è·å– html æ–‡æ¡£çš„æ–¹æ³•">è·å– html æ–‡æ¡£çš„æ–¹æ³•</a></li><li><a href=#scrolltop-%e4%b8%be%e4%be%8b%e5%9b%ba%e5%ae%9a%e5%af%bc%e8%88%aa%e6%a0%8f aria-label="scrollTop ä¸¾ä¾‹ï¼šå›ºå®šå¯¼èˆªæ ">scrollTop ä¸¾ä¾‹ï¼šå›ºå®šå¯¼èˆªæ </a></li><li><a href=#%e7%bc%93%e5%8a%a8%e5%8a%a8%e7%94%bb aria-label=ç¼“åŠ¨åŠ¨ç”»>ç¼“åŠ¨åŠ¨ç”»</a><ul><li><a href=#%e4%b8%89%e4%b8%aa%e5%87%bd%e6%95%b0 aria-label=ä¸‰ä¸ªå‡½æ•°>ä¸‰ä¸ªå‡½æ•°</a></li><li><a href=#%e7%bc%93%e5%8a%a8%e5%8a%a8%e7%94%bb%e7%9a%84%e5%8e%9f%e7%90%86 aria-label=ç¼“åŠ¨åŠ¨ç”»çš„åŸç†>ç¼“åŠ¨åŠ¨ç”»çš„åŸç†</a></li><li><a href=#%e7%bc%93%e6%85%a2%e5%8a%a8%e7%94%bb%e7%9a%84%e5%b0%81%e8%a3%85%e8%a7%a3%e5%86%b3%e5%9b%9b%e8%88%8d%e4%ba%94%e5%85%a5%e7%9a%84%e9%97%ae%e9%a2%98 aria-label=ç¼“æ…¢åŠ¨ç”»çš„å°è£…ï¼ˆè§£å†³å››èˆäº”å…¥çš„é—®é¢˜ï¼‰>ç¼“æ…¢åŠ¨ç”»çš„å°è£…ï¼ˆè§£å†³å››èˆäº”å…¥çš„é—®é¢˜ï¼‰</a></li></ul></li><li><a href=#windowscrollto%e6%96%b9%e6%b3%95%e4%b8%be%e4%be%8b%e8%bf%94%e5%9b%9e%e5%88%b0%e9%a1%b6%e9%83%a8%e5%b0%8f%e7%81%ab%e7%ae%ad aria-label=window.scrollTo()æ–¹æ³•ä¸¾ä¾‹ï¼šè¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­>window.scrollTo()æ–¹æ³•ä¸¾ä¾‹ï¼šè¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­</a></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=scroll-ç›¸å…³å±æ€§>scroll ç›¸å…³å±æ€§<a hidden class=anchor aria-hidden=true href=#scroll-ç›¸å…³å±æ€§>#</a></h2><h3 id=windowonscroll-æ–¹æ³•>window.onscroll() æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#windowonscroll-æ–¹æ³•>#</a></h3><p>å½“æˆ‘ä»¬ç”¨é¼ æ ‡æ»šè½®ï¼Œæ»šåŠ¨ç½‘é¡µçš„æ—¶å€™ï¼Œä¼šè§¦å‘ window.onscroll() æ–¹æ³•ã€‚æ•ˆæœå¦‚ä¸‹ï¼šï¼ˆæ³¨æ„çœ‹æ§åˆ¶å°çš„æ‰“å°ç»“æœï¼‰</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2258.gif alt></p><p>å¦‚æœä½ éœ€è¦åšæ»šåŠ¨ç›‘å¬ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹å’Œ scroll ç›¸å…³çš„æœ‰å“ªäº›å±æ€§ã€‚</p><h3 id=1scrollwidth-å’Œ-scrollheight>1ã€ScrollWidth å’Œ scrollHeight<a hidden class=anchor aria-hidden=true href=#1scrollwidth-å’Œ-scrollheight>#</a></h3><p><code>ScrollWidth</code> å’Œ <code>scrollHeight</code>ï¼šè·å–å…ƒç´ <strong>æ•´ä¸ªæ»šåŠ¨åŒºåŸŸ</strong>çš„å®½ã€é«˜ã€‚åŒ…æ‹¬ width å’Œ paddingï¼Œä¸åŒ…æ‹¬ borderå’Œmarginã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><p><code>scrollHeight</code> çš„ç‰¹ç‚¹æ˜¯ï¼šå¦‚æœå†…å®¹è¶…å‡ºäº†ç›’å­ï¼Œ<code>scrollHeight</code>ä¸ºå†…å®¹çš„é«˜ï¼ˆåŒ…æ‹¬è¶…å‡ºçš„å†…å®¹ï¼‰ï¼›å¦‚æœä¸è¶…å‡ºï¼Œ<code>scrollHeight</code>ä¸ºç›’å­æœ¬èº«çš„é«˜åº¦ã€‚<code>ScrollWidth</code>åŒç†ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>div</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>padding</span><span class=p>:</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>3</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>border</span><span class=p>:</span> <span class=mi>8</span><span class=kt>px</span> <span class=kc>solid</span> <span class=kc>red</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;box&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl>    é™ï¼Œèƒ½å¯’çª—è‹¦å®ˆï¼›åŠ¨ï¼Œèƒ½ç‚¹çŸ³æˆé‡‘ã€‚
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>div</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// `scrollHeight` çš„ç‰¹ç‚¹æ˜¯ï¼šå¦‚æœå†…å®¹è¶…å‡ºäº†ç›’å­ï¼Œ`scrollHeight`ä¸ºå†…å®¹çš„é«˜ï¼ˆåŒ…æ‹¬è¶…å‡ºçš„å†…å®¹ï¼‰ï¼›å¦‚æœä¸è¶…å‡ºï¼Œ`scrollHeight`ä¸ºç›’å­æœ¬èº«çš„é«˜åº¦ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//IE8ä»¥ä¸‹ï¼ˆä¸åŒ…æ‹¬IE8ï¼‰ï¼Œä¸ºç›’å­æœ¬èº«å†…å®¹çš„é«˜åº¦ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>div</span><span class=p>.</span><span class=nx>scrollWidth</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>div</span><span class=p>.</span><span class=nx>scrollHeight</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>æ‰“å°ç»“æœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1235.png alt></p><h3 id=2scrolltop-å’Œ-scrollleft>2ã€scrollTop å’Œ scrollLeft<a hidden class=anchor aria-hidden=true href=#2scrolltop-å’Œ-scrollleft>#</a></h3><ul><li><p><code>scrollLeft</code>ï¼šè·å–æ°´å¹³æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦»ã€‚</p></li><li><p><code>scrollTop</code>ï¼šè·å–å‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦»ã€‚</p></li></ul><p><strong>å®æˆ˜ç»éªŒ</strong>ï¼š</p><p>å½“æŸä¸ªå…ƒç´ æ»¡è¶³<code>scrollHeight - scrollTop == clientHeight</code>æ—¶ï¼Œè¯´æ˜å‚ç›´æ»šåŠ¨æ¡æ»šåŠ¨åˆ°åº•äº†ã€‚</p><p>å½“æŸä¸ªå…ƒç´ æ»¡è¶³<code>scrollWidth - scrollLeft == clientWidth</code>æ—¶ï¼Œè¯´æ˜æ°´å¹³æ»šåŠ¨æ¡æ»šåŠ¨åˆ°åº•äº†ã€‚</p><p>è¿™ä¸ªå®æˆ˜ç»éªŒéå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»å°†å†…å®¹æ»‘åŠ¨åˆ°åº•äº†ã€‚æ¯”å¦‚è¯´ï¼Œæœ‰äº›åœºæ™¯ä¸‹ï¼Œå¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿçœ‹å®Œâ€œé•¿é•¿çš„æ´»åŠ¨è§„åˆ™â€ï¼Œæ‰å…è®¸è§¦å‘æ¥ä¸‹æ¥çš„è¡¨å•æ“ä½œã€‚</p><h3 id=scrolltop-çš„å…¼å®¹æ€§>scrollTop çš„å…¼å®¹æ€§<a hidden class=anchor aria-hidden=true href=#scrolltop-çš„å…¼å®¹æ€§>#</a></h3><p>å¦‚æœè¦è·å–é¡µé¢æ»šåŠ¨çš„è·ç¦»ï¼ŒscrollTop è¿™ä¸ªå±æ€§çš„å†™æ³•è¦æ³¨æ„å…¼å®¹æ€§ï¼Œå¦‚ä¸‹ã€‚</p><p>ï¼ˆ1ï¼‰å¦‚æœæ–‡æ¡£æ²¡æœ‰ DTD å£°æ˜ï¼Œå†™æ³•ä¸ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æ²¡æœ‰ DTD å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¦æ±‚æ˜¯è¿™ç§å†™æ³•ï¼Œchromeæµè§ˆå™¨æ‰èƒ½è®¤å‡ºæ¥ã€‚</p><p>ï¼ˆ2ï¼‰å¦‚æœæ–‡æ¡£æœ‰ DTD å£°æ˜ï¼Œå†™æ³•ä¸ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>   <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æœ‰ DTD å£°æ˜çš„æƒ…å†µä¸‹ï¼Œè¦æ±‚æ˜¯è¿™ç§å†™æ³•ï¼ŒIE6ã€7ã€8æ‰èƒ½è®¤å‡ºæ¥ã€‚</p><p>ç»¼åˆä¸Šé¢è¿™ä¸¤ä¸ªï¼Œå°±è¯ç”Ÿäº†ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=c1>//æ–¹å¼ä¸€
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=o>+</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>  <span class=c1>//æ–¹å¼äºŒ
</span></span></span></code></pre></td></tr></table></div></div><p>å¦å¤–è¿˜æœ‰ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ï¼š<code>window.pageYOffset</code> å’Œ <code>window.pageXOffset</code>ã€‚è¿™ç§å†™æ³•æ— è§†DTDçš„å£°æ˜ã€‚è¿™ç§å†™æ³•æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬æ˜¯ï¼šç«ç‹/è°·æ­Œ/ie9+ã€‚</p><p>ç»¼åˆä¸Šé¢çš„å‡ ç§å†™æ³•ï¼Œä¸ºäº†å…¼å®¹ï¼Œä¸ç®¡æœ‰æ²¡æœ‰DTDï¼Œ<strong>æœ€ç»ˆç‰ˆçš„å…¼å®¹æ€§å†™æ³•ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=åˆ¤æ–­æ˜¯å¦å·²ç»-dtd-å£°æ˜>åˆ¤æ–­æ˜¯å¦å·²ç» DTD å£°æ˜<a hidden class=anchor aria-hidden=true href=#åˆ¤æ–­æ˜¯å¦å·²ç»-dtd-å£°æ˜>#</a></h3><p>æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;CSS1Compat&#34;</span>   <span class=c1>// å·²å£°æ˜
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;BackCompat&#34;</span>   <span class=c1>// æœªå£°æ˜
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å°†-scrolltop-å’Œ-scrollleft-è¿›è¡Œå°è£…>å°† scrollTop å’Œ scrollLeft è¿›è¡Œå°è£…<a hidden class=anchor aria-hidden=true href=#å°†-scrolltop-å’Œ-scrollleft-è¿›è¡Œå°è£…>#</a></h3><p>è¿™é‡Œï¼Œæˆ‘ä»¬å°† scrollTop å’Œ scrollLeft å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œåå«scroll()ï¼Œè¿”å›å€¼ä¸º ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥åå°±ç›´æ¥è°ƒç”¨<code>scroll().top</code> å’Œ <code>scroll().left</code>å°±å¥½ã€‚</p><p>ä»£ç å®ç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>body</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>6000</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>5000</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//éœ€æ±‚ï¼šå°è£…ä¸€ä¸ªå…¼å®¹çš„scroll().è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œç”¨scroll().topè·å–scrollTopï¼Œç”¨scroll().leftè·å–scrollLeft
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=nb>window</span><span class=p>.</span><span class=nx>onscroll</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=c1>//        var myScroll = scroll();
</span></span></span><span class=line><span class=cl><span class=c1>//        myScroll.top;
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>scroll</span><span class=p>().</span><span class=nx>left</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//å‡½æ•°å°è£…ï¼ˆç®€å•å°è£…ï¼Œå®é™…å·¥ä½œä½¿ç”¨ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span> <span class=c1>//æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>right</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç ä¸­ï¼Œå‡½æ•°å®šä¹‰çš„é‚£éƒ¨åˆ†å°±æ˜¯è¦å°è£…çš„ä»£ç ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸€ç§æ¯”è¾ƒéº»çƒ¦çš„å°è£…æ–¹å¼ï¼šï¼ˆä»…ä¾›å‚è€ƒï¼‰</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>  <span class=c1>// å¼€å§‹å°è£…è‡ªå·±çš„scrollTop
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>!==</span> <span class=kc>undefined</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯  0  æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;CSS1Compat&#34;</span><span class=p>)</span> <span class=p>{</span>    <span class=c1>// æ ‡å‡†æµè§ˆå™¨   æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>   <span class=c1>// æœªå£°æ˜ DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=è·å–-html-æ–‡æ¡£çš„æ–¹æ³•>è·å– html æ–‡æ¡£çš„æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#è·å–-html-æ–‡æ¡£çš„æ–¹æ³•>#</a></h2><p>è·å–titleã€bodyã€headã€htmlæ ‡ç­¾çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>document.title</code> æ–‡æ¡£æ ‡é¢˜ï¼›</p></li><li><p><code>document.head</code> æ–‡æ¡£çš„å¤´æ ‡ç­¾</p></li><li><p><code>document.body</code> æ–‡æ¡£çš„bodyæ ‡ç­¾ï¼›</p></li><li><p><code>document.documentElement</code> ï¼ˆè¿™ä¸ªå¾ˆé‡è¦ï¼‰ã€‚</p></li></ul><p><code>document.documentElement</code>è¡¨ç¤ºæ–‡æ¡£çš„htmlæ ‡ç­¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºæœ¬ç»“æ„å½“ä¸­çš„ <code>html æ ‡ç­¾</code>è€Œæ˜¯é€šè¿‡<code>document.documentElement</code>è®¿é—®çš„ï¼Œå¹¶ä¸æ˜¯é€šè¿‡ document.html å»è®¿é—®çš„ã€‚</p><h2 id=scrolltop-ä¸¾ä¾‹å›ºå®šå¯¼èˆªæ >scrollTop ä¸¾ä¾‹ï¼šå›ºå®šå¯¼èˆªæ <a hidden class=anchor aria-hidden=true href=#scrolltop-ä¸¾ä¾‹å›ºå®šå¯¼èˆªæ >#</a></h2><p>å®Œæ•´ç‰ˆä»£ç å®ç°ï¼š</p><p>ï¼ˆ1ï¼‰index.htmlï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>padding</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>img</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>vertical-align</span><span class=p>:</span> <span class=kc>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>main</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>1000</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>margin-top</span><span class=p>:</span> <span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>#</span><span class=nn>Q-nav1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>overflow</span><span class=p>:</span> <span class=kc>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>fixed</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>top</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>left</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--å¼•å…¥å·¥å…·js--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;tools.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nb>window</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//éœ€æ±‚1ï¼šå½“æˆ‘ä»¬æ»šåŠ¨ç•Œé¢çš„æ—¶å€™ï¼Œè¢«å·æ›²çš„å¤´éƒ¨å¦‚æœè¶…è¿‡ç¬¬äºŒä¸ªç›’å­è·ç¦»é¡¶éƒ¨çš„ä½ç½®ï¼Œé‚£ä¹ˆç›´æ¥ç»™ç¬¬äºŒä¸ªç›’å­åŠ ç±»å.fixed
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//éœ€æ±‚2ï¼šå½“æˆ‘ä»¬æ»šåŠ¨ç•Œé¢çš„æ—¶å€™ï¼Œè¢«å·æ›²çš„å¤´éƒ¨å¦‚æœå°äºç¬¬äºŒä¸ªç›’å­è·ç¦»é¡¶éƒ¨çš„ä½ç½®ï¼Œé‚£ä¹ˆç›´æ¥ç»™ç¬¬äºŒä¸ªç›’å­å–æ¶ˆç±»å.fixed
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>            <span class=c1>//1.è€ä¸‰æ­¥ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>topDiv</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;top&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>height</span> <span class=o>=</span> <span class=nx>topDiv</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>middle</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;Q-nav1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>main</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;main&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nb>window</span><span class=p>.</span><span class=nx>onscroll</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//2.åˆ¤æ–­ ï¼Œè¢«å·æ›²çš„å¤´éƒ¨çš„å¤§å°
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span> <span class=o>&gt;</span> <span class=nx>height</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//3.æ»¡è¶³æ¡ä»¶æ·»åŠ ç±»ï¼Œå¦åˆ™åˆ é™¤ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>middle</span><span class=p>.</span><span class=nx>className</span> <span class=o>+=</span> <span class=s2>&#34; fixed&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//ç¬¬äºŒä¸ªç›’å­ä¹Ÿè¦å ä½ç½®ï¼Œä¸ºäº†é¿å…é‡å ï¼Œæˆ‘ä»¬ç»™ç¬¬ä¸‰ä¸ªç›’å­ä¸€ä¸ªä¸Špaddingçš„ç©ºé—´ï¼ŒæŠŠè¿™ä¸ªç©ºé—´ç•™ç»™ç¬¬äºŒä¸ªç›’å­
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>main</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>paddingTop</span> <span class=o>=</span> <span class=nx>middle</span><span class=p>.</span><span class=nx>offsetHeight</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>middle</span><span class=p>.</span><span class=nx>className</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//æ¸…é›¶
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>main</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>paddingTop</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;top&#34;</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;top&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/top.png&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;Q-nav1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/nav.png&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;main&#34;</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;main&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/main.png&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªæŠ€å·§ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>main</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>paddingTop</span> <span class=o>=</span> <span class=nx>middle</span><span class=p>.</span><span class=nx>offsetHeight</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>ä»”ç»†çœ‹æ³¨é‡Šå°±å¥½ã€‚</p><p>ï¼ˆ2ï¼‰tools.jsï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Created by smyhvae on 2018/02/03.
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>  <span class=c1>// å¼€å§‹å°è£…è‡ªå·±çš„scrollTop
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>!==</span> <span class=kc>undefined</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯  0  æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;CSS1Compat&#34;</span><span class=p>)</span> <span class=p>{</span>    <span class=c1>// æ ‡å‡†æµè§ˆå™¨   æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>   <span class=c1>// æœªå£°æ˜ DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å®ç°æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1619.gif alt></p><p>å·¥ç¨‹æ–‡ä»¶ï¼š</p><ul><li>2018-02-03-scrollTopå›ºå®šå¯¼èˆªæ .rar</li></ul><h2 id=ç¼“åŠ¨åŠ¨ç”»>ç¼“åŠ¨åŠ¨ç”»<a hidden class=anchor aria-hidden=true href=#ç¼“åŠ¨åŠ¨ç”»>#</a></h2><h3 id=ä¸‰ä¸ªå‡½æ•°>ä¸‰ä¸ªå‡½æ•°<a hidden class=anchor aria-hidden=true href=#ä¸‰ä¸ªå‡½æ•°>#</a></h3><p>ç¼“æ…¢åŠ¨ç”»é‡Œï¼Œæˆ‘ä»¬è¦ç”¨åˆ°ä¸‰ä¸ªå‡½æ•°ï¼Œè¿™é‡Œå…ˆåˆ—å‡ºæ¥ï¼š</p><ul><li><p>Math.ceil() å‘ä¸Šå–æ•´</p></li><li><p>Math.floor() å‘ä¸‹å–æ•´</p></li><li><p>Math.round(); å››èˆäº”å…¥</p></li></ul><h3 id=ç¼“åŠ¨åŠ¨ç”»çš„åŸç†>ç¼“åŠ¨åŠ¨ç”»çš„åŸç†<a hidden class=anchor aria-hidden=true href=#ç¼“åŠ¨åŠ¨ç”»çš„åŸç†>#</a></h3><p>ç¼“åŠ¨åŠ¨ç”»çš„åŸç†å°±æ˜¯ï¼šåœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ­¥é•¿è¶Šæ¥è¶Šå°ã€‚</p><p>è®¾ç½®æ­¥é•¿ä¸ºï¼š<strong>ç›®æ ‡ä½ç½®å’Œç›’å­å½“å‰ä½ç½®çš„ååˆ†ä¹‹ä¸€</strong>ã€‚ç”¨å…¬å¼è¡¨è¾¾ï¼Œå³ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    ç›’å­ä½ç½® = ç›’å­æœ¬èº«ä½ç½® + (ç›®æ ‡ä½ç½® - ç›’å­æœ¬èº«ä½ç½®)/ 10ï¼›
</span></span></code></pre></td></tr></table></div></div><p>ä»£ç ä¸¾ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>div</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>è¿åŠ¨åˆ°left = 400px<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>div</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>btn</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>setInterval</span><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//åŠ¨ç”»åŸç†ï¼šç›’å­æœªæ¥çš„ä½ç½® = ç›’å­å½“å‰çš„ä½ç½®+æ­¥é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>div</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=nx>div</span><span class=p>.</span><span class=nx>offsetLeft</span> <span class=o>+</span> <span class=p>(</span><span class=mi>400</span> <span class=o>-</span> <span class=nx>div</span><span class=p>.</span><span class=nx>offsetLeft</span><span class=p>)</span> <span class=o>/</span> <span class=mi>10</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span> <span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2046.gif alt></p><h3 id=ç¼“æ…¢åŠ¨ç”»çš„å°è£…è§£å†³å››èˆäº”å…¥çš„é—®é¢˜>ç¼“æ…¢åŠ¨ç”»çš„å°è£…ï¼ˆè§£å†³å››èˆäº”å…¥çš„é—®é¢˜ï¼‰<a hidden class=anchor aria-hidden=true href=#ç¼“æ…¢åŠ¨ç”»çš„å°è£…è§£å†³å››èˆäº”å…¥çš„é—®é¢˜>#</a></h3><p>æˆ‘ä»¬å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šå›¾ä¸­çš„ç›’å­æœ€ç»ˆå¹¶æ²¡æœ‰åˆ°è¾¾400pxçš„ä½ç½®ï¼Œè€Œæ˜¯åªåˆ°äº†396.04pxå°±åœä½äº†ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2140.png alt></p><p>åŸå› æ˜¯ï¼šJSåœ¨å–æ•´çš„è¿ç®—æ—¶ï¼Œè¿›è¡Œäº†å››èˆäº”å…¥ã€‚</p><p>æˆ‘ä»¬æŠŠæ‰“å°396.04pxè¿™ä¸ªleftå€¼æ‰“å°å‡ºæ¥çœ‹çœ‹ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2150.png alt></p><p>æˆ‘ä¹ˆå‘ç°ï¼Œé€šè¿‡<code>div.style.left</code>è·å–çš„å€¼æ˜¯ç²¾ç¡®çš„ï¼Œé€šè¿‡<code>div.offsetLeft</code>è·å–çš„leftå€¼ä¼šè¿›è¡Œå››èˆäº”å…¥ã€‚</p><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±è¦ç”¨åˆ°å–æ•´çš„å‡½æ•°äº†ã€‚</p><p>é€šè¿‡å¯¹ç¼“åŠ¨åŠ¨ç”»è¿›è¡Œå°è£…ï¼Œå®Œæ•´ç‰ˆçš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>div</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>left</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>è¿åŠ¨åˆ°200<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>è¿åŠ¨åˆ°400<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>div</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>btn</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>animate</span><span class=p>(</span><span class=nx>div</span><span class=p>,</span> <span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>btn</span><span class=p>[</span><span class=mi>1</span><span class=p>].</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>animate</span><span class=p>(</span><span class=nx>div</span><span class=p>,</span> <span class=mi>400</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//ç¼“åŠ¨åŠ¨ç”»å°è£…
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>function</span> <span class=nx>animate</span><span class=p>(</span><span class=nx>ele</span><span class=p>,</span> <span class=nx>target</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…å®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//ä¸€ä¸ªèåœä¸€ä¸ªå‘å„¿ï¼Œä¸€ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªå®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>clearInterval</span><span class=p>(</span><span class=nx>ele</span><span class=p>.</span><span class=nx>timer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>//å®šä¹‰å®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>ele</span><span class=p>.</span><span class=nx>timer</span> <span class=o>=</span> <span class=nx>setInterval</span><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//è·å–æ­¥é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//æ­¥é•¿åº”è¯¥æ˜¯è¶Šæ¥è¶Šå°çš„ï¼Œç¼“åŠ¨çš„ç®—æ³•ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>step</span> <span class=o>=</span> <span class=p>(</span><span class=nx>target</span> <span class=o>-</span> <span class=nx>ele</span><span class=p>.</span><span class=nx>offsetLeft</span><span class=p>)</span> <span class=o>/</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>//å¯¹æ­¥é•¿è¿›è¡ŒäºŒæ¬¡åŠ å·¥(å¤§äº0å‘ä¸Šå–æ•´,å°äº0å‘ä¸‹å–æ•´)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//è¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼šæœ€å10åƒç´ çš„æ—¶å€™éƒ½æ˜¯1åƒç´ 1åƒç´ çš„å‘ç›®æ ‡ä½ç½®ç§»åŠ¨ï¼Œå°±èƒ½å¤Ÿåˆ°è¾¾æŒ‡å®šä½ç½®ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>step</span> <span class=o>=</span> <span class=nx>step</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>?</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>step</span><span class=p>)</span> <span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>step</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>//åŠ¨ç”»åŸç†ï¼š ç›®æ ‡ä½ç½® = å½“å‰ä½ç½® + æ­¥é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>ele</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=nx>ele</span><span class=p>.</span><span class=nx>offsetLeft</span> <span class=o>+</span> <span class=nx>step</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>step</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>//æ£€æµ‹ç¼“åŠ¨åŠ¨ç”»æœ‰æ²¡æœ‰åœæ­¢
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;smyhvae&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>abs</span><span class=p>(</span><span class=nx>target</span> <span class=o>-</span> <span class=nx>ele</span><span class=p>.</span><span class=nx>offsetLeft</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>abs</span><span class=p>(</span><span class=nx>step</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//å¤„ç†å°æ•°èµ‹å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>ele</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=nx>target</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=nx>clearInterval</span><span class=p>(</span><span class=nx>ele</span><span class=p>.</span><span class=nx>timer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span> <span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>å®ç°æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2239.gif alt></p><h2 id=windowscrolltoæ–¹æ³•ä¸¾ä¾‹è¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­>window.scrollTo()æ–¹æ³•ä¸¾ä¾‹ï¼šè¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­<a hidden class=anchor aria-hidden=true href=#windowscrolltoæ–¹æ³•ä¸¾ä¾‹è¿”å›åˆ°é¡¶éƒ¨å°ç«ç®­>#</a></h2><p>ï¼ˆ1ï¼‰index.htmlï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>img</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>bottom</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>right</span><span class=p>:</span> <span class=mi>50</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>cursor</span><span class=p>:</span> <span class=kc>pointer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>div</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>1210</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>text-align</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>font</span><span class=p>:</span> <span class=mi>500</span> <span class=mi>26</span><span class=kt>px</span><span class=o>/</span><span class=mi>35</span><span class=kt>px</span> <span class=s2>&#34;simsun&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>color</span><span class=p>:</span> <span class=kc>red</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;tools.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nb>window</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//éœ€æ±‚ï¼šè¢«å·å»çš„å¤´éƒ¨è¶…è¿‡100æ˜¾ç¤ºå°ç«ç®­ï¼Œç„¶åç‚¹å‡»å°ç«ç®­å±å¹•ç¼“æ…¢ç§»åŠ¨åˆ°æœ€é¡¶ç«¯ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//éš¾ç‚¹ï¼šæˆ‘ä»¬ä»¥å‰æ˜¯ç§»åŠ¨ç›’å­ï¼Œç°åœ¨æ˜¯ç§»åŠ¨å±å¹•ï¼Œæˆ‘ä»¬æ²¡æœ‰å­¦è¿‡å¦‚ä½•ç§»åŠ¨å±å¹•ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//      æŠ€æœ¯ç‚¹ï¼šwindow.scrollTo(x,y);æµè§ˆå™¨æ˜¾ç¤ºåŒºåŸŸè·³è½¬åˆ°æŒ‡å®šçš„åæ ‡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//æ­¥éª¤ï¼š
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//1.è€ä¸‰æ­¥
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>img</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;img&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=nb>window</span><span class=p>.</span><span class=nx>onscroll</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//è¢«å·å»çš„è·ç¦»å¤§äº200æ˜¾ç¤ºå°ç«ç®­ï¼Œå¦åˆ™éšè—
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//2.æ˜¾ç¤ºéšè—å°ç«ç®­
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span> <span class=o>&gt;</span> <span class=mi>1000</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>img</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span> <span class=o>=</span> <span class=s2>&#34;block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>img</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span> <span class=o>=</span> <span class=s2>&#34;none&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=c1>//æ¯æ¬¡ç§»åŠ¨æ»šåŠ¨æ¡çš„æ—¶å€™éƒ½ç»™leaderèµ‹å€¼ï¼Œæ¨¡æ‹Ÿleaderè·å–è·ç¦»é¡¶éƒ¨çš„è·ç¦»
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>leader</span> <span class=o>=</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=c1>//3.ç¼“åŠ¨è·³è½¬åˆ°é¡µé¢æœ€é¡¶ç«¯ï¼ˆåˆ©ç”¨æˆ‘ä»¬çš„ç¼“åŠ¨åŠ¨ç”»ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>timer</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>target</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>//ç›®æ ‡ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>leader</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>//æ˜¾ç¤ºåŒºåŸŸè‡ªèº«çš„ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>img</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//æŠ€æœ¯ç‚¹ï¼šwindow.scrollTo(0,0);
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…å®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>clearInterval</span><span class=p>(</span><span class=nx>timer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>timer</span> <span class=o>=</span> <span class=nx>setInterval</span><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//è·å–æ­¥é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=kd>var</span> <span class=nx>step</span> <span class=o>=</span> <span class=p>(</span><span class=nx>target</span> <span class=o>-</span> <span class=nx>leader</span><span class=p>)</span> <span class=o>/</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//äºŒæ¬¡å¤„ç†æ­¥é•¿
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>step</span> <span class=o>=</span> <span class=nx>step</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>?</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>step</span><span class=p>)</span> <span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>step</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=nx>leader</span> <span class=o>=</span> <span class=nx>leader</span> <span class=o>+</span> <span class=nx>step</span><span class=p>;</span> <span class=c1>//å¾€ä¸Šç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œstepæ˜¯è´Ÿæ•°ã€‚å½“å‰ä½ç½®å‡å»æ­¥é•¿ï¼Œå°±ç­‰äºä¸‹ä¸€æ­¥çš„ä½ç½®ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=c1>//æ˜¾ç¤ºåŒºåŸŸç§»åŠ¨
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nb>window</span><span class=p>.</span><span class=nx>scrollTo</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>leader</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//æ¸…é™¤å®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=k>if</span> <span class=p>(</span><span class=nx>leader</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=nx>clearInterval</span><span class=p>(</span><span class=nx>timer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span> <span class=mi>25</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/Top.jpg&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯æœ€é¡¶ç«¯.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    ç”Ÿå‘½å£¹å·ï¼Œæ°¸ä¸æ­¢æ­¥.....<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ï¼ˆ2ï¼‰tools.js:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Created by smyhvae on 2015/12/8.
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//å‡½æ•°ï¼šè·å–scrollTopå’ŒscrollLeftçš„å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>  <span class=c1>// å¼€å§‹å°è£…è‡ªå·±çš„scrollTop
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯  0  æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;CSS1Compat&#34;</span><span class=p>)</span> <span class=p>{</span>    <span class=c1>// æ ‡å‡†æµè§ˆå™¨   æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>   <span class=c1>// æœªå£°æ˜ DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>å®ç°æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1710.gif alt></p><p>å°ç«ç®­çš„å›¾ç‰‡èµ„æºï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203-Top.jpg alt></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/tech/wait/04-javascript/36-offset%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8C%80%E9%80%9F%E5%8A%A8%E7%94%BB%E5%90%AB%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/><span class=title>Â« Prev</span><br><span>36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)</span></a>
<a class=next href=https://bablvsj.github.io/posts/tech/wait/04-javascript/38-client%E5%8F%AF%E8%A7%86%E5%8C%BA%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7/><span class=title>Next Â»</span><br><span>38-client(å¯è§†åŒº)ç›¸å…³å±æ€§</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>