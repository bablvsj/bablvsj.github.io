<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°) | Bablvsj's Blog</title><meta name=keywords content="JavaScript"><meta name=description content="36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°) - Bablvsj's Blog"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/tech/wait/04-javascript/36-offset%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8C%80%E9%80%9F%E5%8A%A8%E7%94%BB%E5%90%AB%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/><link crossorigin=anonymous href=/assets/css/stylesheet.b33b75c69bb2ec0d4accfeaad1d3ba05b272f180583f687c640a522d6492076f.css integrity="sha256-szt1xpuy7A1KzP6q0dO6BbJy8YBYP2h8ZApSLWSSB28=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=stylesheet href=/css/syntax.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/tech/wait/04-javascript/36-offset%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8C%80%E9%80%9F%E5%8A%A8%E7%94%BB%E5%90%AB%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-01T17:11:35+08:00"><meta property="article:modified_time" content="2020-01-01T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)","item":"https://bablvsj.github.io/posts/tech/wait/04-javascript/36-offset%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8C%80%E9%80%9F%E5%8A%A8%E7%94%BB%E5%90%AB%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)","name":"36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)","description":"","keywords":["JavaScript"],"articleBody":"å‰è¨€ JSåŠ¨ç”»çš„ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š\n1ã€ä¸‰å¤§å®¶æ—å’Œä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼š\nä¸‰å¤§å®¶æ—ï¼šoffset/scroll/clientã€‚ä¹Ÿå«ä¸‰å¤§ç³»åˆ—ã€‚\näº‹ä»¶å¯¹è±¡/eventï¼ˆäº‹ä»¶è¢«è§¦åŠ¨æ—¶ï¼Œé¼ æ ‡å’Œé”®ç›˜çš„çŠ¶æ€ï¼‰ï¼ˆé€šè¿‡å±æ€§æ§åˆ¶ï¼‰ã€‚\n2ã€åŠ¨ç”»(é—ªç°/åŒ€é€Ÿ/ç¼“åŠ¨)\n3ã€å†’æ³¡/å…¼å®¹/å°è£…\noffset å®¶æ—çš„ç»„æˆ æˆ‘ä»¬çŸ¥é“ï¼ŒJSåŠ¨ç”»çš„ä¸‰å¤§å®¶æ—åŒ…æ‹¬ï¼šoffset/scroll/clientã€‚ä»Šå¤©æ¥è®²ä¸€ä¸‹offsetï¼Œä»¥åŠä¸å…¶ç›¸å…³çš„åŒ€é€ŸåŠ¨ç”»ã€‚\noffsetçš„ä¸­æ–‡æ˜¯ï¼šåç§»ï¼Œè¡¥å¿ï¼Œä½ç§»ã€‚\njsä¸­æœ‰ä¸€å¥—æ–¹ä¾¿çš„è·å–å…ƒç´ å°ºå¯¸çš„åŠæ³•å°±æ˜¯offsetå®¶æ—ã€‚offsetå®¶æ—åŒ…æ‹¬ï¼š\noffsetWidth\noffsetHight\noffsetLeft\noffsetTop\noffsetParent\nä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚\n1ã€offsetWidth å’Œ offsetHight offsetWidth å’Œ offsetHightï¼šè·å–å…ƒç´ çš„å®½é«˜ + padding + borderï¼Œä¸åŒ…æ‹¬marginã€‚å¦‚ä¸‹ï¼š\noffsetWidth = width + padding + border\noffsetHeight = Height + padding + border\nè¿™ä¸¤ä¸ªå±æ€§ï¼Œä»–ä»¬ç»‘å®šåœ¨äº†æ‰€æœ‰çš„èŠ‚ç‚¹å…ƒç´ ä¸Šã€‚è·å–å…ƒç´ ä¹‹åï¼Œåªè¦è°ƒç”¨è¿™ä¸¤ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè·å–å…ƒç´ èŠ‚ç‚¹çš„å®½å’Œé«˜ã€‚\nä¸¾ä¾‹å¦‚ä¸‹ï¼š\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e div { width: 100px; height: 100px; padding: 10px; border: 10px solid #000; margin: 100px; background-color: pink; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box\"\u003e\u003c/div\u003e \u003cscript\u003e var div1 = document.getElementsByTagName(\"div\")[0]; console.log(div1.offsetHeight); //æ‰“å°ç»“æœï¼š140ï¼ˆ100+20+20ï¼‰ console.log(typeof div1.offsetHeight); //æ‰“å°ç»“æœï¼šnumber \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e 2ã€offsetParent offsetParentï¼šè·å–å½“å‰å…ƒç´ çš„å®šä½çˆ¶å…ƒç´ ã€‚\nå¦‚æœå½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œæœ‰CSSå®šä½ï¼ˆpositionä¸ºabsoluteã€relativeã€fixedï¼‰ï¼Œé‚£ä¹ˆ offsetParent è·å–çš„æ˜¯æœ€è¿‘çš„é‚£ä¸ªçˆ¶å…ƒç´ ã€‚\nå¦‚æœå½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œæ²¡æœ‰CSSå®šä½ï¼ˆpositionä¸ºabsoluteã€relativeã€fixedï¼‰ï¼Œé‚£ä¹ˆoffsetParent è·å–çš„æ˜¯bodyã€‚\nä¸¾ä¾‹ï¼š\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box1\" style=\"position: absolute;\"\u003e \u003cdiv class=\"box2\" style=\"position: fixed;\"\u003e \u003cdiv class=\"box3\"\u003e\u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003cscript\u003e var box3 = document.getElementsByClassName(\"box3\")[0]; console.log(box3.offsetParent); \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e æ‰“å°ç»“æœï¼š\n3ã€offsetLeft å’Œ offsetTop offsetLeftï¼šå½“å‰å…ƒç´ ç›¸å¯¹äºå…¶å®šä½çˆ¶å…ƒç´ çš„æ°´å¹³åç§»é‡ã€‚\noffsetTopï¼šå½“å‰å…ƒç´ ç›¸å¯¹äºå…¶å®šä½çˆ¶å…ƒç´ çš„å‚ç›´åç§»é‡ã€‚\nå¤‡æ³¨ï¼šä»çˆ¶äº²çš„ padding å¼€å§‹ç®—èµ·ï¼Œçˆ¶äº²çš„ border ä¸ç®—åœ¨å†…ã€‚\nä¸¾ä¾‹ï¼š\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e .box1 { width: 300px; height: 300px; padding: 100px; margin: 100px; position: relative; border: 100px solid #000; background-color: pink; } .box2 { width: 100px; height: 100px; background-color: red; /*position: absolute;*/ /*left: 10px;*/ /*top: 10px;*/ } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box1\"\u003e \u003cdiv class=\"box2\" style=\"left: 10px\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cscript\u003e var box2 = document.getElementsByClassName(\"box2\")[0]; //offsetTopå’ŒoffsetLeft console.log(box2.offsetLeft); //100 console.log(box2.style.left); //10px \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e åœ¨çˆ¶ç›’å­æœ‰å®šä½çš„æƒ…å†µä¸‹ï¼ŒoffsetLeft == style.left(å»æ‰pxä¹‹å)ã€‚æ³¨æ„ï¼Œåè€…åªè¯†åˆ«è¡Œå†…æ ·å¼ã€‚ä½†åŒºåˆ«ä¸ä»…ä»…äºæ­¤ï¼Œä¸‹é¢ä¼šè®²ã€‚\noffsetLeft å’Œ style.left åŒºåˆ« ï¼ˆ1ï¼‰æœ€å¤§åŒºåˆ«åœ¨äºï¼š\noffsetLeft å¯ä»¥è¿”å›æ— å®šä½çˆ¶å…ƒç´ çš„åç§»é‡ã€‚å¦‚æœçˆ¶å…ƒç´ ä¸­éƒ½æ²¡æœ‰å®šä½ï¼Œåˆ™bodyä¸ºå‡†ã€‚\nstyle.left åªèƒ½è·å–è¡Œå†…æ ·å¼ï¼Œå¦‚æœçˆ¶å…ƒç´ ä¸­éƒ½æ²¡æœ‰è®¾ç½®å®šä½ï¼Œåˆ™è¿”å›\"\"ï¼ˆæ„æ€æ˜¯ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼‰;\nï¼ˆ2ï¼‰offsetTop è¿”å›çš„æ˜¯æ•°å­—ï¼Œè€Œ style.top è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œä¸”è¿˜å¸¦æœ‰å•ä½ï¼špxã€‚\næ¯”å¦‚ï¼š\ndiv.offsetLeft = 100; div.style.left = \"100px\"; ï¼ˆ3ï¼‰offsetLeft å’Œ offsetTop åªè¯»ï¼Œè€Œ style.left å’Œ style.top å¯è¯»å†™ï¼ˆåªè¯»æ˜¯è·å–å€¼ï¼Œå¯å†™æ˜¯ä¿®æ”¹å€¼ï¼‰\næ€»ç»“ï¼šæˆ‘ä»¬ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼šç”¨offsetLeft å’Œ offsetTop è·å–å€¼ï¼Œç”¨style.left å’Œ style.top èµ‹å€¼ï¼ˆæ¯”è¾ƒæ–¹ä¾¿ï¼‰ã€‚ç†ç”±å¦‚ä¸‹ï¼š\nstyle.leftï¼šåªèƒ½è·å–è¡Œå†…å¼ï¼Œè·å–çš„å€¼å¯èƒ½ä¸ºç©ºï¼Œå®¹æ˜“å‡ºç°NaNã€‚\noffsetLeftï¼šè·å–å€¼ç‰¹åˆ«æ–¹ä¾¿ï¼Œè€Œä¸”æ˜¯ç°æˆçš„numberï¼Œæ–¹ä¾¿è®¡ç®—ã€‚å®ƒæ˜¯åªè¯»çš„ï¼Œä¸èƒ½èµ‹å€¼ã€‚\nåŠ¨ç”»çš„ç§ç±» é—ªç°ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰\nåŒ€é€Ÿï¼ˆæœ¬æ–‡é‡ç‚¹ï¼‰\nç¼“åŠ¨ï¼ˆåç»­é‡ç‚¹ï¼‰\nç®€å•ä¸¾ä¾‹å¦‚ä¸‹ï¼šï¼ˆæ¯é—´éš”500msï¼Œå‘å³ç§»åŠ¨ç›’å­100pxï¼‰\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e div { width: 100px; height: 100px; background-color: pink; position: absolute; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cbutton\u003eåŠ¨ç”»\u003c/button\u003e \u003cdiv class=\"box\" style=\"left: 0px\"\u003e\u003c/div\u003e \u003cscript\u003e var btn = document.getElementsByTagName(\"button\")[0]; var div = document.getElementsByTagName(\"div\")[0]; //1ã€é—ªåŠ¨ // btn.onclick = function () { // div.style.left = \"500px\"; // } //2ã€åŒ€é€Ÿè¿åŠ¨ btn.onclick = function () { //å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€å®šçš„æ—¶é—´å‘å³èµ°ä¸€äº› setInterval(function () { console.log(parseInt(div.style.left)); //åŠ¨ç”»åŸç†ï¼š ç›’å­æœªæ¥çš„ä½ç½® = ç›’å­ç°åœ¨çš„ä½ç½® + æ­¥é•¿ï¼› //æ–¹æ³•1ï¼šç”¨offsetLeftè·å–å€¼ï¼Œç”¨style.leftèµ‹å€¼ã€‚ div.style.left = div.offsetLeft + 100 + 'px'; // æ–¹æ³•2ï¼šå¿…é¡»ä¸€å¼€å§‹å°±åœ¨DOMèŠ‚ç‚¹ä¸Šæ·»åŠ  style=\"left: 0px;\"å±æ€§ï¼Œæ‰èƒ½ç”¨æ–¹æ³•2ã€‚å¦åˆ™ï¼Œ div.style.left çš„å€¼ä¸º NaN // div.style.left = parseInt(div.style.left)+100+\"px\"; //æ–¹æ³•2ï¼š }, 500); }; \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e æ•ˆæœå¦‚ä¸‹ï¼š\nåŒ€é€ŸåŠ¨ç”»çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œç§»åŠ¨ç›’å­10pxã€é‡è¦ã€‘ ä»£ç å¦‚ä¸‹ï¼š\n\u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e .box1 { margin: 0; padding: 5px; height: 300px; background-color: #ddd; position: relative; } button { margin: 5px; } .box2 { width: 100px; height: 100px; background-color: red; position: absolute; left: 195px; top: 40px; } .box3 { width: 100px; height: 100px; background-color: yellow; position: absolute; left: 0; top: 150px; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box1\"\u003e \u003cbutton\u003eè¿åŠ¨åˆ° left = 200px\u003c/button\u003e \u003cbutton\u003eè¿åŠ¨åˆ° left = 400px\u003c/button\u003e \u003cdiv class=\"box2\"\u003e\u003c/div\u003e \u003cdiv class=\"box3\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cscript\u003e var btnArr = document.getElementsByTagName(\"button\"); var box2 = document.getElementsByClassName(\"box2\")[0]; var box3 = document.getElementsByClassName(\"box3\")[0]; //ç»‘å®šäº‹ä»¶ btnArr[0].onclick = function () { //å¦‚æœæœ‰ä¸€å¤©æˆ‘ä»¬è¦ä¼ é€’å¦å¤–ä¸€ä¸ªç›’å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ–¹æ³•å°±ä¸å¥½ç”¨äº† //æ‰€ä»¥æˆ‘ä»¬è¦å¢åŠ ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¢«ç§»åŠ¨çš„ç›’å­æœ¬èº«ã€‚ animate(box2, 200); animate(box3, 200); } btnArr[1].onclick = function () { animate(box2, 400); animate(box3, 400); } //ã€é‡è¦ã€‘æ–¹æ³•çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œå°†ç›’å­å‘å³ç§»åŠ¨10px function animate(ele, target) { //è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…é™¤å®šæ—¶å™¨ //ä¸€ä¸ªç›’å­åªèƒ½æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸ä¼šå’Œå…¶ä»–ç›’å­å‡ºç°å®šæ—¶å™¨å†²çª //æˆ‘ä»¬å¯ä»¥æŠŠå®šæ—¶å™¨æœ¬èº«ï¼Œå½“æˆä¸ºç›’å­çš„ä¸€ä¸ªå±æ€§ clearInterval(ele.timer); //æˆ‘ä»¬è¦æ±‚ç›’å­æ—¢èƒ½å‘å‰åˆèƒ½å‘åï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ­¥é•¿å°±å¾—æœ‰æ­£æœ‰è´Ÿ //ç›®æ ‡å€¼å¦‚æœå¤§äºå½“å‰å€¼å–æ­£ï¼Œç›®æ ‡å€¼å¦‚æœå°äºå½“å‰å€¼å–è´Ÿ var speed = target \u003e ele.offsetLeft ? 10 : -10; //speedæŒ‡çš„æ˜¯æ­¥é•¿ ele.timer = setInterval(function () { //åœ¨æ‰§è¡Œä¹‹å‰å°±è·å–å½“å‰å€¼å’Œç›®æ ‡å€¼ä¹‹å·® var val = target - ele.offsetLeft; ele.style.left = ele.offsetLeft + speed + \"px\"; //ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›®æ ‡å€¼å’Œå½“å‰å€¼ä¹‹å·®å¦‚æœå°äºæ­¥é•¿ï¼Œé‚£ä¹ˆå°±ä¸èƒ½åœ¨å‰è¿›äº† //å› ä¸ºæ­¥é•¿æœ‰æ­£æœ‰è´Ÿï¼Œæ‰€æœ‰è½¬æ¢æˆç»å¯¹å€¼æ¥æ¯”è¾ƒ if (Math.abs(val) \u003c Math.abs(speed)) { ele.style.left = target + \"px\"; clearInterval(ele.timer); } }, 30) } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e å®ç°çš„æ•ˆæœï¼š\nä¸Šæ–¹ä»£ç ä¸­çš„æ–¹æ³•å°è£…ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡æ¿æ­¥éª¤ï¼Œè¦è®°ä½ã€‚å…¶å®ï¼Œè¿™ä¸ªå°è£…çš„æ–¹æ³•ï¼Œå†™æˆä¸‹é¢è¿™æ ·ï¼Œä¼šæ›´ä¸¥è°¨ï¼Œæ›´å®¹æ˜“ç†è§£ï¼šï¼ˆå°†ifè¯­å¥è¿›è¡Œäº†æ”¹è¿›ï¼‰\n//ã€é‡è¦ã€‘æ–¹æ³•çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œå°†ç›’å­å‘å³ç§»åŠ¨10px function animate(ele, target) { //è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…é™¤å®šæ—¶å™¨ //ä¸€ä¸ªç›’å­åªèƒ½æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸ä¼šå’Œå…¶ä»–ç›’å­å‡ºç°å®šæ—¶å™¨å†²çª //æˆ‘ä»¬å¯ä»¥æŠŠå®šæ—¶å™¨æœ¬èº«ï¼Œå½“æˆä¸ºç›’å­çš„ä¸€ä¸ªå±æ€§ clearInterval(ele.timer); //æˆ‘ä»¬è¦æ±‚ç›’å­æ—¢èƒ½å‘å‰åˆèƒ½å‘åï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ­¥é•¿å°±å¾—æœ‰æ­£æœ‰è´Ÿ //ç›®æ ‡å€¼å¦‚æœå¤§äºå½“å‰å€¼å–æ­£ï¼Œç›®æ ‡å€¼å¦‚æœå°äºå½“å‰å€¼å–è´Ÿ var speed = target \u003e ele.offsetLeft ? 10 : -10; //speedæŒ‡çš„æ˜¯æ­¥é•¿ ele.timer = setInterval(function () { //åœ¨æ‰§è¡Œä¹‹å‰å°±è·å–å½“å‰å€¼å’Œç›®æ ‡å€¼ä¹‹å·® var val = target - ele.offsetLeft; //ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›®æ ‡å€¼å’Œå½“å‰å€¼ä¹‹å·®å¦‚æœå°äºæ­¥é•¿ï¼Œé‚£ä¹ˆå°±ä¸èƒ½åœ¨å‰è¿›äº† //å› ä¸ºæ­¥é•¿æœ‰æ­£æœ‰è´Ÿï¼Œæ‰€æœ‰è½¬æ¢æˆç»å¯¹å€¼æ¥æ¯”è¾ƒ if (Math.abs(val) \u003c Math.abs(speed)) { //å¦‚æœvalå°äºæ­¥é•¿ï¼Œåˆ™ç›´æ¥åˆ°è¾¾ç›®çš„åœ°ï¼›å¦åˆ™ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªæ­¥é•¿ ele.style.left = target + \"px\"; clearInterval(ele.timer); } else { ele.style.left = ele.offsetLeft + speed + \"px\"; } }, 30) } ä»£ç ä¸¾ä¾‹ï¼šè½®æ’­å›¾çš„å®ç° å®Œæ•´ç‰ˆä»£ç å¦‚ä¸‹ï¼šï¼ˆæ³¨é‡Šå·²ç»æ¯”è¾ƒè¯¦ç»†ï¼‰\n\u003c!doctype html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/\u003e \u003ctitle\u003eæ— æ ‡é¢˜æ–‡æ¡£\u003c/title\u003e \u003cstyle type=\"text/css\"\u003e * { padding: 0; margin: 0; list-style: none; border: 0; } .all { width: 500px; height: 200px; padding: 7px; border: 1px solid #ccc; margin: 100px auto; position: relative; } .screen { width: 500px; height: 200px; overflow: hidden; position: relative; } .screen li { width: 500px; height: 200px; overflow: hidden; float: left; } .screen ul { position: absolute; left: 0; top: 0px; width: 3000px; } .all ol { position: absolute; right: 10px; bottom: 10px; line-height: 20px; text-align: center; } .all ol li { float: left; width: 20px; height: 20px; background: #fff; border: 1px solid #ccc; margin-left: 10px; cursor: pointer; } .all ol li.current { background: yellow; } #arr { display: none; } #arr span { width: 40px; height: 40px; position: absolute; left: 5px; top: 50%; margin-top: -20px; background: #000; cursor: pointer; line-height: 40px; text-align: center; font-weight: bold; font-family: 'é»‘ä½“'; font-size: 30px; color: #fff; opacity: 0.3; border: 1px solid #fff; } #arr #right { right: 5px; left: auto; } \u003c/style\u003e \u003cscript\u003e window.onload = function () { //éœ€æ±‚ï¼šæ— ç¼æ»šåŠ¨ã€‚ //æ€è·¯ï¼šèµ‹å€¼ç¬¬ä¸€å¼ å›¾ç‰‡æ”¾åˆ°ulçš„æœ€åï¼Œç„¶åå½“å›¾ç‰‡åˆ‡æ¢åˆ°ç¬¬äº”å¼ çš„æ—¶å€™ // ç›´æ¥åˆ‡æ¢ç¬¬å…­ç« ï¼Œå†æ¬¡ä»ç¬¬ä¸€å¼ åˆ‡æ¢åˆ°ç¬¬äºŒå¼ çš„æ—¶å€™å…ˆç¬é—´åˆ‡æ¢åˆ° // ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åæ»‘åŠ¨åˆ°ç¬¬äºŒå¼  //æ­¥éª¤ï¼š //1.è·å–äº‹ä»¶æºåŠç›¸å…³å…ƒç´ ã€‚ï¼ˆè€ä¸‰æ­¥ï¼‰ //2.å¤åˆ¶ç¬¬ä¸€å¼ å›¾ç‰‡æ‰€åœ¨çš„li,æ·»åŠ åˆ°ulçš„æœ€åé¢ã€‚ //3.ç»™olä¸­æ·»åŠ liï¼Œulä¸­çš„ä¸ªæ•°-1ä¸ªï¼Œå¹¶ç‚¹äº®ç¬¬ä¸€ä¸ªæŒ‰é’®ã€‚ //4.é¼ æ ‡æ”¾åˆ°olçš„liä¸Šåˆ‡æ¢å›¾ç‰‡ //5.æ·»åŠ å®šæ—¶å™¨ //6.å·¦å³åˆ‡æ¢å›¾ç‰‡ï¼ˆé¼ æ ‡æ”¾ä¸Šå»éšè—ï¼Œç§»å¼€æ˜¾ç¤ºï¼‰ //1.è·å–äº‹ä»¶æºåŠç›¸å…³å…ƒç´ ã€‚ï¼ˆè€ä¸‰æ­¥ï¼‰ var all = document.getElementById(\"all\"); var screen = all.firstElementChild || all.firstChild; var imgWidth = screen.offsetWidth; var ul = screen.firstElementChild || screen.firstChild; var ol = screen.children[1]; var div = screen.lastElementChild || screen.lastChild; var spanArr = div.children; //2.å¤åˆ¶ç¬¬ä¸€å¼ å›¾ç‰‡æ‰€åœ¨çš„li,æ·»åŠ åˆ°ulçš„æœ€åé¢ã€‚ var ulNewLi = ul.children[0].cloneNode(true); ul.appendChild(ulNewLi); //3.ç»™olä¸­æ·»åŠ liï¼Œulä¸­çš„ä¸ªæ•°-1ä¸ªï¼Œå¹¶ç‚¹äº®ç¬¬ä¸€ä¸ªæŒ‰é’®ã€‚ for (var i = 0; i \u003c ul.children.length - 1; i++) { var olNewLi = document.createElement(\"li\"); olNewLi.innerHTML = i + 1; ol.appendChild(olNewLi) } var olLiArr = ol.children; olLiArr[0].className = \"current\"; //4.é¼ æ ‡æ”¾åˆ°olçš„liä¸Šåˆ‡æ¢å›¾ç‰‡ for (var i = 0; i \u003c olLiArr.length; i++) { //è‡ªå®šä¹‰å±æ€§ï¼ŒæŠŠç´¢å¼•å€¼ç»‘å®šåˆ°å…ƒç´ çš„indexå±æ€§ä¸Š olLiArr[i].index = i; olLiArr[i].onmouseover = function () { //æ’ä»–æ€æƒ³ for (var j = 0; j \u003c olLiArr.length; j++) { olLiArr[j].className = \"\"; } this.className = \"current\"; //é¼ æ ‡æ”¾åˆ°å°çš„æ–¹å—ä¸Šçš„æ—¶å€™ç´¢å¼•å€¼å’Œkeyä»¥åŠsquareåŒæ­¥ // key = this.index; // square = this.index; key = square = this.index; //ç§»åŠ¨ç›’å­ animate(ul, -this.index * imgWidth); } } //5.æ·»åŠ å®šæ—¶å™¨ var timer = setInterval(autoPlay, 1000); //å›ºå®šå‘å³åˆ‡æ¢å›¾ç‰‡ //ä¸¤ä¸ªå®šæ—¶å™¨ï¼ˆä¸€ä¸ªè®°å½•å›¾ç‰‡ï¼Œä¸€ä¸ªè®°å½•å°æ–¹å—ï¼‰ var key = 0; var square = 0; function autoPlay() { //é€šè¿‡æ§åˆ¶keyçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå›¾ç‰‡çš„ç´¢å¼•å€¼ï¼Œç„¶åç§»åŠ¨ul key++; if (key \u003e olLiArr.length) { //å›¾ç‰‡å·²ç»æ»‘åŠ¨åˆ°æœ€åä¸€å¼ ï¼Œæ¥ä¸‹æ¥ï¼Œè·³è½¬åˆ°ç¬¬ä¸€å¼ ï¼Œç„¶ååœ¨æ»‘åŠ¨åˆ°ç¬¬äºŒå¼  ul.style.left = 0; key = 1; } animate(ul, -key * imgWidth); //é€šè¿‡æ§åˆ¶squareçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå°æ–¹å—çš„ç´¢å¼•å€¼ï¼Œç„¶åç‚¹äº®ç›’å­ //æ’ä»–æ€æƒ³åšå°æ–¹å— square++; if (square \u003e olLiArr.length - 1) {//ç´¢å¼•å€¼ä¸èƒ½å¤§äºç­‰äº5ï¼Œå¦‚æœç­‰äº5ï¼Œç«‹åˆ»å˜ä¸º0ï¼› square = 0; } for (var i = 0; i \u003c olLiArr.length; i++) { olLiArr[i].className = \"\"; } olLiArr[square].className = \"current\"; } //é¼ æ ‡æ”¾ä¸Šå»æ¸…é™¤å®šæ—¶å™¨ï¼Œç§»å¼€ååœ¨å¼€å¯å®šæ—¶å™¨ all.onmouseover = function () { div.style.display = \"block\"; clearInterval(timer); } all.onmouseout = function () { div.style.display = \"none\"; timer = setInterval(autoPlay, 1000); } //6.å·¦å³åˆ‡æ¢å›¾ç‰‡ï¼ˆé¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºï¼Œç§»å¼€éšè—ï¼‰ spanArr[0].onclick = function () { //é€šè¿‡æ§åˆ¶keyçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå›¾ç‰‡çš„ç´¢å¼•å€¼ï¼Œç„¶åç§»åŠ¨ul key--; if (key \u003c 0) { //å…ˆç§»åŠ¨åˆ°æœ€åä¸€å¼ ï¼Œç„¶åkeyçš„å€¼å–ä¹‹å‰ä¸€å¼ çš„ç´¢å¼•å€¼ï¼Œç„¶ååœ¨å‘å‰ç§»åŠ¨ ul.style.left = -imgWidth * (olLiArr.length) + \"px\"; key = olLiArr.length - 1; } animate(ul, -key * imgWidth); //é€šè¿‡æ§åˆ¶squareçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå°æ–¹å—çš„ç´¢å¼•å€¼ï¼Œç„¶åç‚¹äº®ç›’å­ //æ’ä»–æ€æƒ³åšå°æ–¹å— square--; if (square \u003c 0) {//ç´¢å¼•å€¼ä¸èƒ½å¤§äºç­‰äº5ï¼Œå¦‚æœç­‰äº5ï¼Œç«‹åˆ»å˜ä¸º0ï¼› square = olLiArr.length - 1; } for (var i = 0; i \u003c olLiArr.length; i++) { olLiArr[i].className = \"\"; } olLiArr[square].className = \"current\"; } spanArr[1].onclick = function () { //å³ä¾§çš„å’Œå®šæ—¶å™¨ä¸€æ¨¡ä¸€æ · autoPlay(); } function animate(ele, target) { clearInterval(ele.timer); var speed = target \u003e ele.offsetLeft ? 10 : -10; ele.timer = setInterval(function () { var val = target - ele.offsetLeft; ele.style.left = ele.offsetLeft + speed + \"px\"; if (Math.abs(val) \u003c Math.abs(speed)) { ele.style.left = target + \"px\"; clearInterval(ele.timer); } }, 10) } } \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"all\" id='all'\u003e \u003cdiv class=\"screen\" id=\"screen\"\u003e \u003cul id=\"ul\"\u003e \u003cli\u003e\u003cimg src=\"images/1.jpg\" width=\"500\" height=\"200\"/\u003e\u003c/li\u003e \u003cli\u003e\u003cimg src=\"images/2.jpg\" width=\"500\" height=\"200\"/\u003e\u003c/li\u003e \u003cli\u003e\u003cimg src=\"images/3.jpg\" width=\"500\" height=\"200\"/\u003e\u003c/li\u003e \u003cli\u003e\u003cimg src=\"images/4.jpg\" width=\"500\" height=\"200\"/\u003e\u003c/li\u003e \u003cli\u003e\u003cimg src=\"images/5.jpg\" width=\"500\" height=\"200\"/\u003e\u003c/li\u003e \u003c/ul\u003e \u003col\u003e \u003c/ol\u003e \u003cdiv id=\"arr\"\u003e \u003cspan id=\"left\"\u003e\u003c\u003c/span\u003e \u003cspan id=\"right\"\u003e\u003e\u003c/span\u003e \u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e å®ç°æ•ˆæœï¼š\næ¸©é¦¨æç¤ºï¼šåŠ¨å›¾å¤ªå¤§ï¼Œå¯ä»¥æŠŠhttp://img.smyhvae.com/20180202_2020.gifå•ç‹¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚\nå·¥ç¨‹æ–‡ä»¶ï¼š\n2018-02-02-JSåŠ¨ç”»å®ç°è½®æ’­å›¾.rar ","wordCount":"3996","inLanguage":"en","datePublished":"2020-01-01T17:11:35+08:00","dateModified":"2020-01-01T17:11:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/tech/wait/04-javascript/36-offset%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E5%8C%80%E9%80%9F%E5%8A%A8%E7%94%BB%E5%90%AB%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%9A%84%E5%AE%9E%E7%8E%B0/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>36-offsetç›¸å…³å±æ€§å’ŒåŒ€é€ŸåŠ¨ç”»(å«è½®æ’­å›¾çš„å®ç°)</h1><div class=post-meta><div class=post-tags-meta><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></div>8 min&nbsp;Â·&nbsp;<span title='2020-01-01 17:11:35 +0800 +0800'>2020/01/01</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=å‰è¨€>å‰è¨€</a></li><li><a href=#offset-%e5%ae%b6%e6%97%8f%e7%9a%84%e7%bb%84%e6%88%90 aria-label="offset å®¶æ—çš„ç»„æˆ">offset å®¶æ—çš„ç»„æˆ</a><ul><li><a href=#1offsetwidth-%e5%92%8c-offsethight aria-label="1ã€offsetWidth å’Œ offsetHight">1ã€offsetWidth å’Œ offsetHight</a></li><li><a href=#2offsetparent aria-label=2ã€offsetParent>2ã€offsetParent</a></li><li><a href=#3offsetleft-%e5%92%8c-offsettop aria-label="3ã€offsetLeft å’Œ offsetTop">3ã€offsetLeft å’Œ offsetTop</a></li><li><a href=#offsetleft-%e5%92%8c-styleleft-%e5%8c%ba%e5%88%ab aria-label="offsetLeft å’Œ style.left åŒºåˆ«">offsetLeft å’Œ style.left åŒºåˆ«</a></li></ul></li><li><a href=#%e5%8a%a8%e7%94%bb%e7%9a%84%e7%a7%8d%e7%b1%bb aria-label=åŠ¨ç”»çš„ç§ç±»>åŠ¨ç”»çš„ç§ç±»</a></li><li><a href=#%e5%8c%80%e9%80%9f%e5%8a%a8%e7%94%bb%e7%9a%84%e5%b0%81%e8%a3%85%e6%af%8f%e9%97%b4%e9%9a%9430ms%e7%a7%bb%e5%8a%a8%e7%9b%92%e5%ad%9010px%e9%87%8d%e8%a6%81 aria-label=åŒ€é€ŸåŠ¨ç”»çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œç§»åŠ¨ç›’å­10pxã€é‡è¦ã€‘>åŒ€é€ŸåŠ¨ç”»çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œç§»åŠ¨ç›’å­10pxã€é‡è¦ã€‘</a></li><li><a href=#%e4%bb%a3%e7%a0%81%e4%b8%be%e4%be%8b%e8%bd%ae%e6%92%ad%e5%9b%be%e7%9a%84%e5%ae%9e%e7%8e%b0 aria-label=ä»£ç ä¸¾ä¾‹ï¼šè½®æ’­å›¾çš„å®ç°>ä»£ç ä¸¾ä¾‹ï¼šè½®æ’­å›¾çš„å®ç°</a></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=å‰è¨€>å‰è¨€<a hidden class=anchor aria-hidden=true href=#å‰è¨€>#</a></h2><p>JSåŠ¨ç”»çš„ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š</p><p>1ã€ä¸‰å¤§å®¶æ—å’Œä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼š</p><ul><li><p>ä¸‰å¤§å®¶æ—ï¼šoffset/scroll/clientã€‚ä¹Ÿå«ä¸‰å¤§ç³»åˆ—ã€‚</p></li><li><p>äº‹ä»¶å¯¹è±¡/eventï¼ˆäº‹ä»¶è¢«è§¦åŠ¨æ—¶ï¼Œé¼ æ ‡å’Œé”®ç›˜çš„çŠ¶æ€ï¼‰ï¼ˆé€šè¿‡å±æ€§æ§åˆ¶ï¼‰ã€‚</p></li></ul><p>2ã€åŠ¨ç”»(é—ªç°/åŒ€é€Ÿ/ç¼“åŠ¨)</p><p>3ã€å†’æ³¡/å…¼å®¹/å°è£…</p><h2 id=offset-å®¶æ—çš„ç»„æˆ>offset å®¶æ—çš„ç»„æˆ<a hidden class=anchor aria-hidden=true href=#offset-å®¶æ—çš„ç»„æˆ>#</a></h2><p>æˆ‘ä»¬çŸ¥é“ï¼ŒJSåŠ¨ç”»çš„ä¸‰å¤§å®¶æ—åŒ…æ‹¬ï¼šoffset/scroll/clientã€‚ä»Šå¤©æ¥è®²ä¸€ä¸‹offsetï¼Œä»¥åŠä¸å…¶ç›¸å…³çš„åŒ€é€ŸåŠ¨ç”»ã€‚</p><blockquote><p>offsetçš„ä¸­æ–‡æ˜¯ï¼šåç§»ï¼Œè¡¥å¿ï¼Œä½ç§»ã€‚</p></blockquote><p>jsä¸­æœ‰ä¸€å¥—æ–¹ä¾¿çš„<strong>è·å–å…ƒç´ å°ºå¯¸</strong>çš„åŠæ³•å°±æ˜¯offsetå®¶æ—ã€‚offsetå®¶æ—åŒ…æ‹¬ï¼š</p><ul><li><p>offsetWidth</p></li><li><p>offsetHight</p></li><li><p>offsetLeft</p></li><li><p>offsetTop</p></li><li><p>offsetParent</p></li></ul><p>ä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚</p><h3 id=1offsetwidth-å’Œ-offsethight>1ã€offsetWidth å’Œ offsetHight<a hidden class=anchor aria-hidden=true href=#1offsetwidth-å’Œ-offsethight>#</a></h3><p><code>offsetWidth</code> å’Œ <code>offsetHight</code>ï¼šè·å–å…ƒç´ çš„<strong>å®½é«˜ + padding + border</strong>ï¼Œä¸åŒ…æ‹¬marginã€‚å¦‚ä¸‹ï¼š</p><ul><li><p>offsetWidth = width + padding + border</p></li><li><p>offsetHeight = Height + padding + border</p></li></ul><p>è¿™ä¸¤ä¸ªå±æ€§ï¼Œä»–ä»¬ç»‘å®šåœ¨äº†æ‰€æœ‰çš„èŠ‚ç‚¹å…ƒç´ ä¸Šã€‚è·å–å…ƒç´ ä¹‹åï¼Œåªè¦è°ƒç”¨è¿™ä¸¤ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè·å–å…ƒç´ èŠ‚ç‚¹çš„å®½å’Œé«˜ã€‚</p><p>ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#9d0006>div</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>padding</span>: <span style=color:#8f3f71>10</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>10</span><span style=color:#b57614>px</span> <span style=color:#af3a03>solid</span> <span style=color:#8f3f71>#000</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>pink</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> div1 <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByTagName(<span style=color:#79740e>&#34;div&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    console.log(div1.offsetHeight);          <span style=color:#928374;font-style:italic>//æ‰“å°ç»“æœï¼š140ï¼ˆ100+20+20ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    console.log(<span style=color:#af3a03>typeof</span> div1.offsetHeight);   <span style=color:#928374;font-style:italic>//æ‰“å°ç»“æœï¼šnumber
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><h3 id=2offsetparent>2ã€offsetParent<a hidden class=anchor aria-hidden=true href=#2offsetparent>#</a></h3><p><code>offsetParent</code>ï¼šè·å–å½“å‰å…ƒç´ çš„<strong>å®šä½çˆ¶å…ƒç´ </strong>ã€‚</p><ul><li><p>å¦‚æœå½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œ<strong>æœ‰CSSå®šä½</strong>ï¼ˆpositionä¸ºabsoluteã€relativeã€fixedï¼‰ï¼Œé‚£ä¹ˆ <code>offsetParent</code> è·å–çš„æ˜¯<strong>æœ€è¿‘çš„</strong>é‚£ä¸ªçˆ¶å…ƒç´ ã€‚</p></li><li><p>å¦‚æœå½“å‰å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œ<strong>æ²¡æœ‰CSSå®šä½</strong>ï¼ˆpositionä¸ºabsoluteã€relativeã€fixedï¼‰ï¼Œé‚£ä¹ˆ<code>offsetParent</code> è·å–çš„æ˜¯<strong>body</strong>ã€‚</p></li></ul><p>ä¸¾ä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box1&#34;</span> <span style=color:#79740e;font-weight:700>style</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;position: absolute;&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box2&#34;</span> <span style=color:#79740e;font-weight:700>style</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;position: fixed;&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box3&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> box3 <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByClassName(<span style=color:#79740e>&#34;box3&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    console.log(box3.offsetParent);
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><p>æ‰“å°ç»“æœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_1725.png alt></p><h3 id=3offsetleft-å’Œ-offsettop>3ã€offsetLeft å’Œ offsetTop<a hidden class=anchor aria-hidden=true href=#3offsetleft-å’Œ-offsettop>#</a></h3><p><code>offsetLeft</code>ï¼šå½“å‰å…ƒç´ ç›¸å¯¹äºå…¶<strong>å®šä½çˆ¶å…ƒç´ </strong>çš„æ°´å¹³åç§»é‡ã€‚</p><p><code>offsetTop</code>ï¼šå½“å‰å…ƒç´ ç›¸å¯¹äºå…¶<strong>å®šä½çˆ¶å…ƒç´ </strong>çš„å‚ç›´åç§»é‡ã€‚</p><p>å¤‡æ³¨ï¼šä»çˆ¶äº²çš„ padding å¼€å§‹ç®—èµ·ï¼Œçˆ¶äº²çš„ border ä¸ç®—åœ¨å†…ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>        .box1 {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>300</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>300</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>padding</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>relative</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span> <span style=color:#af3a03>solid</span> <span style=color:#8f3f71>#000</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>pink</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .box2 {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>red</span>;
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>/*position: absolute;*/</span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>/*left: 10px;*/</span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>/*top: 10px;*/</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box1&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box2&#34;</span> <span style=color:#79740e;font-weight:700>style</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;left: 10px&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> box2 <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByClassName(<span style=color:#79740e>&#34;box2&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//offsetTopå’ŒoffsetLeft
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    console.log(box2.offsetLeft);  <span style=color:#928374;font-style:italic>//100
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    console.log(box2.style.left);  <span style=color:#928374;font-style:italic>//10px
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><p>åœ¨çˆ¶ç›’å­æœ‰å®šä½çš„æƒ…å†µä¸‹ï¼ŒoffsetLeft == style.left(å»æ‰pxä¹‹å)ã€‚æ³¨æ„ï¼Œåè€…åªè¯†åˆ«è¡Œå†…æ ·å¼ã€‚ä½†åŒºåˆ«ä¸ä»…ä»…äºæ­¤ï¼Œä¸‹é¢ä¼šè®²ã€‚</p><h3 id=offsetleft-å’Œ-styleleft-åŒºåˆ«>offsetLeft å’Œ style.left åŒºåˆ«<a hidden class=anchor aria-hidden=true href=#offsetleft-å’Œ-styleleft-åŒºåˆ«>#</a></h3><p>ï¼ˆ1ï¼‰æœ€å¤§åŒºåˆ«åœ¨äºï¼š</p><p>offsetLeft å¯ä»¥è¿”å›æ— å®šä½çˆ¶å…ƒç´ çš„åç§»é‡ã€‚å¦‚æœçˆ¶å…ƒç´ ä¸­éƒ½æ²¡æœ‰å®šä½ï¼Œåˆ™bodyä¸ºå‡†ã€‚</p><p>style.left åªèƒ½è·å–è¡Œå†…æ ·å¼ï¼Œå¦‚æœçˆ¶å…ƒç´ ä¸­éƒ½æ²¡æœ‰è®¾ç½®å®šä½ï¼Œåˆ™è¿”å›""ï¼ˆæ„æ€æ˜¯ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ï¼‰;</p><p>ï¼ˆ2ï¼‰offsetTop è¿”å›çš„æ˜¯æ•°å­—ï¼Œè€Œ style.top è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œä¸”è¿˜å¸¦æœ‰å•ä½ï¼špxã€‚</p><p>æ¯”å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span>div.offsetLeft <span style=color:#af3a03>=</span> <span style=color:#8f3f71>100</span>;
</span></span><span style=display:flex><span>div.style.left <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;100px&#34;</span>;
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰offsetLeft å’Œ offsetTop <strong>åªè¯»</strong>ï¼Œè€Œ style.left å’Œ style.top å¯è¯»å†™ï¼ˆåªè¯»æ˜¯è·å–å€¼ï¼Œå¯å†™æ˜¯ä¿®æ”¹å€¼ï¼‰</p><p>æ€»ç»“ï¼šæˆ‘ä»¬ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼š<strong>ç”¨offsetLeft å’Œ offsetTop è·å–å€¼ï¼Œç”¨style.left å’Œ style.top èµ‹å€¼</strong>ï¼ˆæ¯”è¾ƒæ–¹ä¾¿ï¼‰ã€‚ç†ç”±å¦‚ä¸‹ï¼š</p><ul><li><p>style.leftï¼šåªèƒ½è·å–è¡Œå†…å¼ï¼Œè·å–çš„å€¼å¯èƒ½ä¸ºç©ºï¼Œå®¹æ˜“å‡ºç°NaNã€‚</p></li><li><p>offsetLeftï¼šè·å–å€¼ç‰¹åˆ«æ–¹ä¾¿ï¼Œè€Œä¸”æ˜¯ç°æˆçš„numberï¼Œæ–¹ä¾¿è®¡ç®—ã€‚å®ƒæ˜¯åªè¯»çš„ï¼Œä¸èƒ½èµ‹å€¼ã€‚</p></li></ul><h2 id=åŠ¨ç”»çš„ç§ç±»>åŠ¨ç”»çš„ç§ç±»<a hidden class=anchor aria-hidden=true href=#åŠ¨ç”»çš„ç§ç±»>#</a></h2><ul><li><p>é—ªç°ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰</p></li><li><p>åŒ€é€Ÿï¼ˆæœ¬æ–‡é‡ç‚¹ï¼‰</p></li><li><p>ç¼“åŠ¨ï¼ˆåç»­é‡ç‚¹ï¼‰</p></li></ul><p>ç®€å•ä¸¾ä¾‹å¦‚ä¸‹ï¼šï¼ˆæ¯é—´éš”500msï¼Œå‘å³ç§»åŠ¨ç›’å­100pxï¼‰</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#9d0006>div</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>pink</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>button</span>&gt;åŠ¨ç”»&lt;/<span style=color:#9d0006>button</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box&#34;</span> <span style=color:#79740e;font-weight:700>style</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;left: 0px&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> btn <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByTagName(<span style=color:#79740e>&#34;button&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> div <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByTagName(<span style=color:#79740e>&#34;div&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//1ã€é—ªåŠ¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    <span style=color:#928374;font-style:italic>//    btn.onclick = function () {
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    <span style=color:#928374;font-style:italic>//        div.style.left = &#34;500px&#34;;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    <span style=color:#928374;font-style:italic>//    }
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//2ã€åŒ€é€Ÿè¿åŠ¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    btn.onclick <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€å®šçš„æ—¶é—´å‘å³èµ°ä¸€äº›
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        setInterval(<span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>            console.log(<span style=color:#b57614>parseInt</span>(div.style.left));
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//åŠ¨ç”»åŸç†ï¼š ç›’å­æœªæ¥çš„ä½ç½® = ç›’å­ç°åœ¨çš„ä½ç½® + æ­¥é•¿ï¼›
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//æ–¹æ³•1ï¼šç”¨offsetLeftè·å–å€¼ï¼Œç”¨style.leftèµ‹å€¼ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            div.style.left <span style=color:#af3a03>=</span> div.offsetLeft <span style=color:#af3a03>+</span> <span style=color:#8f3f71>100</span> <span style=color:#af3a03>+</span> <span style=color:#79740e>&#39;px&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>// æ–¹æ³•2ï¼šå¿…é¡»ä¸€å¼€å§‹å°±åœ¨DOMèŠ‚ç‚¹ä¸Šæ·»åŠ  style=&#34;left: 0px;&#34;å±æ€§ï¼Œæ‰èƒ½ç”¨æ–¹æ³•2ã€‚å¦åˆ™ï¼Œ div.style.left çš„å€¼ä¸º NaN
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>// div.style.left = parseInt(div.style.left)+100+&#34;px&#34;;  //æ–¹æ³•2ï¼š
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        }, <span style=color:#8f3f71>500</span>);
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_1840.gif alt></p><h2 id=åŒ€é€ŸåŠ¨ç”»çš„å°è£…æ¯é—´éš”30msç§»åŠ¨ç›’å­10pxé‡è¦>åŒ€é€ŸåŠ¨ç”»çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œç§»åŠ¨ç›’å­10pxã€é‡è¦ã€‘<a hidden class=anchor aria-hidden=true href=#åŒ€é€ŸåŠ¨ç”»çš„å°è£…æ¯é—´éš”30msç§»åŠ¨ç›’å­10pxé‡è¦>#</a></h2><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>charset</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>        .box1 {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>padding</span>: <span style=color:#8f3f71>5</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>300</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#8f3f71>#ddd</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>relative</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#9d0006>button</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>5</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .box2 {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>red</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>left</span>: <span style=color:#8f3f71>195</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>top</span>: <span style=color:#8f3f71>40</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .box3 {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background-color</span>: <span style=color:#af3a03>yellow</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>left</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>top</span>: <span style=color:#8f3f71>150</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box1&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>button</span>&gt;è¿åŠ¨åˆ° left = 200px&lt;/<span style=color:#9d0006>button</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>button</span>&gt;è¿åŠ¨åˆ° left = 400px&lt;/<span style=color:#9d0006>button</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box2&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;box3&#34;</span>&gt;&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> btnArr <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByTagName(<span style=color:#79740e>&#34;button&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> box2 <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByClassName(<span style=color:#79740e>&#34;box2&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#af3a03>var</span> box3 <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementsByClassName(<span style=color:#79740e>&#34;box3&#34;</span>)[<span style=color:#8f3f71>0</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//ç»‘å®šäº‹ä»¶
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    btnArr[<span style=color:#8f3f71>0</span>].onclick <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//å¦‚æœæœ‰ä¸€å¤©æˆ‘ä»¬è¦ä¼ é€’å¦å¤–ä¸€ä¸ªç›’å­ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ–¹æ³•å°±ä¸å¥½ç”¨äº†
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//æ‰€ä»¥æˆ‘ä»¬è¦å¢åŠ ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¢«ç§»åŠ¨çš„ç›’å­æœ¬èº«ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        animate(box2, <span style=color:#8f3f71>200</span>);
</span></span><span style=display:flex><span>        animate(box3, <span style=color:#8f3f71>200</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    btnArr[<span style=color:#8f3f71>1</span>].onclick <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>        animate(box2, <span style=color:#8f3f71>400</span>);
</span></span><span style=display:flex><span>        animate(box3, <span style=color:#8f3f71>400</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//ã€é‡è¦ã€‘æ–¹æ³•çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œå°†ç›’å­å‘å³ç§»åŠ¨10px
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    <span style=color:#af3a03>function</span> animate(ele, target) {
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…é™¤å®šæ—¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//ä¸€ä¸ªç›’å­åªèƒ½æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸ä¼šå’Œå…¶ä»–ç›’å­å‡ºç°å®šæ—¶å™¨å†²çª
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//æˆ‘ä»¬å¯ä»¥æŠŠå®šæ—¶å™¨æœ¬èº«ï¼Œå½“æˆä¸ºç›’å­çš„ä¸€ä¸ªå±æ€§
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        clearInterval(ele.timer);
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//æˆ‘ä»¬è¦æ±‚ç›’å­æ—¢èƒ½å‘å‰åˆèƒ½å‘åï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ­¥é•¿å°±å¾—æœ‰æ­£æœ‰è´Ÿ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//ç›®æ ‡å€¼å¦‚æœå¤§äºå½“å‰å€¼å–æ­£ï¼Œç›®æ ‡å€¼å¦‚æœå°äºå½“å‰å€¼å–è´Ÿ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#af3a03>var</span> speed <span style=color:#af3a03>=</span> target <span style=color:#af3a03>&gt;</span> ele.offsetLeft <span style=color:#af3a03>?</span> <span style=color:#8f3f71>10</span> <span style=color:#af3a03>:</span> <span style=color:#af3a03>-</span><span style=color:#8f3f71>10</span>;  <span style=color:#928374;font-style:italic>//speedæŒ‡çš„æ˜¯æ­¥é•¿
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        ele.timer <span style=color:#af3a03>=</span> setInterval(<span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//åœ¨æ‰§è¡Œä¹‹å‰å°±è·å–å½“å‰å€¼å’Œç›®æ ‡å€¼ä¹‹å·®
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> val <span style=color:#af3a03>=</span> target <span style=color:#af3a03>-</span> ele.offsetLeft;
</span></span><span style=display:flex><span>            ele.style.left <span style=color:#af3a03>=</span> ele.offsetLeft <span style=color:#af3a03>+</span> speed <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›®æ ‡å€¼å’Œå½“å‰å€¼ä¹‹å·®å¦‚æœå°äºæ­¥é•¿ï¼Œé‚£ä¹ˆå°±ä¸èƒ½åœ¨å‰è¿›äº†
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//å› ä¸ºæ­¥é•¿æœ‰æ­£æœ‰è´Ÿï¼Œæ‰€æœ‰è½¬æ¢æˆç»å¯¹å€¼æ¥æ¯”è¾ƒ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>if</span> (<span style=color:#b57614>Math</span>.abs(val) <span style=color:#af3a03>&lt;</span> <span style=color:#b57614>Math</span>.abs(speed)) {
</span></span><span style=display:flex><span>                ele.style.left <span style=color:#af3a03>=</span> target <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>                clearInterval(ele.timer);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }, <span style=color:#8f3f71>30</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><p>å®ç°çš„æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_1910.gif alt></p><p>ä¸Šæ–¹ä»£ç ä¸­çš„æ–¹æ³•å°è£…ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæ¨¡æ¿æ­¥éª¤ï¼Œè¦è®°ä½ã€‚å…¶å®ï¼Œè¿™ä¸ªå°è£…çš„æ–¹æ³•ï¼Œå†™æˆä¸‹é¢è¿™æ ·ï¼Œä¼šæ›´ä¸¥è°¨ï¼Œæ›´å®¹æ˜“ç†è§£ï¼šï¼ˆå°†ifè¯­å¥è¿›è¡Œäº†æ”¹è¿›ï¼‰</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    <span style=color:#928374;font-style:italic>//ã€é‡è¦ã€‘æ–¹æ³•çš„å°è£…ï¼šæ¯é—´éš”30msï¼Œå°†ç›’å­å‘å³ç§»åŠ¨10px
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>    <span style=color:#af3a03>function</span> animate(ele, target) {
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//è¦ç”¨å®šæ—¶å™¨ï¼Œå…ˆæ¸…é™¤å®šæ—¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//ä¸€ä¸ªç›’å­åªèƒ½æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸ä¼šå’Œå…¶ä»–ç›’å­å‡ºç°å®šæ—¶å™¨å†²çª
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//æˆ‘ä»¬å¯ä»¥æŠŠå®šæ—¶å™¨æœ¬èº«ï¼Œå½“æˆä¸ºç›’å­çš„ä¸€ä¸ªå±æ€§
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        clearInterval(ele.timer);
</span></span><span style=display:flex><span>        <span style=color:#928374;font-style:italic>//æˆ‘ä»¬è¦æ±‚ç›’å­æ—¢èƒ½å‘å‰åˆèƒ½å‘åï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ­¥é•¿å°±å¾—æœ‰æ­£æœ‰è´Ÿ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#928374;font-style:italic>//ç›®æ ‡å€¼å¦‚æœå¤§äºå½“å‰å€¼å–æ­£ï¼Œç›®æ ‡å€¼å¦‚æœå°äºå½“å‰å€¼å–è´Ÿ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#af3a03>var</span> speed <span style=color:#af3a03>=</span> target <span style=color:#af3a03>&gt;</span> ele.offsetLeft <span style=color:#af3a03>?</span> <span style=color:#8f3f71>10</span> <span style=color:#af3a03>:</span> <span style=color:#af3a03>-</span><span style=color:#8f3f71>10</span>;  <span style=color:#928374;font-style:italic>//speedæŒ‡çš„æ˜¯æ­¥é•¿
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        ele.timer <span style=color:#af3a03>=</span> setInterval(<span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//åœ¨æ‰§è¡Œä¹‹å‰å°±è·å–å½“å‰å€¼å’Œç›®æ ‡å€¼ä¹‹å·®
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> val <span style=color:#af3a03>=</span> target <span style=color:#af3a03>-</span> ele.offsetLeft;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœç›®æ ‡å€¼å’Œå½“å‰å€¼ä¹‹å·®å¦‚æœå°äºæ­¥é•¿ï¼Œé‚£ä¹ˆå°±ä¸èƒ½åœ¨å‰è¿›äº†
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//å› ä¸ºæ­¥é•¿æœ‰æ­£æœ‰è´Ÿï¼Œæ‰€æœ‰è½¬æ¢æˆç»å¯¹å€¼æ¥æ¯”è¾ƒ
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>if</span> (<span style=color:#b57614>Math</span>.abs(val) <span style=color:#af3a03>&lt;</span> <span style=color:#b57614>Math</span>.abs(speed)) {  <span style=color:#928374;font-style:italic>//å¦‚æœvalå°äºæ­¥é•¿ï¼Œåˆ™ç›´æ¥åˆ°è¾¾ç›®çš„åœ°ï¼›å¦åˆ™ï¼Œæ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªæ­¥é•¿
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                ele.style.left <span style=color:#af3a03>=</span> target <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>                clearInterval(ele.timer);
</span></span><span style=display:flex><span>            } <span style=color:#af3a03>else</span> {
</span></span><span style=display:flex><span>                ele.style.left <span style=color:#af3a03>=</span> ele.offsetLeft <span style=color:#af3a03>+</span> speed <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }, <span style=color:#8f3f71>30</span>)
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h2 id=ä»£ç ä¸¾ä¾‹è½®æ’­å›¾çš„å®ç°>ä»£ç ä¸¾ä¾‹ï¼šè½®æ’­å›¾çš„å®ç°<a hidden class=anchor aria-hidden=true href=#ä»£ç ä¸¾ä¾‹è½®æ’­å›¾çš„å®ç°>#</a></h2><p>å®Œæ•´ç‰ˆä»£ç å¦‚ä¸‹ï¼šï¼ˆæ³¨é‡Šå·²ç»æ¯”è¾ƒè¯¦ç»†ï¼‰</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#427b58>&lt;!doctype html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>html</span> <span style=color:#79740e;font-weight:700>lang</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>meta</span> <span style=color:#79740e;font-weight:700>http-equiv</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;Content-Type&#34;</span> <span style=color:#79740e;font-weight:700>content</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;text/html; charset=utf-8&#34;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>title</span>&gt;æ— æ ‡é¢˜æ–‡æ¡£&lt;/<span style=color:#9d0006>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>style</span> <span style=color:#79740e;font-weight:700>type</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;text/css&#34;</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#af3a03>*</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>padding</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>list-style</span>: <span style=color:#af3a03>none</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .all {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>500</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>200</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>padding</span>: <span style=color:#8f3f71>7</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>1</span><span style=color:#b57614>px</span> <span style=color:#af3a03>solid</span> <span style=color:#8f3f71>#ccc</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin</span>: <span style=color:#8f3f71>100</span><span style=color:#b57614>px</span> <span style=color:#af3a03>auto</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>relative</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .screen {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>500</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>200</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>overflow</span>: <span style=color:#af3a03>hidden</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>relative</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .screen <span style=color:#9d0006>li</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>500</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>200</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>overflow</span>: <span style=color:#af3a03>hidden</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>float</span>: <span style=color:#af3a03>left</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .screen <span style=color:#9d0006>ul</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>left</span>: <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>top</span>: <span style=color:#8f3f71>0</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>3000</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .all <span style=color:#9d0006>ol</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>right</span>: <span style=color:#8f3f71>10</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>bottom</span>: <span style=color:#8f3f71>10</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>line-height</span>: <span style=color:#8f3f71>20</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>text-align</span>: <span style=color:#af3a03>center</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .all <span style=color:#9d0006>ol</span> <span style=color:#9d0006>li</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>float</span>: <span style=color:#af3a03>left</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>20</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>20</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background</span>: <span style=color:#8f3f71>#fff</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>1</span><span style=color:#b57614>px</span> <span style=color:#af3a03>solid</span> <span style=color:#8f3f71>#ccc</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin-left</span>: <span style=color:#8f3f71>10</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>cursor</span>: <span style=color:#af3a03>pointer</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .all <span style=color:#9d0006>ol</span> <span style=color:#9d0006>li</span>.current {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background</span>: <span style=color:#af3a03>yellow</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        #arr {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>display</span>: <span style=color:#af3a03>none</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        #arr <span style=color:#9d0006>span</span> {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>width</span>: <span style=color:#8f3f71>40</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>height</span>: <span style=color:#8f3f71>40</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>position</span>: <span style=color:#af3a03>absolute</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>left</span>: <span style=color:#8f3f71>5</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>top</span>: <span style=color:#8f3f71>50</span><span style=color:#b57614>%</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>margin-top</span>: <span style=color:#8f3f71>-20</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>background</span>: <span style=color:#8f3f71>#000</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>cursor</span>: <span style=color:#af3a03>pointer</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>line-height</span>: <span style=color:#8f3f71>40</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>text-align</span>: <span style=color:#af3a03>center</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>font-weight</span>: <span style=color:#af3a03>bold</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>font-family</span>: <span style=color:#79740e>&#39;é»‘ä½“&#39;</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>font-size</span>: <span style=color:#8f3f71>30</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>color</span>: <span style=color:#8f3f71>#fff</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>opacity</span>: <span style=color:#8f3f71>0.3</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>border</span>: <span style=color:#8f3f71>1</span><span style=color:#b57614>px</span> <span style=color:#af3a03>solid</span> <span style=color:#8f3f71>#fff</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        #arr #right {
</span></span><span style=display:flex><span>            <span style=color:#af3a03>right</span>: <span style=color:#8f3f71>5</span><span style=color:#b57614>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>left</span>: <span style=color:#af3a03>auto</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>style</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#b57614>window</span>.onload <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//éœ€æ±‚ï¼šæ— ç¼æ»šåŠ¨ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//æ€è·¯ï¼šèµ‹å€¼ç¬¬ä¸€å¼ å›¾ç‰‡æ”¾åˆ°ulçš„æœ€åï¼Œç„¶åå½“å›¾ç‰‡åˆ‡æ¢åˆ°ç¬¬äº”å¼ çš„æ—¶å€™
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//     ç›´æ¥åˆ‡æ¢ç¬¬å…­ç« ï¼Œå†æ¬¡ä»ç¬¬ä¸€å¼ åˆ‡æ¢åˆ°ç¬¬äºŒå¼ çš„æ—¶å€™å…ˆç¬é—´åˆ‡æ¢åˆ°
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//     ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åæ»‘åŠ¨åˆ°ç¬¬äºŒå¼ 
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//æ­¥éª¤ï¼š
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//1.è·å–äº‹ä»¶æºåŠç›¸å…³å…ƒç´ ã€‚ï¼ˆè€ä¸‰æ­¥ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//2.å¤åˆ¶ç¬¬ä¸€å¼ å›¾ç‰‡æ‰€åœ¨çš„li,æ·»åŠ åˆ°ulçš„æœ€åé¢ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//3.ç»™olä¸­æ·»åŠ liï¼Œulä¸­çš„ä¸ªæ•°-1ä¸ªï¼Œå¹¶ç‚¹äº®ç¬¬ä¸€ä¸ªæŒ‰é’®ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//4.é¼ æ ‡æ”¾åˆ°olçš„liä¸Šåˆ‡æ¢å›¾ç‰‡
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//5.æ·»åŠ å®šæ—¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//6.å·¦å³åˆ‡æ¢å›¾ç‰‡ï¼ˆé¼ æ ‡æ”¾ä¸Šå»éšè—ï¼Œç§»å¼€æ˜¾ç¤ºï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//1.è·å–äº‹ä»¶æºåŠç›¸å…³å…ƒç´ ã€‚ï¼ˆè€ä¸‰æ­¥ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> all <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.getElementById(<span style=color:#79740e>&#34;all&#34;</span>);
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> screen <span style=color:#af3a03>=</span> all.firstElementChild <span style=color:#af3a03>||</span> all.firstChild;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> imgWidth <span style=color:#af3a03>=</span> screen.offsetWidth;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> ul <span style=color:#af3a03>=</span> screen.firstElementChild <span style=color:#af3a03>||</span> screen.firstChild;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> ol <span style=color:#af3a03>=</span> screen.children[<span style=color:#8f3f71>1</span>];
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> div <span style=color:#af3a03>=</span> screen.lastElementChild <span style=color:#af3a03>||</span> screen.lastChild;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> spanArr <span style=color:#af3a03>=</span> div.children;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//2.å¤åˆ¶ç¬¬ä¸€å¼ å›¾ç‰‡æ‰€åœ¨çš„li,æ·»åŠ åˆ°ulçš„æœ€åé¢ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> ulNewLi <span style=color:#af3a03>=</span> ul.children[<span style=color:#8f3f71>0</span>].cloneNode(<span style=color:#af3a03>true</span>);
</span></span><span style=display:flex><span>            ul.appendChild(ulNewLi);
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//3.ç»™olä¸­æ·»åŠ liï¼Œulä¸­çš„ä¸ªæ•°-1ä¸ªï¼Œå¹¶ç‚¹äº®ç¬¬ä¸€ä¸ªæŒ‰é’®ã€‚
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>for</span> (<span style=color:#af3a03>var</span> i <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>; i <span style=color:#af3a03>&lt;</span> ul.children.length <span style=color:#af3a03>-</span> <span style=color:#8f3f71>1</span>; i<span style=color:#af3a03>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#af3a03>var</span> olNewLi <span style=color:#af3a03>=</span> <span style=color:#b57614>document</span>.createElement(<span style=color:#79740e>&#34;li&#34;</span>);
</span></span><span style=display:flex><span>                olNewLi.innerHTML <span style=color:#af3a03>=</span> i <span style=color:#af3a03>+</span> <span style=color:#8f3f71>1</span>;
</span></span><span style=display:flex><span>                ol.appendChild(olNewLi)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> olLiArr <span style=color:#af3a03>=</span> ol.children;
</span></span><span style=display:flex><span>            olLiArr[<span style=color:#8f3f71>0</span>].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;current&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//4.é¼ æ ‡æ”¾åˆ°olçš„liä¸Šåˆ‡æ¢å›¾ç‰‡
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>for</span> (<span style=color:#af3a03>var</span> i <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>; i <span style=color:#af3a03>&lt;</span> olLiArr.length; i<span style=color:#af3a03>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//è‡ªå®šä¹‰å±æ€§ï¼ŒæŠŠç´¢å¼•å€¼ç»‘å®šåˆ°å…ƒç´ çš„indexå±æ€§ä¸Š
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                olLiArr[i].index <span style=color:#af3a03>=</span> i;
</span></span><span style=display:flex><span>                olLiArr[i].onmouseover <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                    <span style=color:#928374;font-style:italic>//æ’ä»–æ€æƒ³
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    <span style=color:#af3a03>for</span> (<span style=color:#af3a03>var</span> j <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>; j <span style=color:#af3a03>&lt;</span> olLiArr.length; j<span style=color:#af3a03>++</span>) {
</span></span><span style=display:flex><span>                        olLiArr[j].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;&#34;</span>;
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#af3a03>this</span>.className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;current&#34;</span>;
</span></span><span style=display:flex><span>                    <span style=color:#928374;font-style:italic>//é¼ æ ‡æ”¾åˆ°å°çš„æ–¹å—ä¸Šçš„æ—¶å€™ç´¢å¼•å€¼å’Œkeyä»¥åŠsquareåŒæ­¥
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//                    key = this.index;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//                    square = this.index;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    key <span style=color:#af3a03>=</span> square <span style=color:#af3a03>=</span> <span style=color:#af3a03>this</span>.index;
</span></span><span style=display:flex><span>                    <span style=color:#928374;font-style:italic>//ç§»åŠ¨ç›’å­
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    animate(ul, <span style=color:#af3a03>-</span><span style=color:#af3a03>this</span>.index <span style=color:#af3a03>*</span> imgWidth);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//5.æ·»åŠ å®šæ—¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> timer <span style=color:#af3a03>=</span> setInterval(autoPlay, <span style=color:#8f3f71>1000</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//å›ºå®šå‘å³åˆ‡æ¢å›¾ç‰‡
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#928374;font-style:italic>//ä¸¤ä¸ªå®šæ—¶å™¨ï¼ˆä¸€ä¸ªè®°å½•å›¾ç‰‡ï¼Œä¸€ä¸ªè®°å½•å°æ–¹å—ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            <span style=color:#af3a03>var</span> key <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#af3a03>var</span> square <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#af3a03>function</span> autoPlay() {
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//é€šè¿‡æ§åˆ¶keyçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå›¾ç‰‡çš„ç´¢å¼•å€¼ï¼Œç„¶åç§»åŠ¨ul
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                key<span style=color:#af3a03>++</span>;
</span></span><span style=display:flex><span>                <span style=color:#af3a03>if</span> (key <span style=color:#af3a03>&gt;</span> olLiArr.length) {
</span></span><span style=display:flex><span>                    <span style=color:#928374;font-style:italic>//å›¾ç‰‡å·²ç»æ»‘åŠ¨åˆ°æœ€åä¸€å¼ ï¼Œæ¥ä¸‹æ¥ï¼Œè·³è½¬åˆ°ç¬¬ä¸€å¼ ï¼Œç„¶ååœ¨æ»‘åŠ¨åˆ°ç¬¬äºŒå¼ 
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    ul.style.left <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>                    key <span style=color:#af3a03>=</span> <span style=color:#8f3f71>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                animate(ul, <span style=color:#af3a03>-</span>key <span style=color:#af3a03>*</span> imgWidth);
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//é€šè¿‡æ§åˆ¶squareçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå°æ–¹å—çš„ç´¢å¼•å€¼ï¼Œç„¶åç‚¹äº®ç›’å­
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                <span style=color:#928374;font-style:italic>//æ’ä»–æ€æƒ³åšå°æ–¹å—
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                square<span style=color:#af3a03>++</span>;
</span></span><span style=display:flex><span>                <span style=color:#af3a03>if</span> (square <span style=color:#af3a03>&gt;</span> olLiArr.length <span style=color:#af3a03>-</span> <span style=color:#8f3f71>1</span>) {<span style=color:#928374;font-style:italic>//ç´¢å¼•å€¼ä¸èƒ½å¤§äºç­‰äº5ï¼Œå¦‚æœç­‰äº5ï¼Œç«‹åˆ»å˜ä¸º0ï¼›
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    square <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#af3a03>for</span> (<span style=color:#af3a03>var</span> i <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>; i <span style=color:#af3a03>&lt;</span> olLiArr.length; i<span style=color:#af3a03>++</span>) {
</span></span><span style=display:flex><span>                    olLiArr[i].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;&#34;</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                olLiArr[square].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;current&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//é¼ æ ‡æ”¾ä¸Šå»æ¸…é™¤å®šæ—¶å™¨ï¼Œç§»å¼€ååœ¨å¼€å¯å®šæ—¶å™¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            all.onmouseover <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                div.style.display <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;block&#34;</span>;
</span></span><span style=display:flex><span>                clearInterval(timer);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            all.onmouseout <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                div.style.display <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;none&#34;</span>;
</span></span><span style=display:flex><span>                timer <span style=color:#af3a03>=</span> setInterval(autoPlay, <span style=color:#8f3f71>1000</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#928374;font-style:italic>//6.å·¦å³åˆ‡æ¢å›¾ç‰‡ï¼ˆé¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºï¼Œç§»å¼€éšè—ï¼‰
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>            spanArr[<span style=color:#8f3f71>0</span>].onclick <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//é€šè¿‡æ§åˆ¶keyçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå›¾ç‰‡çš„ç´¢å¼•å€¼ï¼Œç„¶åç§»åŠ¨ul
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                key<span style=color:#af3a03>--</span>;
</span></span><span style=display:flex><span>                <span style=color:#af3a03>if</span> (key <span style=color:#af3a03>&lt;</span> <span style=color:#8f3f71>0</span>) {
</span></span><span style=display:flex><span>                    <span style=color:#928374;font-style:italic>//å…ˆç§»åŠ¨åˆ°æœ€åä¸€å¼ ï¼Œç„¶åkeyçš„å€¼å–ä¹‹å‰ä¸€å¼ çš„ç´¢å¼•å€¼ï¼Œç„¶ååœ¨å‘å‰ç§»åŠ¨
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    ul.style.left <span style=color:#af3a03>=</span> <span style=color:#af3a03>-</span>imgWidth <span style=color:#af3a03>*</span> (olLiArr.length) <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>                    key <span style=color:#af3a03>=</span> olLiArr.length <span style=color:#af3a03>-</span> <span style=color:#8f3f71>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                animate(ul, <span style=color:#af3a03>-</span>key <span style=color:#af3a03>*</span> imgWidth);
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//é€šè¿‡æ§åˆ¶squareçš„è‡ªå¢æ¥æ¨¡æ‹Ÿå°æ–¹å—çš„ç´¢å¼•å€¼ï¼Œç„¶åç‚¹äº®ç›’å­
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                <span style=color:#928374;font-style:italic>//æ’ä»–æ€æƒ³åšå°æ–¹å—
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                square<span style=color:#af3a03>--</span>;
</span></span><span style=display:flex><span>                <span style=color:#af3a03>if</span> (square <span style=color:#af3a03>&lt;</span> <span style=color:#8f3f71>0</span>) {<span style=color:#928374;font-style:italic>//ç´¢å¼•å€¼ä¸èƒ½å¤§äºç­‰äº5ï¼Œå¦‚æœç­‰äº5ï¼Œç«‹åˆ»å˜ä¸º0ï¼›
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                    square <span style=color:#af3a03>=</span> olLiArr.length <span style=color:#af3a03>-</span> <span style=color:#8f3f71>1</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#af3a03>for</span> (<span style=color:#af3a03>var</span> i <span style=color:#af3a03>=</span> <span style=color:#8f3f71>0</span>; i <span style=color:#af3a03>&lt;</span> olLiArr.length; i<span style=color:#af3a03>++</span>) {
</span></span><span style=display:flex><span>                    olLiArr[i].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;&#34;</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                olLiArr[square].className <span style=color:#af3a03>=</span> <span style=color:#79740e>&#34;current&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            spanArr[<span style=color:#8f3f71>1</span>].onclick <span style=color:#af3a03>=</span> <span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                <span style=color:#928374;font-style:italic>//å³ä¾§çš„å’Œå®šæ—¶å™¨ä¸€æ¨¡ä¸€æ ·
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>                autoPlay();
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#af3a03>function</span> animate(ele, target) {
</span></span><span style=display:flex><span>                clearInterval(ele.timer);
</span></span><span style=display:flex><span>                <span style=color:#af3a03>var</span> speed <span style=color:#af3a03>=</span> target <span style=color:#af3a03>&gt;</span> ele.offsetLeft <span style=color:#af3a03>?</span> <span style=color:#8f3f71>10</span> <span style=color:#af3a03>:</span> <span style=color:#af3a03>-</span><span style=color:#8f3f71>10</span>;
</span></span><span style=display:flex><span>                ele.timer <span style=color:#af3a03>=</span> setInterval(<span style=color:#af3a03>function</span> () {
</span></span><span style=display:flex><span>                    <span style=color:#af3a03>var</span> val <span style=color:#af3a03>=</span> target <span style=color:#af3a03>-</span> ele.offsetLeft;
</span></span><span style=display:flex><span>                    ele.style.left <span style=color:#af3a03>=</span> ele.offsetLeft <span style=color:#af3a03>+</span> speed <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#af3a03>if</span> (<span style=color:#b57614>Math</span>.abs(val) <span style=color:#af3a03>&lt;</span> <span style=color:#b57614>Math</span>.abs(speed)) {
</span></span><span style=display:flex><span>                        ele.style.left <span style=color:#af3a03>=</span> target <span style=color:#af3a03>+</span> <span style=color:#79740e>&#34;px&#34;</span>;
</span></span><span style=display:flex><span>                        clearInterval(ele.timer);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }, <span style=color:#8f3f71>10</span>)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>head</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;all&#34;</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#39;all&#39;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>class</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;screen&#34;</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;screen&#34;</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#9d0006>ul</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;ul&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>li</span>&gt;&lt;<span style=color:#9d0006>img</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;images/1.jpg&#34;</span> <span style=color:#79740e;font-weight:700>width</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;500&#34;</span> <span style=color:#79740e;font-weight:700>height</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;200&#34;</span>/&gt;&lt;/<span style=color:#9d0006>li</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>li</span>&gt;&lt;<span style=color:#9d0006>img</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;images/2.jpg&#34;</span> <span style=color:#79740e;font-weight:700>width</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;500&#34;</span> <span style=color:#79740e;font-weight:700>height</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;200&#34;</span>/&gt;&lt;/<span style=color:#9d0006>li</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>li</span>&gt;&lt;<span style=color:#9d0006>img</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;images/3.jpg&#34;</span> <span style=color:#79740e;font-weight:700>width</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;500&#34;</span> <span style=color:#79740e;font-weight:700>height</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;200&#34;</span>/&gt;&lt;/<span style=color:#9d0006>li</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>li</span>&gt;&lt;<span style=color:#9d0006>img</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;images/4.jpg&#34;</span> <span style=color:#79740e;font-weight:700>width</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;500&#34;</span> <span style=color:#79740e;font-weight:700>height</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;200&#34;</span>/&gt;&lt;/<span style=color:#9d0006>li</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>li</span>&gt;&lt;<span style=color:#9d0006>img</span> <span style=color:#79740e;font-weight:700>src</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;images/5.jpg&#34;</span> <span style=color:#79740e;font-weight:700>width</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;500&#34;</span> <span style=color:#79740e;font-weight:700>height</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;200&#34;</span>/&gt;&lt;/<span style=color:#9d0006>li</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#9d0006>ul</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#9d0006>ol</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        &lt;/<span style=color:#9d0006>ol</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#9d0006>div</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;arr&#34;</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>span</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;left&#34;</span>&gt;&lt;&lt;/<span style=color:#9d0006>span</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#9d0006>span</span> <span style=color:#79740e;font-weight:700>id</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;right&#34;</span>&gt;&gt;&lt;/<span style=color:#9d0006>span</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>html</span>&gt;
</span></span></code></pre></div><p>å®ç°æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180202_2020.gif alt></p><p>æ¸©é¦¨æç¤ºï¼šåŠ¨å›¾å¤ªå¤§ï¼Œå¯ä»¥æŠŠ<a href=http://img.smyhvae.com/20180202_2020.gif>http://img.smyhvae.com/20180202_2020.gif</a>å•ç‹¬åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚</p><p>å·¥ç¨‹æ–‡ä»¶ï¼š</p><ul><li><a href=http://download.csdn.net/download/smyhvae/10237662>2018-02-02-JSåŠ¨ç”»å®ç°è½®æ’­å›¾.rar</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/tech/wait/04-javascript/35-%E9%80%9A%E8%BF%87style%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%92%8C%E8%AE%BE%E7%BD%AE%E8%A1%8C%E5%86%85%E6%A0%B7%E5%BC%8F/><span class=title>Â« Prev</span><br><span>35-é€šè¿‡styleå¯¹è±¡è·å–å’Œè®¾ç½®è¡Œå†…æ ·å¼</span></a>
<a class=next href=https://bablvsj.github.io/posts/tech/wait/04-javascript/37-scroll%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7%E5%92%8C%E7%BC%93%E5%8A%A8%E5%8A%A8%E7%94%BB/><span class=title>Next Â»</span><br><span>37-scrollç›¸å…³å±æ€§å’Œç¼“åŠ¨åŠ¨ç”»</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>