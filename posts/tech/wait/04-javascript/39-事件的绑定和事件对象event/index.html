<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event | Bablvsj's Blog</title><meta name=keywords content="JavaScript"><meta name=description content="ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ« æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/tech/wait/04-javascript/39-%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1event/><link crossorigin=anonymous href=/assets/css/stylesheet.89e53fb10d7090a33517d83b18da1cdb3f4d7bfa546525e8b3cf5a41f9817fb5.css integrity="sha256-ieU/sQ1wkKM1F9g7GNoc2z9Ne/pUZSXos89aQfmBf7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event"><meta property="og:description" content="ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ« æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/tech/wait/04-javascript/39-%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1event/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-01T17:11:35+08:00"><meta property="article:modified_time" content="2020-01-01T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event"><meta name=twitter:description content="ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ« æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event","item":"https://bablvsj.github.io/posts/tech/wait/04-javascript/39-%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1event/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event","name":"39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event","description":"ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ« æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™","keywords":["JavaScript"],"articleBody":"ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ« æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™é‡Œè®²ä¸€ä¸‹ç»‘å®šï¼ˆæ³¨å†Œï¼‰äº‹ä»¶çš„ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥onclickäº‹ä»¶ä¸ºä¾‹ã€‚\nDOM0çš„å†™æ³•ï¼šonclick 1 2 3 element.onclick = function () { } ä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u003cbody\u003e \u003cbutton\u003eç‚¹æˆ‘\u003c/button\u003e \u003cscript\u003e var btn = document.getElementsByTagName(\"button\")[0]; //è¿™ç§äº‹ä»¶ç»‘å®šçš„æ–¹å¼ï¼Œå¦‚æœç»‘å®šå¤šä¸ªï¼Œåˆ™åé¢çš„ä¼šè¦†ç›–æ‰å‰é¢çš„ btn.onclick = function () { console.log(\"äº‹ä»¶1\"); } btn.onclick = function () { console.log(\"äº‹ä»¶2\"); } \u003c/script\u003e \u003c/body\u003e ç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š\n1 äº‹ä»¶2 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒDOMå¯¹è±¡.äº‹ä»¶ = å‡½æ•°çš„è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼šä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªå“åº”å‡½æ•°ã€‚å¦‚æœç»‘å®šäº†å¤šä¸ªå“åº”å‡½æ•°ï¼Œåˆ™åè€…ä¼šè¦†ç›–å‰è€…ã€‚\nDOM2çš„å†™æ³•ï¼šaddEventListenerï¼ˆé«˜ç‰ˆæœ¬æµè§ˆå™¨ï¼‰ 1 2 3 element.addEventListener('click', function () { }, false); å‚æ•°è§£é‡Šï¼š\nå‚æ•°1ï¼šäº‹ä»¶åçš„å­—ç¬¦ä¸²(æ³¨æ„ï¼Œæ²¡æœ‰on)\nå‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼šå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¢«æ‰§è¡Œ\nå‚æ•°3ï¼štrueè¡¨ç¤ºæ•è·é˜¶æ®µè§¦å‘ï¼Œfalseè¡¨ç¤ºå†’æ³¡é˜¶æ®µè§¦å‘ï¼ˆé»˜è®¤ï¼‰ã€‚å¦‚æœä¸å†™ï¼Œåˆ™é»˜è®¤ä¸ºfalseã€‚ã€é‡è¦ã€‘\nä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u003cbody\u003e \u003cbutton\u003eæŒ‰é’®\u003c/button\u003e \u003cscript\u003e var btn = document.getElementsByTagName(\"button\")[0]; // addEventListener: äº‹ä»¶ç›‘å¬å™¨ã€‚ åŸäº‹ä»¶è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåé¢ç»‘å®šçš„äº‹ä»¶ç…§æ ·è¢«æ‰§è¡Œ // è¿™ç§å†™æ³•ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚ï¼ˆæ›´é€‚åˆå›¢é˜Ÿå¼€å‘ï¼‰ btn.addEventListener(\"click\", fn1); btn.addEventListener(\"click\", fn2); function fn1() { console.log(\"äº‹ä»¶1\"); } function fn2() { console.log(\"äº‹ä»¶2\"); } \u003c/script\u003e \u003c/body\u003e ç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š\n1 2 äº‹ä»¶1 äº‹ä»¶2 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒaddEventListener()è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼š\nä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªå“åº”å‡½æ•°ã€‚ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚æ‰§è¡Œé¡ºåºæ˜¯ï¼šäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå“åº”å‡½æ•°ä¼šæŒ‰ç…§å‡½æ•°çš„ç»‘å®šé¡ºåºæ‰§è¡Œã€‚\naddEventListener()ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ã€‚\naddEventListener()ä¸æ”¯æŒ IE8 åŠä»¥ä¸‹çš„æµè§ˆå™¨ã€‚åœ¨IE8ä¸­å¯ä»¥ä½¿ç”¨attachEventæ¥ç»‘å®šäº‹ä»¶ï¼ˆè¯¦è§ä¸‹ä¸€å°æ®µï¼‰ã€‚\nDOM2çš„å†™æ³•ï¼šattachEventï¼ˆIE8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨ï¼‰ 1 2 3 element.attachEvent('onclick', function () { }); å‚æ•°è§£é‡Šï¼š\nå‚æ•°1ï¼šäº‹ä»¶åçš„å­—ç¬¦ä¸²(æ³¨æ„ï¼Œæœ‰on)\nå‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼šå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¢«æ‰§è¡Œ\nä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u003cbody\u003e \u003cbutton\u003eæŒ‰é’®\u003c/button\u003e \u003cscript\u003e var btn = document.getElementsByTagName('button')[0]; btn.attachEvent('onclick', function() { console.log('äº‹ä»¶1'); }); btn.attachEvent('onclick', function() { console.log('äº‹ä»¶2'); }); \u003c/script\u003e \u003c/body\u003e åœ¨ä½ç‰ˆæœ¬çš„IEæµè§ˆå™¨ä¸Šï¼Œç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š\n1 2 äº‹ä»¶2 äº‹ä»¶1 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒattachEvent()è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼š\nä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªå“åº”å‡½æ•°ã€‚ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚æ³¨æ„ï¼šæ‰§è¡Œé¡ºåºæ˜¯ï¼Œåç»‘å®šçš„å…ˆæ‰§è¡Œã€‚\nattachEvent()ä¸­çš„thisï¼Œæ˜¯window\nå…¼å®¹æ€§å†™æ³• ä¸Šé¢çš„å†…å®¹é‡Œï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š\naddEventListener()ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ã€‚\nattachEvent()ä¸­çš„thisï¼Œæ˜¯windowã€‚\næ—¢ç„¶è¿™ä¸¤ä¸ªå†™æ³•çš„thisä¸åŒï¼Œé‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•å¯ä»¥ç¡®ä¿è¿™ä¸¤ç§ç»‘å®šæ–¹å¼çš„thisæ˜¯ç›¸åŒçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 \u003cbody\u003e \u003cbutton\u003eæŒ‰é’®\u003c/button\u003e \u003cscript\u003e var btn = document.getElementsByTagName('button')[0]; myBind(btn , \"click\" , function(){ alert(this); }); //å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¸ºæŒ‡å®šå…ƒç´ ç»‘å®šå“åº”å‡½æ•° /* * addEventListener()ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ * attachEvent()ä¸­çš„thisï¼Œæ˜¯window * éœ€è¦ç»Ÿä¸€ä¸¤ä¸ªæ–¹æ³•this */ /* * å‚æ•°ï¼š * element è¦ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ * eventStr äº‹ä»¶çš„å­—ç¬¦ä¸²(ä¸è¦on) * callback å›è°ƒå‡½æ•° */ function myBind(element , eventStr , callback){ if(element.addEventListener){ //å¤§éƒ¨åˆ†æµè§ˆå™¨å…¼å®¹çš„æ–¹å¼ element.addEventListener(eventStr , callback , false); }else{ /* * thisæ˜¯è°ï¼Œç”±è°ƒç”¨æ–¹å¼å†³å®š * callback.call(element) */ //IE8åŠä»¥ä¸‹ element.attachEvent(\"on\"+eventStr , function(){ //åœ¨åŒ¿åå‡½æ•° function ä¸­è°ƒç”¨å›è°ƒå‡½æ•°callback callback.call(element); }); } } \u003c/script\u003e \u003c/body\u003e äº‹ä»¶å¯¹è±¡ å½“äº‹ä»¶çš„å“åº”å‡½æ•°è¢«è§¦å‘æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡eventã€‚æµè§ˆå™¨æ¯æ¬¡éƒ½ä¼šå°†è¿™ä¸ªäº‹ä»¶eventä½œä¸ºå®å‚ä¼ è¿›ä¹‹å‰çš„å“åº”å‡½æ•°ã€‚\nè¿™ä¸ªå¯¹è±¡ä¸­åŒ…å«äº†ä¸å½“å‰äº‹ä»¶ç›¸å…³çš„ä¸€åˆ‡ä¿¡æ¯ã€‚æ¯”å¦‚é¼ æ ‡çš„åæ ‡ã€é”®ç›˜çš„å“ªä¸ªæŒ‰é”®è¢«æŒ‰ä¸‹ã€é¼ æ ‡æ»šè½®æ»šåŠ¨çš„æ–¹å‘ç­‰ã€‚\nè·å– event å¯¹è±¡ï¼ˆå…¼å®¹æ€§é—®é¢˜ï¼‰ æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒeventå¯¹è±¡ï¼Œä½†æ”¯æŒçš„æ–¹å¼ä¸åŒã€‚å¦‚ä¸‹ã€‚\nï¼ˆ1ï¼‰æ™®é€šæµè§ˆå™¨çš„å†™æ³•æ˜¯ eventã€‚æ¯”å¦‚ï¼š\nï¼ˆ2ï¼‰ie 678 çš„å†™æ³•æ˜¯ window.eventã€‚æ­¤æ—¶ï¼Œäº‹ä»¶å¯¹è±¡ event æ˜¯ä½œä¸ºwindowå¯¹è±¡çš„å±æ€§ä¿å­˜çš„ã€‚\näºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ã€‚å¦‚ä¸‹ï¼š\n1 event = event || window.event; // å…¼å®¹æ€§å†™æ³• ä»£ç ä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cscript\u003e //ç‚¹å‡»é¡µé¢çš„ä»»ä½•éƒ¨åˆ† document.onclick = function (event) { event = event || window.event; ////å…¼å®¹æ€§å†™æ³• console.log(event); console.log(event.timeStamp); console.log(event.bubbles); console.log(event.button); console.log(event.pageX); console.log(event.pageY); console.log(event.screenX); console.log(event.screenY); console.log(event.target); console.log(event.type); console.log(event.clientX); console.log(event.clientY); } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e event å±æ€§ event æœ‰å¾ˆå¤šå±æ€§ï¼Œæ¯”å¦‚ï¼š\nç”±äºpageX å’Œ pageYçš„å…¼å®¹æ€§ä¸å¥½ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š\né¼ æ ‡åœ¨é¡µé¢çš„ä½ç½® = æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦» + å¯è§†åŒºåŸŸçš„åæ ‡ã€‚ Eventä¸¾ä¾‹ ä¸¾ä¾‹1ï¼šä½¿ div è·Ÿéšé¼ æ ‡ç§»åŠ¨ ä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\" /\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle type=\"text/css\"\u003e #box1 { width: 100px; height: 100px; background-color: red; /* * å¼€å¯box1çš„ç»å¯¹å®šä½ */ position: absolute; } \u003c/style\u003e \u003cscript type=\"text/javascript\"\u003e window.onload = function() { /* * ä½¿divå¯ä»¥è·Ÿéšé¼ æ ‡ç§»åŠ¨ */ //è·å–box1 var box1 = document.getElementById(\"box1\"); //ç»™æ•´ä¸ªé¡µé¢ç»‘å®šï¼šé¼ æ ‡ç§»åŠ¨äº‹ä»¶ document.onmousemove = function(event) { //å…¼å®¹çš„æ–¹å¼è·å–eventå¯¹è±¡ event = event || window.event; // é¼ æ ‡åœ¨é¡µé¢çš„ä½ç½® = æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦» + å¯è§†åŒºåŸŸçš„åæ ‡ã€‚ var pagex = event.pageX || scroll().left + event.clientX; var pagey = event.pageY || scroll().top + event.clientY; // è®¾ç½®divçš„åç§»é‡ï¼ˆç›¸å¯¹äºæ•´ä¸ªé¡µé¢ï¼‰ // æ³¨æ„ï¼Œå¦‚æœæƒ³é€šè¿‡ style.left æ¥è®¾ç½®å±æ€§ï¼Œä¸€å®šè¦ç»™ box1å¼€å¯ç»å¯¹å®šä½ã€‚ box1.style.left = pagex + \"px\"; box1.style.top = pagey + \"px\"; }; }; // scroll å‡½æ•°å°è£… function scroll() { return { //æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡ left: window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop, right: window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft }; } \u003c/script\u003e \u003c/head\u003e \u003cbody style=\"height: 1000px;width: 2000px;\"\u003e \u003cdiv id=\"box1\"\u003e\u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ä¸¾ä¾‹2ï¼šè·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦» å…³é”®ç‚¹ï¼š\n1 é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦» = é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® - æ‰€åœ¨ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® ä»£ç æ¼”ç¤ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e .box { width: 300px; height: 200px; padding-top: 100px; background-color: pink; margin: 100px; text-align: center; font: 18px/30px \"simsun\"; cursor: pointer; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box\"\u003e \u003c/div\u003e \u003cscript src=\"animate.js\"\u003e\u003c/script\u003e \u003cscript\u003e //éœ€æ±‚ï¼šé¼ æ ‡è¿›å…¥ç›’å­ä¹‹ååªè¦ç§»åŠ¨ï¼Œå“ªæ€•1åƒç´ ï¼Œéšæ—¶æ˜¾ç¤ºé¼ æ ‡åœ¨ç›’å­ä¸­çš„åæ ‡ã€‚ //æŠ€æœ¯ç‚¹ï¼šæ–°äº‹ä»¶ï¼Œonmousemoveï¼šåœ¨äº‹ä»¶æºä¸Šï¼Œå“ªæ€•é¼ æ ‡ç§»åŠ¨1åƒç´ ä¹Ÿä¼šè§¦åŠ¨è¿™ä¸ªäº‹ä»¶ã€‚ //ä¸€å®šç¨‹åº¦ä¸Šï¼Œæ¨¡æ‹Ÿäº†å®šæ—¶å™¨ //æ­¥éª¤ï¼š //1.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ //2.è·å–é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® //3.è·å–ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® //4.ç”¨é¼ æ ‡çš„ä½ç½®å‡å»ç›’å­çš„ä½ç½®èµ‹å€¼ç»™ç›’å­çš„å†…å®¹ã€‚ //1.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ var div = document.getElementsByTagName(\"div\")[0]; div.onmousemove = function (event) { event = event || window.event; //2.è·å–é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® var pagex = event.pageX || scroll().left + event.clientX; var pagey = event.pageY || scroll().top + event.clientY; //3.è·å–ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® // var xx = // var yy = //4.ç”¨é¼ æ ‡çš„ä½ç½®å‡å»ç›’å­çš„ä½ç½®èµ‹å€¼ç»™ç›’å­çš„å†…å®¹ã€‚ var targetx = pagex - div.offsetLeft; var targety = pagey - div.offsetTop; this.innerHTML = \"é¼ æ ‡åœ¨ç›’å­ä¸­çš„Xåæ ‡ä¸ºï¼š\" + targetx + \"px;\né¼ æ ‡åœ¨ç›’å­ä¸­çš„Yåæ ‡ä¸ºï¼š\" + targety + \"px;\" } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e å®ç°æ•ˆæœï¼š\nä¸¾ä¾‹3ï¼šå•†å“æ”¾å¤§é•œ ä»£ç å®ç°ï¼š\nï¼ˆ1ï¼‰index.html:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead lang=\"en\"\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003e\u003c/title\u003e \u003cstyle\u003e * { margin: 0; padding: 0; } .box { width: 350px; height: 350px; margin: 100px; border: 1px solid #ccc; position: relative; } .big { width: 400px; height: 400px; position: absolute; top: 0; left: 360px; border: 1px solid #ccc; overflow: hidden; display: none; } /*maskçš„ä¸­æ–‡æ˜¯ï¼šé®ç½©*/ .mask { width: 175px; height: 175px; background: rgba(255, 255, 0, 0.4); position: absolute; top: 0; left: 0; cursor: move; display: none; } .small { position: relative; } img { vertical-align: top; } \u003c/style\u003e \u003cscript src=\"tools.js\"\u003e\u003c/script\u003e \u003cscript\u003e window.onload = function () { //éœ€æ±‚ï¼šé¼ æ ‡æ”¾åˆ°å°ç›’å­ä¸Šï¼Œè®©å¤§ç›’å­é‡Œé¢çš„å›¾ç‰‡å’Œæˆ‘ä»¬åŒæ­¥ç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚ //æŠ€æœ¯ç‚¹ï¼šonmouseenter==onmouseover ç¬¬ä¸€ä¸ªä¸å†’æ³¡ //æŠ€æœ¯ç‚¹ï¼šonmouseleave==onmouseout ç¬¬ä¸€ä¸ªä¸å†’æ³¡ //æ­¥éª¤ï¼š //1.é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºç›’å­ï¼Œç§»å¼€éšè—ç›’å­ã€‚ //2.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ï¼ˆé»„ç›’å­è·Ÿéšç§»åŠ¨ï¼‰ //3.å³ä¾§çš„å¤§å›¾ç‰‡ï¼Œç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚ //0.è·å–ç›¸å…³å…ƒç´  var box = document.getElementsByClassName(\"box\")[0]; var small = box.firstElementChild || box.firstChild; var big = box.children[1]; var mask = small.children[1]; var bigImg = big.children[0]; //1.é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºç›’å­ï¼Œç§»å¼€éšè—ç›’å­ã€‚(ä¸ºå°ç›’å­ç»‘å®šäº‹ä»¶) small.onmouseenter = function () { //å°è£…å¥½æ–¹æ³•è°ƒç”¨ï¼šæ˜¾ç¤ºå…ƒç´  show(mask); show(big); } small.onmouseleave = function () { //å°è£…å¥½æ–¹æ³•è°ƒç”¨ï¼šéšè—å…ƒç´  hide(mask); hide(big); } //2.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ï¼ˆé»„ç›’å­è·Ÿéšç§»åŠ¨ï¼‰ //ç»‘å®šçš„äº‹ä»¶æ˜¯onmousemoveï¼Œè€Œäº‹ä»¶æºæ˜¯small(åªè¦åœ¨å°ç›’å­ä¸Šç§»åŠ¨1åƒç´ ï¼Œé»„ç›’å­ä¹Ÿè¦è·Ÿéš) small.onmousemove = function (event) { //æ–°äº”æ­¥ event = event || window.event; //æƒ³è¦ç§»åŠ¨é»„ç›’å­ï¼Œå¿…é¡»è¦çŸ¥é“é¼ æ ‡åœ¨smallå°å›¾ä¸­çš„ä½ç½®ã€‚ var pagex = event.pageX || scroll().left + event.clientX; var pagey = event.pageY || scroll().top + event.clientY; //xï¼šmaskçš„leftå€¼ï¼Œyï¼šmaskçš„topå€¼ã€‚ var x = pagex - box.offsetLeft - mask.offsetWidth / 2; //é™¤ä»¥2ï¼Œå¯ä»¥ä¿è¯é¼ æ ‡maskçš„ä¸­é—´ var y = pagey - box.offsetTop - mask.offsetHeight / 2; //é™åˆ¶æ¢ç›’å­çš„èŒƒå›´ //leftå–å€¼ä¸ºå¤§äº0ï¼Œå°ç›’å­çš„å®½-maskçš„å®½ã€‚ if (x \u003c 0) { x = 0; } if (x \u003e small.offsetWidth - mask.offsetWidth) { x = small.offsetWidth - mask.offsetWidth; } //topåŒç†ã€‚ if (y \u003c 0) { y = 0; } if (y \u003e small.offsetHeight - mask.offsetHeight) { y = small.offsetHeight - mask.offsetHeight; } //ç§»åŠ¨é»„ç›’å­ console.log(small.offsetHeight); mask.style.left = x + \"px\"; mask.style.top = y + \"px\"; //3.å³ä¾§çš„å¤§å›¾ç‰‡ï¼Œç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚ //å¦‚ä½•ç§»åŠ¨å¤§å›¾ç‰‡ï¼Ÿç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚ // å¤§å›¾ç‰‡/å¤§ç›’å­ = å°å›¾ç‰‡/maskç›’å­ // å¤§å›¾ç‰‡èµ°çš„è·ç¦»/maskèµ°çš„è·ç¦» = ï¼ˆå¤§å›¾ç‰‡-å¤§ç›’å­ï¼‰/ï¼ˆå°å›¾ç‰‡-é»„ç›’å­ï¼‰ // var bili = (bigImg.offsetWidth-big.offsetWidth)/(small.offsetWidth-mask.offsetWidth); //å¤§å›¾ç‰‡èµ°çš„è·ç¦»/maskç›’å­éƒ½çš„è·ç¦» = å¤§å›¾ç‰‡/å°å›¾ç‰‡ var bili = bigImg.offsetWidth / small.offsetWidth; var xx = bili * x; //çŸ¥é“æ¯”ä¾‹ï¼Œå°±å¯ä»¥ç§»åŠ¨å¤§å›¾ç‰‡äº† var yy = bili * y; bigImg.style.marginTop = -yy + \"px\"; bigImg.style.marginLeft = -xx + \"px\"; } } \u003c/script\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"box\"\u003e \u003cdiv class=\"small\"\u003e \u003cimg src=\"images/001.jpg\" alt=\"\"/\u003e \u003cdiv class=\"mask\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cdiv class=\"big\"\u003e \u003cimg src=\"images/0001.jpg\" alt=\"\"/\u003e \u003c/div\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e ï¼ˆ2ï¼‰tools.js:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 /** * Created by smyhvae on 2018/02/03. */ //æ˜¾ç¤ºå’Œéšè— function show(ele) { ele.style.display = \"block\"; } function hide(ele) { ele.style.display = \"none\"; } function scroll() { // å¼€å§‹å°è£…è‡ªå·±çš„scrollTop if (window.pageYOffset != null) { // ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨ // å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯ 0 æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­ return { left: window.pageXOffset, top: window.pageYOffset } } else if (document.compatMode === \"CSS1Compat\") { // æ ‡å‡†æµè§ˆå™¨ æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD return { left: document.documentElement.scrollLeft, top: document.documentElement.scrollTop } } return { // æœªå£°æ˜ DTD left: document.body.scrollLeft, top: document.body.scrollTop } } æ•ˆæœæ¼”ç¤ºï¼š\n","wordCount":"4236","inLanguage":"en","datePublished":"2020-01-01T17:11:35+08:00","dateModified":"2020-01-01T17:11:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/tech/wait/04-javascript/39-%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1event/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>39-äº‹ä»¶çš„ç»‘å®šå’Œäº‹ä»¶å¯¹è±¡Event</h1><div class=post-meta><ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></ul>9 min&nbsp;Â·&nbsp;<span title='2020-01-01 17:11:35 +0800 +0800'>2020/01/01</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e7%bb%91%e5%ae%9a%e4%ba%8b%e4%bb%b6%e7%9a%84%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8fdom%e4%ba%8b%e4%bb%b6%e7%9a%84%e7%ba%a7%e5%88%ab aria-label=ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ«>ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ«</a><ul><li><a href=#dom0%e7%9a%84%e5%86%99%e6%b3%95onclick aria-label=DOM0çš„å†™æ³•ï¼šonclick>DOM0çš„å†™æ³•ï¼šonclick</a></li><li><a href=#dom2%e7%9a%84%e5%86%99%e6%b3%95addeventlistener%e9%ab%98%e7%89%88%e6%9c%ac%e6%b5%8f%e8%a7%88%e5%99%a8 aria-label=DOM2çš„å†™æ³•ï¼šaddEventListenerï¼ˆé«˜ç‰ˆæœ¬æµè§ˆå™¨ï¼‰>DOM2çš„å†™æ³•ï¼šaddEventListenerï¼ˆé«˜ç‰ˆæœ¬æµè§ˆå™¨ï¼‰</a></li><li><a href=#dom2%e7%9a%84%e5%86%99%e6%b3%95attacheventie8%e5%8f%8a%e4%bb%a5%e4%b8%8b%e7%89%88%e6%9c%ac%e6%b5%8f%e8%a7%88%e5%99%a8 aria-label=DOM2çš„å†™æ³•ï¼šattachEventï¼ˆIE8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨ï¼‰>DOM2çš„å†™æ³•ï¼šattachEventï¼ˆIE8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨ï¼‰</a></li><li><a href=#%e5%85%bc%e5%ae%b9%e6%80%a7%e5%86%99%e6%b3%95 aria-label=å…¼å®¹æ€§å†™æ³•>å…¼å®¹æ€§å†™æ³•</a></li></ul></li><li><a href=#%e4%ba%8b%e4%bb%b6%e5%af%b9%e8%b1%a1 aria-label=äº‹ä»¶å¯¹è±¡>äº‹ä»¶å¯¹è±¡</a><ul><li><a href=#%e8%8e%b7%e5%8f%96-event-%e5%af%b9%e8%b1%a1%e5%85%bc%e5%ae%b9%e6%80%a7%e9%97%ae%e9%a2%98 aria-label="è·å– event å¯¹è±¡ï¼ˆå…¼å®¹æ€§é—®é¢˜ï¼‰">è·å– event å¯¹è±¡ï¼ˆå…¼å®¹æ€§é—®é¢˜ï¼‰</a></li><li><a href=#event-%e5%b1%9e%e6%80%a7 aria-label="event å±æ€§">event å±æ€§</a></li></ul></li><li><a href=#event%e4%b8%be%e4%be%8b aria-label=Eventä¸¾ä¾‹>Eventä¸¾ä¾‹</a><ul><li><a href=#%e4%b8%be%e4%be%8b1%e4%bd%bf-div-%e8%b7%9f%e9%9a%8f%e9%bc%a0%e6%a0%87%e7%a7%bb%e5%8a%a8 aria-label="ä¸¾ä¾‹1ï¼šä½¿ div è·Ÿéšé¼ æ ‡ç§»åŠ¨">ä¸¾ä¾‹1ï¼šä½¿ div è·Ÿéšé¼ æ ‡ç§»åŠ¨</a></li><li><a href=#%e4%b8%be%e4%be%8b2%e8%8e%b7%e5%8f%96%e9%bc%a0%e6%a0%87%e8%b7%9d%e7%a6%bb%e6%89%80%e5%9c%a8%e7%9b%92%e5%ad%90%e7%9a%84%e8%b7%9d%e7%a6%bb aria-label=ä¸¾ä¾‹2ï¼šè·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦»>ä¸¾ä¾‹2ï¼šè·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦»</a></li><li><a href=#%e4%b8%be%e4%be%8b3%e5%95%86%e5%93%81%e6%94%be%e5%a4%a7%e9%95%9c aria-label=ä¸¾ä¾‹3ï¼šå•†å“æ”¾å¤§é•œ>ä¸¾ä¾‹3ï¼šå•†å“æ”¾å¤§é•œ</a></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼domäº‹ä»¶çš„çº§åˆ«>ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼/DOMäº‹ä»¶çš„çº§åˆ«<a hidden class=anchor aria-hidden=true href=#ç»‘å®šäº‹ä»¶çš„ä¸¤ç§æ–¹å¼domäº‹ä»¶çš„çº§åˆ«>#</a></h2><p>æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ã€Š04-JavaScript/22-DOMç®€ä»‹å’ŒDOMæ“ä½œã€‹ä¸­å·²ç»è®²è¿‡äº‹ä»¶çš„æ¦‚å¿µã€‚è¿™é‡Œè®²ä¸€ä¸‹ç»‘å®šï¼ˆæ³¨å†Œï¼‰äº‹ä»¶çš„ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥onclickäº‹ä»¶ä¸ºä¾‹ã€‚</p><h3 id=dom0çš„å†™æ³•onclick>DOM0çš„å†™æ³•ï¼šonclick<a hidden class=anchor aria-hidden=true href=#dom0çš„å†™æ³•onclick>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nx>element</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ä¸¾ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>ç‚¹æˆ‘<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//è¿™ç§äº‹ä»¶ç»‘å®šçš„æ–¹å¼ï¼Œå¦‚æœç»‘å®šå¤šä¸ªï¼Œåˆ™åé¢çš„ä¼šè¦†ç›–æ‰å‰é¢çš„
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>btn</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;äº‹ä»¶1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>btn</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;äº‹ä»¶2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>äº‹ä»¶2
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>DOMå¯¹è±¡.äº‹ä»¶ = å‡½æ•°</code>çš„è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼šä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªå“åº”å‡½æ•°ã€‚å¦‚æœç»‘å®šäº†å¤šä¸ªå“åº”å‡½æ•°ï¼Œåˆ™åè€…ä¼šè¦†ç›–å‰è€…ã€‚</p><h3 id=dom2çš„å†™æ³•addeventlisteneré«˜ç‰ˆæœ¬æµè§ˆå™¨>DOM2çš„å†™æ³•ï¼šaddEventListenerï¼ˆé«˜ç‰ˆæœ¬æµè§ˆå™¨ï¼‰<a hidden class=anchor aria-hidden=true href=#dom2çš„å†™æ³•addeventlisteneré«˜ç‰ˆæœ¬æµè§ˆå™¨>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nx>element</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=kc>false</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><p>å‚æ•°1ï¼šäº‹ä»¶åçš„å­—ç¬¦ä¸²(æ³¨æ„ï¼Œæ²¡æœ‰on)</p></li><li><p>å‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼šå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¢«æ‰§è¡Œ</p></li><li><p>å‚æ•°3ï¼š<strong>trueè¡¨ç¤ºæ•è·é˜¶æ®µè§¦å‘ï¼Œfalseè¡¨ç¤ºå†’æ³¡é˜¶æ®µè§¦å‘ï¼ˆé»˜è®¤ï¼‰</strong>ã€‚å¦‚æœä¸å†™ï¼Œåˆ™é»˜è®¤ä¸ºfalseã€‚ã€é‡è¦ã€‘</p></li></ul><p>ä¸¾ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>æŒ‰é’®<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;button&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// addEventListener: äº‹ä»¶ç›‘å¬å™¨ã€‚ åŸäº‹ä»¶è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåé¢ç»‘å®šçš„äº‹ä»¶ç…§æ ·è¢«æ‰§è¡Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// è¿™ç§å†™æ³•ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚ï¼ˆæ›´é€‚åˆå›¢é˜Ÿå¼€å‘ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>btn</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;click&#34;</span><span class=p>,</span> <span class=nx>fn1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>btn</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;click&#34;</span><span class=p>,</span> <span class=nx>fn2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>fn1</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;äº‹ä»¶1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>fn2</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;äº‹ä»¶2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    äº‹ä»¶1
</span></span><span class=line><span class=cl>    äº‹ä»¶2
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>addEventListener()</code>è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼š</p><ul><li><p>ä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªå“åº”å‡½æ•°ã€‚ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚<strong>æ‰§è¡Œé¡ºåºæ˜¯</strong>ï¼šäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå“åº”å‡½æ•°ä¼šæŒ‰ç…§å‡½æ•°çš„ç»‘å®šé¡ºåºæ‰§è¡Œã€‚</p></li><li><p>addEventListener()ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ã€‚</p></li><li><p><code>addEventListener()</code>ä¸æ”¯æŒ IE8 åŠä»¥ä¸‹çš„æµè§ˆå™¨ã€‚åœ¨IE8ä¸­å¯ä»¥ä½¿ç”¨<code>attachEvent</code>æ¥ç»‘å®šäº‹ä»¶ï¼ˆè¯¦è§ä¸‹ä¸€å°æ®µï¼‰ã€‚</p></li></ul><h3 id=dom2çš„å†™æ³•attacheventie8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨>DOM2çš„å†™æ³•ï¼šattachEventï¼ˆIE8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨ï¼‰<a hidden class=anchor aria-hidden=true href=#dom2çš„å†™æ³•attacheventie8åŠä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nx>element</span><span class=p>.</span><span class=nx>attachEvent</span><span class=p>(</span><span class=s1>&#39;onclick&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><p>å‚æ•°1ï¼šäº‹ä»¶åçš„å­—ç¬¦ä¸²(æ³¨æ„ï¼Œæœ‰on)</p></li><li><p>å‚æ•°2ï¼šå›è°ƒå‡½æ•°ï¼šå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¢«æ‰§è¡Œ</p></li></ul><p>ä¸¾ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>æŒ‰é’®<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>btn</span><span class=p>.</span><span class=nx>attachEvent</span><span class=p>(</span><span class=s1>&#39;onclick&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;äº‹ä»¶1&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>btn</span><span class=p>.</span><span class=nx>attachEvent</span><span class=p>(</span><span class=s1>&#39;onclick&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;äº‹ä»¶2&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ä½ç‰ˆæœ¬çš„IEæµè§ˆå™¨ä¸Šï¼Œç‚¹å‡»æŒ‰é’®åï¼Œä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    äº‹ä»¶2
</span></span><span class=line><span class=cl>    äº‹ä»¶1
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>attachEvent()</code>è¿™ç§ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼š</p><ul><li><p>ä¸€ä¸ªå…ƒç´ çš„ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªå“åº”å‡½æ•°ã€‚ä¸å­˜åœ¨å“åº”å‡½æ•°è¢«è¦†ç›–çš„æƒ…å†µã€‚<strong>æ³¨æ„</strong>ï¼šæ‰§è¡Œé¡ºåºæ˜¯ï¼Œåç»‘å®šçš„å…ˆæ‰§è¡Œã€‚</p></li><li><p>attachEvent()ä¸­çš„thisï¼Œæ˜¯window</p></li></ul><h3 id=å…¼å®¹æ€§å†™æ³•>å…¼å®¹æ€§å†™æ³•<a hidden class=anchor aria-hidden=true href=#å…¼å®¹æ€§å†™æ³•>#</a></h3><p>ä¸Šé¢çš„å†…å®¹é‡Œï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š</p><ul><li><p><code>addEventListener()</code>ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ã€‚</p></li><li><p><code>attachEvent()</code>ä¸­çš„thisï¼Œæ˜¯windowã€‚</p></li></ul><p>æ—¢ç„¶è¿™ä¸¤ä¸ªå†™æ³•çš„<code>this</code>ä¸åŒï¼Œé‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•å¯ä»¥ç¡®ä¿è¿™ä¸¤ç§ç»‘å®šæ–¹å¼çš„thisæ˜¯ç›¸åŒçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>æŒ‰é’®<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s1>&#39;button&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nx>myBind</span><span class=p>(</span><span class=nx>btn</span> <span class=p>,</span> <span class=s2>&#34;click&#34;</span> <span class=p>,</span> <span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                <span class=nx>alert</span><span class=p>(</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>//å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¸ºæŒ‡å®šå…ƒç´ ç»‘å®šå“åº”å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>             * addEventListener()ä¸­çš„thisï¼Œæ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=cm>             * attachEvent()ä¸­çš„thisï¼Œæ˜¯window
</span></span></span><span class=line><span class=cl><span class=cm>             *  éœ€è¦ç»Ÿä¸€ä¸¤ä¸ªæ–¹æ³•this
</span></span></span><span class=line><span class=cl><span class=cm>             */</span>
</span></span><span class=line><span class=cl>            <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>             * å‚æ•°ï¼š
</span></span></span><span class=line><span class=cl><span class=cm>             *  element è¦ç»‘å®šäº‹ä»¶çš„å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=cm>             *  eventStr äº‹ä»¶çš„å­—ç¬¦ä¸²(ä¸è¦on)
</span></span></span><span class=line><span class=cl><span class=cm>             *  callback å›è°ƒå‡½æ•°
</span></span></span><span class=line><span class=cl><span class=cm>             */</span>
</span></span><span class=line><span class=cl>            <span class=kd>function</span> <span class=nx>myBind</span><span class=p>(</span><span class=nx>element</span> <span class=p>,</span> <span class=nx>eventStr</span> <span class=p>,</span> <span class=nx>callback</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=nx>element</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//å¤§éƒ¨åˆ†æµè§ˆå™¨å…¼å®¹çš„æ–¹å¼
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>element</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=nx>eventStr</span> <span class=p>,</span> <span class=nx>callback</span> <span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>                     * thisæ˜¯è°ï¼Œç”±è°ƒç”¨æ–¹å¼å†³å®š
</span></span></span><span class=line><span class=cl><span class=cm>                     * callback.call(element)
</span></span></span><span class=line><span class=cl><span class=cm>                     */</span>
</span></span><span class=line><span class=cl>                    <span class=c1>//IE8åŠä»¥ä¸‹
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=nx>element</span><span class=p>.</span><span class=nx>attachEvent</span><span class=p>(</span><span class=s2>&#34;on&#34;</span><span class=o>+</span><span class=nx>eventStr</span> <span class=p>,</span> <span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>                        <span class=c1>//åœ¨åŒ¿åå‡½æ•° function ä¸­è°ƒç”¨å›è°ƒå‡½æ•°callback
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=nx>callback</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=nx>element</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=p>});</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=äº‹ä»¶å¯¹è±¡>äº‹ä»¶å¯¹è±¡<a hidden class=anchor aria-hidden=true href=#äº‹ä»¶å¯¹è±¡>#</a></h2><p>å½“äº‹ä»¶çš„å“åº”å‡½æ•°è¢«è§¦å‘æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡<code>event</code>ã€‚æµè§ˆå™¨æ¯æ¬¡éƒ½ä¼šå°†è¿™ä¸ªäº‹ä»¶<code>event</code>ä½œä¸ºå®å‚ä¼ è¿›ä¹‹å‰çš„å“åº”å‡½æ•°ã€‚</p><p>è¿™ä¸ªå¯¹è±¡ä¸­åŒ…å«äº†ä¸å½“å‰äº‹ä»¶ç›¸å…³çš„ä¸€åˆ‡ä¿¡æ¯ã€‚æ¯”å¦‚é¼ æ ‡çš„åæ ‡ã€é”®ç›˜çš„å“ªä¸ªæŒ‰é”®è¢«æŒ‰ä¸‹ã€é¼ æ ‡æ»šè½®æ»šåŠ¨çš„æ–¹å‘ç­‰ã€‚</p><h3 id=è·å–-event-å¯¹è±¡å…¼å®¹æ€§é—®é¢˜>è·å– event å¯¹è±¡ï¼ˆå…¼å®¹æ€§é—®é¢˜ï¼‰<a hidden class=anchor aria-hidden=true href=#è·å–-event-å¯¹è±¡å…¼å®¹æ€§é—®é¢˜>#</a></h3><p>æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒeventå¯¹è±¡ï¼Œä½†æ”¯æŒçš„æ–¹å¼ä¸åŒã€‚å¦‚ä¸‹ã€‚</p><p>ï¼ˆ1ï¼‰æ™®é€šæµè§ˆå™¨çš„å†™æ³•æ˜¯ <code>event</code>ã€‚æ¯”å¦‚ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1735.png alt></p><p>ï¼ˆ2ï¼‰ie 678 çš„å†™æ³•æ˜¯ <code>window.event</code>ã€‚æ­¤æ—¶ï¼Œäº‹ä»¶å¯¹è±¡ event æ˜¯ä½œä¸ºwindowå¯¹è±¡çš„å±æ€§ä¿å­˜çš„ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•ã€‚å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=nx>event</span> <span class=o>=</span> <span class=nx>event</span> <span class=o>||</span> <span class=nb>window</span><span class=p>.</span><span class=nx>event</span><span class=p>;</span> <span class=c1>// å…¼å®¹æ€§å†™æ³•
</span></span></span></code></pre></td></tr></table></div></div><p>ä»£ç ä¸¾ä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//ç‚¹å‡»é¡µé¢çš„ä»»ä½•éƒ¨åˆ†
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nb>document</span><span class=p>.</span><span class=nx>onclick</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>event</span> <span class=o>=</span> <span class=nx>event</span> <span class=o>||</span> <span class=nb>window</span><span class=p>.</span><span class=nx>event</span><span class=p>;</span> <span class=c1>////å…¼å®¹æ€§å†™æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>timeStamp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>bubbles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>button</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>pageX</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>pageY</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>screenX</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>screenY</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>target</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>type</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>clientX</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>clientY</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=event-å±æ€§>event å±æ€§<a hidden class=anchor aria-hidden=true href=#event-å±æ€§>#</a></h3><p>event æœ‰å¾ˆå¤šå±æ€§ï¼Œæ¯”å¦‚ï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1739.png alt></p><p>ç”±äºpageX å’Œ pageYçš„å…¼å®¹æ€§ä¸å¥½ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><ul><li>é¼ æ ‡åœ¨é¡µé¢çš„ä½ç½® = æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦» + å¯è§†åŒºåŸŸçš„åæ ‡ã€‚</li></ul><h2 id=eventä¸¾ä¾‹>Eventä¸¾ä¾‹<a hidden class=anchor aria-hidden=true href=#eventä¸¾ä¾‹>#</a></h2><h3 id=ä¸¾ä¾‹1ä½¿-div-è·Ÿéšé¼ æ ‡ç§»åŠ¨>ä¸¾ä¾‹1ï¼šä½¿ div è·Ÿéšé¼ æ ‡ç§»åŠ¨<a hidden class=anchor aria-hidden=true href=#ä¸¾ä¾‹1ä½¿-div-è·Ÿéšé¼ æ ‡ç§»åŠ¨>#</a></h3><p>ä»£ç å®ç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>#</span><span class=nn>box1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>width</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>background-color</span><span class=p>:</span> <span class=kc>red</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c>/*
</span></span></span><span class=line><span class=cl><span class=c>        * å¼€å¯box1çš„ç»å¯¹å®šä½
</span></span></span><span class=line><span class=cl><span class=c>        */</span>
</span></span><span class=line><span class=cl>        <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nb>window</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>         * ä½¿divå¯ä»¥è·Ÿéšé¼ æ ‡ç§»åŠ¨
</span></span></span><span class=line><span class=cl><span class=cm>         */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>//è·å–box1
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>box1</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;box1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>//ç»™æ•´ä¸ªé¡µé¢ç»‘å®šï¼šé¼ æ ‡ç§»åŠ¨äº‹ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nb>document</span><span class=p>.</span><span class=nx>onmousemove</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>//å…¼å®¹çš„æ–¹å¼è·å–eventå¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nx>event</span> <span class=o>=</span> <span class=nx>event</span> <span class=o>||</span> <span class=nb>window</span><span class=p>.</span><span class=nx>event</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>// é¼ æ ‡åœ¨é¡µé¢çš„ä½ç½® = æ»šåŠ¨æ¡æ»šåŠ¨çš„è·ç¦» + å¯è§†åŒºåŸŸçš„åæ ‡ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=kd>var</span> <span class=nx>pagex</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageX</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>left</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=kd>var</span> <span class=nx>pagey</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageY</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>          <span class=c1>//   è®¾ç½®divçš„åç§»é‡ï¼ˆç›¸å¯¹äºæ•´ä¸ªé¡µé¢ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=c1>// æ³¨æ„ï¼Œå¦‚æœæƒ³é€šè¿‡ style.left æ¥è®¾ç½®å±æ€§ï¼Œä¸€å®šè¦ç»™ box1å¼€å¯ç»å¯¹å®šä½ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nx>box1</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=nx>pagex</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=nx>box1</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>top</span> <span class=o>=</span> <span class=nx>pagey</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>// scroll å‡½æ•°å°è£…
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>//æ­¤å‡½æ•°çš„è¿”å›å€¼æ˜¯å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>right</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;height: 1000px;width: 2000px;&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;box1&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¸¾ä¾‹2è·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦»>ä¸¾ä¾‹2ï¼šè·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦»<a hidden class=anchor aria-hidden=true href=#ä¸¾ä¾‹2è·å–é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦»>#</a></h3><p>å…³é”®ç‚¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    é¼ æ ‡è·ç¦»æ‰€åœ¨ç›’å­çš„è·ç¦» = é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½® - æ‰€åœ¨ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½®
</span></span></code></pre></td></tr></table></div></div><p>ä»£ç æ¼”ç¤ºï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>300</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>padding-top</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>background-color</span><span class=p>:</span> <span class=kc>pink</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>text-align</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>font</span><span class=p>:</span> <span class=mi>18</span><span class=kt>px</span><span class=o>/</span><span class=mi>30</span><span class=kt>px</span> <span class=s2>&#34;simsun&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>cursor</span><span class=p>:</span> <span class=kc>pointer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;box&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;animate.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//éœ€æ±‚ï¼šé¼ æ ‡è¿›å…¥ç›’å­ä¹‹ååªè¦ç§»åŠ¨ï¼Œå“ªæ€•1åƒç´ ï¼Œéšæ—¶æ˜¾ç¤ºé¼ æ ‡åœ¨ç›’å­ä¸­çš„åæ ‡ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//æŠ€æœ¯ç‚¹ï¼šæ–°äº‹ä»¶ï¼Œonmousemoveï¼šåœ¨äº‹ä»¶æºä¸Šï¼Œå“ªæ€•é¼ æ ‡ç§»åŠ¨1åƒç´ ä¹Ÿä¼šè§¦åŠ¨è¿™ä¸ªäº‹ä»¶ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//ä¸€å®šç¨‹åº¦ä¸Šï¼Œæ¨¡æ‹Ÿäº†å®šæ—¶å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//æ­¥éª¤ï¼š
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//1.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//2.è·å–é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//3.è·å–ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//4.ç”¨é¼ æ ‡çš„ä½ç½®å‡å»ç›’å­çš„ä½ç½®èµ‹å€¼ç»™ç›’å­çš„å†…å®¹ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>//1.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>div</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByTagName</span><span class=p>(</span><span class=s2>&#34;div&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>div</span><span class=p>.</span><span class=nx>onmousemove</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>event</span> <span class=o>=</span> <span class=nx>event</span> <span class=o>||</span> <span class=nb>window</span><span class=p>.</span><span class=nx>event</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>//2.è·å–é¼ æ ‡åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>pagex</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageX</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>left</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>pagey</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageY</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>//3.è·å–ç›’å­åœ¨æ•´ä¸ªé¡µé¢çš„ä½ç½®
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// var xx =
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// var yy =
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//4.ç”¨é¼ æ ‡çš„ä½ç½®å‡å»ç›’å­çš„ä½ç½®èµ‹å€¼ç»™ç›’å­çš„å†…å®¹ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>targetx</span> <span class=o>=</span> <span class=nx>pagex</span> <span class=o>-</span> <span class=nx>div</span><span class=p>.</span><span class=nx>offsetLeft</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>targety</span> <span class=o>=</span> <span class=nx>pagey</span> <span class=o>-</span> <span class=nx>div</span><span class=p>.</span><span class=nx>offsetTop</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>innerHTML</span> <span class=o>=</span> <span class=s2>&#34;é¼ æ ‡åœ¨ç›’å­ä¸­çš„Xåæ ‡ä¸ºï¼š&#34;</span> <span class=o>+</span> <span class=nx>targetx</span> <span class=o>+</span> <span class=s2>&#34;px;&lt;br&gt;é¼ æ ‡åœ¨ç›’å­ä¸­çš„Yåæ ‡ä¸ºï¼š&#34;</span> <span class=o>+</span> <span class=nx>targety</span> <span class=o>+</span> <span class=s2>&#34;px;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>å®ç°æ•ˆæœï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1828.gif alt></p><h3 id=ä¸¾ä¾‹3å•†å“æ”¾å¤§é•œ>ä¸¾ä¾‹3ï¼šå•†å“æ”¾å¤§é•œ<a hidden class=anchor aria-hidden=true href=#ä¸¾ä¾‹3å•†å“æ”¾å¤§é•œ>#</a></h3><p>ä»£ç å®ç°ï¼š</p><p>ï¼ˆ1ï¼‰index.html:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>padding</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>box</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>350</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>350</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>margin</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#ccc</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>big</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>400</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>400</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>top</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>left</span><span class=p>:</span> <span class=mi>360</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#ccc</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>overflow</span><span class=p>:</span> <span class=kc>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c>/*maskçš„ä¸­æ–‡æ˜¯ï¼šé®ç½©*/</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>mask</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>width</span><span class=p>:</span> <span class=mi>175</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>height</span><span class=p>:</span> <span class=mi>175</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.4</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>top</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>left</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>cursor</span><span class=p>:</span> <span class=kc>move</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nc>small</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nt>img</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>vertical-align</span><span class=p>:</span> <span class=kc>top</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;tools.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nb>window</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//éœ€æ±‚ï¼šé¼ æ ‡æ”¾åˆ°å°ç›’å­ä¸Šï¼Œè®©å¤§ç›’å­é‡Œé¢çš„å›¾ç‰‡å’Œæˆ‘ä»¬åŒæ­¥ç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//æŠ€æœ¯ç‚¹ï¼šonmouseenter==onmouseover ç¬¬ä¸€ä¸ªä¸å†’æ³¡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//æŠ€æœ¯ç‚¹ï¼šonmouseleave==onmouseout  ç¬¬ä¸€ä¸ªä¸å†’æ³¡
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//æ­¥éª¤ï¼š
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//1.é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºç›’å­ï¼Œç§»å¼€éšè—ç›’å­ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//2.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ï¼ˆé»„ç›’å­è·Ÿéšç§»åŠ¨ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//3.å³ä¾§çš„å¤§å›¾ç‰‡ï¼Œç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>            <span class=c1>//0.è·å–ç›¸å…³å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>box</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementsByClassName</span><span class=p>(</span><span class=s2>&#34;box&#34;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>small</span> <span class=o>=</span> <span class=nx>box</span><span class=p>.</span><span class=nx>firstElementChild</span> <span class=o>||</span> <span class=nx>box</span><span class=p>.</span><span class=nx>firstChild</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>big</span> <span class=o>=</span> <span class=nx>box</span><span class=p>.</span><span class=nx>children</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>mask</span> <span class=o>=</span> <span class=nx>small</span><span class=p>.</span><span class=nx>children</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>bigImg</span> <span class=o>=</span> <span class=nx>big</span><span class=p>.</span><span class=nx>children</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>//1.é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºç›’å­ï¼Œç§»å¼€éšè—ç›’å­ã€‚(ä¸ºå°ç›’å­ç»‘å®šäº‹ä»¶)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>small</span><span class=p>.</span><span class=nx>onmouseenter</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//å°è£…å¥½æ–¹æ³•è°ƒç”¨ï¼šæ˜¾ç¤ºå…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>show</span><span class=p>(</span><span class=nx>mask</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>show</span><span class=p>(</span><span class=nx>big</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=nx>small</span><span class=p>.</span><span class=nx>onmouseleave</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//å°è£…å¥½æ–¹æ³•è°ƒç”¨ï¼šéšè—å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>hide</span><span class=p>(</span><span class=nx>mask</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>hide</span><span class=p>(</span><span class=nx>big</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>//2.è€ä¸‰æ­¥å’Œæ–°äº”æ­¥ï¼ˆé»„ç›’å­è·Ÿéšç§»åŠ¨ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//ç»‘å®šçš„äº‹ä»¶æ˜¯onmousemoveï¼Œè€Œäº‹ä»¶æºæ˜¯small(åªè¦åœ¨å°ç›’å­ä¸Šç§»åŠ¨1åƒç´ ï¼Œé»„ç›’å­ä¹Ÿè¦è·Ÿéš)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>small</span><span class=p>.</span><span class=nx>onmousemove</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>//æ–°äº”æ­¥
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>event</span> <span class=o>=</span> <span class=nx>event</span> <span class=o>||</span> <span class=nb>window</span><span class=p>.</span><span class=nx>event</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>//æƒ³è¦ç§»åŠ¨é»„ç›’å­ï¼Œå¿…é¡»è¦çŸ¥é“é¼ æ ‡åœ¨smallå°å›¾ä¸­çš„ä½ç½®ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kd>var</span> <span class=nx>pagex</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageX</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>left</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kd>var</span> <span class=nx>pagey</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>pageY</span> <span class=o>||</span> <span class=nx>scroll</span><span class=p>().</span><span class=nx>top</span> <span class=o>+</span> <span class=nx>event</span><span class=p>.</span><span class=nx>clientY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>//xï¼šmaskçš„leftå€¼ï¼Œyï¼šmaskçš„topå€¼ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>pagex</span> <span class=o>-</span> <span class=nx>box</span><span class=p>.</span><span class=nx>offsetLeft</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>//é™¤ä»¥2ï¼Œå¯ä»¥ä¿è¯é¼ æ ‡maskçš„ä¸­é—´
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kd>var</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>pagey</span> <span class=o>-</span> <span class=nx>box</span><span class=p>.</span><span class=nx>offsetTop</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetHeight</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>//é™åˆ¶æ¢ç›’å­çš„èŒƒå›´
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//leftå–å€¼ä¸ºå¤§äº0ï¼Œå°ç›’å­çš„å®½-maskçš„å®½ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>x</span> <span class=o>&gt;</span> <span class=nx>small</span><span class=p>.</span><span class=nx>offsetWidth</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetWidth</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>x</span> <span class=o>=</span> <span class=nx>small</span><span class=p>.</span><span class=nx>offsetWidth</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetWidth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=c1>//topåŒç†ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=p>(</span><span class=nx>y</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>y</span> <span class=o>&gt;</span> <span class=nx>small</span><span class=p>.</span><span class=nx>offsetHeight</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>y</span> <span class=o>=</span> <span class=nx>small</span><span class=p>.</span><span class=nx>offsetHeight</span> <span class=o>-</span> <span class=nx>mask</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>//ç§»åŠ¨é»„ç›’å­
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>small</span><span class=p>.</span><span class=nx>offsetHeight</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>mask</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span> <span class=nx>x</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=nx>mask</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>top</span> <span class=o>=</span> <span class=nx>y</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=c1>//3.å³ä¾§çš„å¤§å›¾ç‰‡ï¼Œç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//å¦‚ä½•ç§»åŠ¨å¤§å›¾ç‰‡ï¼Ÿç­‰æ¯”ä¾‹ç§»åŠ¨ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//    å¤§å›¾ç‰‡/å¤§ç›’å­ = å°å›¾ç‰‡/maskç›’å­
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//    å¤§å›¾ç‰‡èµ°çš„è·ç¦»/maskèµ°çš„è·ç¦» = ï¼ˆå¤§å›¾ç‰‡-å¤§ç›’å­ï¼‰/ï¼ˆå°å›¾ç‰‡-é»„ç›’å­ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1>//                var bili = (bigImg.offsetWidth-big.offsetWidth)/(small.offsetWidth-mask.offsetWidth);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>                <span class=c1>//å¤§å›¾ç‰‡èµ°çš„è·ç¦»/maskç›’å­éƒ½çš„è·ç¦» = å¤§å›¾ç‰‡/å°å›¾ç‰‡
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kd>var</span> <span class=nx>bili</span> <span class=o>=</span> <span class=nx>bigImg</span><span class=p>.</span><span class=nx>offsetWidth</span> <span class=o>/</span> <span class=nx>small</span><span class=p>.</span><span class=nx>offsetWidth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kd>var</span> <span class=nx>xx</span> <span class=o>=</span> <span class=nx>bili</span> <span class=o>*</span> <span class=nx>x</span><span class=p>;</span>  <span class=c1>//çŸ¥é“æ¯”ä¾‹ï¼Œå°±å¯ä»¥ç§»åŠ¨å¤§å›¾ç‰‡äº†
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=kd>var</span> <span class=nx>yy</span> <span class=o>=</span> <span class=nx>bili</span> <span class=o>*</span> <span class=nx>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=nx>bigImg</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>marginTop</span> <span class=o>=</span> <span class=o>-</span><span class=nx>yy</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=nx>bigImg</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>marginLeft</span> <span class=o>=</span> <span class=o>-</span><span class=nx>xx</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;box&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;small&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/001.jpg&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;mask&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;big&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;images/0001.jpg&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ï¼ˆ2ï¼‰tools.js:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Created by smyhvae on 2018/02/03.
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//æ˜¾ç¤ºå’Œéšè—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>show</span><span class=p>(</span><span class=nx>ele</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>ele</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span> <span class=o>=</span> <span class=s2>&#34;block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>hide</span><span class=p>(</span><span class=nx>ele</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>ele</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span> <span class=o>=</span> <span class=s2>&#34;none&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>scroll</span><span class=p>()</span> <span class=p>{</span>  <span class=c1>// å¼€å§‹å°è£…è‡ªå·±çš„scrollTop
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// ie9+ é«˜ç‰ˆæœ¬æµè§ˆå™¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// å› ä¸º window.pageYOffset é»˜è®¤çš„æ˜¯  0  æ‰€ä»¥è¿™é‡Œéœ€è¦åˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageXOffset</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>window</span><span class=p>.</span><span class=nx>pageYOffset</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>compatMode</span> <span class=o>===</span> <span class=s2>&#34;CSS1Compat&#34;</span><span class=p>)</span> <span class=p>{</span>    <span class=c1>// æ ‡å‡†æµè§ˆå™¨   æ¥åˆ¤æ–­æœ‰æ²¡æœ‰å£°æ˜DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>   <span class=c1>// æœªå£°æ˜ DTD
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>left</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollLeft</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>top</span><span class=o>:</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>scrollTop</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>æ•ˆæœæ¼”ç¤ºï¼š</p><p><img loading=lazy src=http://img.smyhvae.com/20180203_1920.gif alt></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/javascript/>JavaScript</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/tech/wait/04-javascript/38-client%E5%8F%AF%E8%A7%86%E5%8C%BA%E7%9B%B8%E5%85%B3%E5%B1%9E%E6%80%A7/><span class=title>Â« Prev</span><br><span>38-client(å¯è§†åŒº)ç›¸å…³å±æ€§</span></a>
<a class=next href=https://bablvsj.github.io/posts/tech/wait/04-javascript/40-%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BC%A0%E6%92%AD%E5%92%8C%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1/><span class=title>Next Â»</span><br><span>40-äº‹ä»¶çš„ä¼ æ’­å’Œäº‹ä»¶å†’æ³¡</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>