<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹ | Bablvsj&#39;s Blog</title>
<meta name="keywords" content="Three.js">
<meta name="description" content="23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹ - Bablvsj&#39;s Blog">
<meta name="author" content="">
<link rel="canonical" href="https://bablvsj.github.io/posts/threejs/23-three.js%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%8A%A0%E8%BD%BD.obj%E6%A8%A1%E5%9E%8B/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5525cc669fcb4f094a55bfc3ebfc5a6e73445e090010c66ab49c2cad14735f57.css" integrity="sha256-VSXMZp/LTwlKVb/D6/xabnNEXgkAEMZqtJwsrRRzX1c=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://bablvsj.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://bablvsj.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://bablvsj.github.io/img/Q.gif">
<link rel="apple-touch-icon" href="https://bablvsj.github.io/Q.gif">
<link rel="mask-icon" href="https://bablvsj.github.io/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="stylesheet" href="/css/syntax.css">


<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bablvsj.github.io/posts/threejs/23-three.js%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%8A%A0%E8%BD%BD.obj%E6%A8%A1%E5%9E%8B/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-19T17:11:35+08:00" />
<meta property="article:modified_time" content="2023-12-19T17:11:35+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "æ–‡ç« ",
      "item": "https://bablvsj.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹",
      "item": "https://bablvsj.github.io/posts/threejs/23-three.js%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%8A%A0%E8%BD%BD.obj%E6%A8%A1%E5%9E%8B/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹",
  "name": "23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹",
  "description": "",
  "keywords": [
    "Three.js"
  ],
  "articleBody": "æœ¬æ–‡å°†å¼€å§‹ Three.js æ–°çš„ç¯‡ç« â€”â€” Three.js å„ç§åº”ç”¨åœºæ™¯çš„è§£å†³æ–¹æ¡ˆã€‚\næœ‰ 2 ç‚¹ä¼šä¸ä¹‹å‰çš„ç¯‡ç« ä¸åŒï¼š\nè®²è§£å†…å®¹æ—¶å°½é‡ç®€è¦ï¼Œä¸å†åƒå‰é¢ 01-22 ç¯‡ç« é‚£æ ·å•°å—¦ å’ŒåŸç‰ˆå®˜æ–¹æ•™ç¨‹å†…å®¹ä¸Šç•¥æœ‰ä¸åŒï¼Œåˆ é™¤æˆ‘è®¤ä¸ºæ²¡æœ‰å¿…è¦çš„å†…å®¹ã€å¢åŠ ä¸Šæˆ‘è‡ªå·±è¡¥å……çš„å†…å®¹ã€‚ ç‰¹åˆ«å¼ºè°ƒ 1ï¼šä»æœ¬æ–‡ç¤ºä¾‹å¼€å§‹ï¼Œæˆ‘ä»¬å°†å‡çº§ React å’Œ Three.js çš„ç‰ˆæœ¬\nreact ç”±åŸæ¥çš„ 17.0.2 å‡çº§ä¸º 17.0.3\né‡ç‚¹æ˜¯ Three.js ç”±åŸæ¥çš„ 0.125.2 å‡çº§ä¸º 0.127.0\nç”±äº Three.js ç‰ˆæœ¬è¿­ä»£ï¼Œå¯¹äºæŸäº›ç±»çš„å¼•ç”¨è·¯å¾„ã€æ–¹æ³•å’Œå±æ€§çš„ä½¿ç”¨ éš¾å…ä¼šæœ‰ä¸€äº›å˜åŒ–ã€‚\nç”±äº Three.js åœ¨ 0.126.0 ç‰ˆæœ¬æ—¶å·²ç»é»˜è®¤ä¸åŒ…å« .d.ts æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦é¢å¤–å•ç‹¬å®‰è£… å¯¹åº”çš„ typescript ç±»å‹å®šä¹‰æ–‡ä»¶åŒ…\nyarn add @types/three //npm i @types/three ç‰¹åˆ«å¼ºè°ƒ 2ï¼šå°½ç®¡æˆ‘ä»¬åœ¨å‰ä¸€ç« èŠ‚èŠ±äº†éå¸¸å¤šçš„æ—¶é—´ç ”ç©¶å‡ºå¦‚æœåœ¨ Web Worker ä¸­æ¸²æŸ“å’Œæ§åˆ¶ Threejs 3D åœºæ™¯ï¼Œä½†æ˜¯æœ¬ç¤ºä¾‹å¹¶ä¸ä¼šé€‰æ‹©ä½¿ç”¨ web workerï¼Œä¾ç„¶ä¼šé€‰æ‹©ç›´æ¥åœ¨ JS ä¸»åœºæ™¯ä¸­åˆ›å»º 3D åœºæ™¯ã€‚\næ­£æ–‡å¼€å§‹â€¦\nåŠ è½½.obj(æ¨¡å‹)æ–‡ä»¶ å‰è¨€å°çµ®\nåœ¨ä¹‹å‰æ‰€æœ‰çš„ç¤ºä¾‹ä¸­ï¼Œåœºæ™¯ä¸­çš„ 3D ç‰©ä½“å…ƒç´ éƒ½æ˜¯ç›´æ¥åœ¨ Three.js ä¸­åˆ›å»ºçš„ï¼Œä½†æ˜¯ Three.js æ¯•ç«Ÿä¸æ˜¯ä¸“ä¸šçš„ 3D å»ºæ¨¡è½¯ä»¶ï¼Œæ‰€ä»¥å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„éƒ½æ˜¯åœ¨ä¼ ç»Ÿ 3D å»ºæ¨¡è½¯ä»¶ä¸­åˆ›å»ºå¥½æ¨¡å‹ï¼Œç„¶åå°†æ¨¡å‹å¯¼å‡ºæˆç‰¹å®šæ ¼å¼çš„æ–‡ä»¶ï¼Œç„¶ååœ¨ Three.js ä¸­ä½¿ç”¨ç‰¹å®šçš„åŠ è½½å™¨ï¼Œå°†è¿™äº›æ¨¡å‹åŠ è½½è¿›æ¥ã€‚\nè®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ Blender å°½ç®¡æˆ‘æ›´å–œæ¬¢ C4D è¿™ä¸ªè½¯ä»¶ï¼Œä½†æ˜¯ç”±äº C4D ä¸ºæ”¶è´¹è½¯ä»¶ï¼Œæ‰€ä»¥åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ›´å¤šçš„ä½¿ç”¨ Blender è¿™ä¸ªå…è´¹çš„ 3D å»ºæ¨¡è½¯ä»¶ã€‚\nå›½å¤–äººå¾ˆæ³¨æ„ç‰ˆæƒï¼Œæ‰€ä»¥å¾ˆå¤šæ•™ç¨‹ä¸­ä¹Ÿéƒ½ä½¿ç”¨çš„æ˜¯ Bleanderã€‚\nå‡è®¾ä½ å¸Œæœ›è‡ªå·±åˆ›å»ºçš„æ¨¡å‹æˆ–è€…é¡¹ç›®è¦è·Ÿåˆ«äººäº¤æµï¼Œè€Œä½ ä½¿ç”¨ç ´è§£ç‰ˆçš„ C4D ï¼Œå¤šå°‘æœ‰ä¸€äº›éšæ‚£ã€‚\nBlenderè½¯ä»¶ä¸‹è½½å®‰è£… Blender ä¸å…‰å…è´¹ï¼Œè€Œä¸”è¿˜æ”¯æŒç®€ä½“ä¸­æ–‡ã€‚\nå½“å‰ç‰ˆæœ¬ä¸º 2.92.0\nä¸‹è½½åœ°å€ï¼šhttps://www.blender.org/download/\nè½¯ä»¶å®‰è£…å¥½ä¹‹åï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨ Blender æ—¶ä¼šæœ‰ä¸€ä¸ªå¼¹çª—ï¼Œåœ¨å¼¹çª—ä¸­å°†ç•Œé¢è¯­è¨€ç”± English ä¿®æ”¹ä¸º ç®€ä½“ä¸­æ–‡ï¼Œè¿™æ ·è½¯ä»¶ç•Œé¢å°±å˜æˆ ç®€ä½“ä¸­æ–‡äº†ã€‚\nå…³äºBlenderçš„åŸºç¡€ç”¨æ³•ï¼Œè¯·å‚è€ƒæˆ‘å¦å¤–ä¸€ç¯‡å­¦ä¹ ç¬”è®°ï¼šBlenderåŸºç¡€æ•™ç¨‹\næˆ‘ä¹Ÿæ˜¯åˆšå¼€å§‹å­¦ä¹  Blenderï¼Œæ„Ÿå…´è¶£ä¸€èµ·å­¦ä¹ å§ã€‚\næˆ‘æœ¬èº«å°±ä¼šä¸€äº›åŸºç¡€çš„ C4D è½¯ä»¶æ“ä½œï¼Œæ‰€ä»¥åœ¨å­¦ä¹  Blender æ—¶å¹¶æ²¡æœ‰æ„Ÿè§‰ç‰¹åˆ«åƒåŠ›ï¼Œåªæ˜¯è§‰å¾— Blender å„ç§æ“ä½œçš„å¿«æ·é”®å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæœ‰ç‚¹éš¾è®°ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ 3D å»ºæ¨¡è½¯ä»¶ï¼Œé‚£â€¦åªèƒ½è¯´ï¼ŒåŠ æ²¹ï¼\nä½¿ç”¨Blenderåˆ›å»ºå¹¶å¯¼å‡º3Dæ¨¡å‹â€”â€”.objæ–‡ä»¶ å¯åŠ¨ Blender ä¹‹åï¼Œé»˜è®¤åœºæ™¯ä¸Šæœ‰ä¸€ä¸ªç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬å†æ·»åŠ å‡ ä¸ªå…¶ä»–å…ƒç´ ï¼Œå¦‚ åœ†æŸ±ä½“ã€åœ†é”¥ä½“ã€çƒä½“ã€‚\nå…³äºBlenderä¸­â€œçƒä½“â€çš„ç‰¹åˆ«è¯´æ˜\næˆ‘ä»¬æ·»åŠ çƒä½“çš„æ“ä½œæ˜¯ï¼šç‰©ä½“æ¨¡å¼ä¸‹ï¼Œç‚¹å‡» â€œæ·»åŠ  \u003e è¡¨(æ›²)é¢ \u003e çƒä½“â€\nåƒä¸‡ä¸è¦è¯¯æ“ä½œæˆï¼šâ€œæ·»åŠ  \u003e èçƒ \u003e çƒâ€\nå› ä¸º Blender ä¸­ èçƒ å’Œ çƒä½“ è™½ç„¶çœ‹ä¸Šå»éƒ½åƒçƒä½“ï¼Œä½†æ˜¯ 2 è€…æœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚\nè¿™å¥è¯æ˜¯åºŸè¯ï¼Œè¦æ˜¯æ²¡å·®åˆ«ä¹Ÿä¸ä¼šæ˜¯ä¸åŒæ“ä½œäº†ã€‚\næ‰€è°“ èçƒ å°±æ˜¯å½“ 2 ä¸ªèçƒå½¼æ­¤é è¿‘ä¸€å®šç¨‹åº¦åï¼Œ2 ä¸ªèçƒè¾¹ç¼˜ä¼šè‡ªåŠ¨èåˆåœ¨ä¸€èµ·ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªç‰¹æ€§æ‰€ä»¥æ‰è¢«ç§°ä¸ºèçƒã€‚èçƒæœ¬è´¨ä¸Šæ˜¯ Blender ä¸€ç§å³æ—¶è®¡ç®—çš„æ•°æ®å…¬å¼ã€‚\nè€Œ çƒä½“ å°±æ˜¯å±äºæ™®é€šçš„ç½‘æ ¼ï¼Œ2 ä¸ªçƒä½“å°±ç®—å½¼æ­¤é å¾—å†è¿‘ä¹Ÿä¸ä¼šå‘ç”Ÿç›¸èçš„åœºæ™¯ã€‚\næˆ‘ä»¬åªæ˜¯ç®€å•å°†è¿™å‡ ä¸ªå…ƒç´ ä¿®æ”¹ä¸€ä¸‹ä½ç½®ï¼Œä¸åšä»»ä½•å±æ€§çš„è°ƒæ•´ï¼Œç„¶åå°±ç›´æ¥å¯¼å‡ºæ¨¡å‹ã€‚\nä¸ºä»€ä¹ˆä¸åšå¤æ‚çš„è°ƒæ•´ï¼Ÿ\nç­”ï¼šå› ä¸ºæˆ‘ä¹Ÿåˆšå­¦ Blenderï¼Œè¿˜ä¸å¤ªä¼šï¼Œå°±å…ˆè¿™æ ·å§ã€‚\nç°åœ¨æˆ‘ä»¬è¦å¯¼å‡ºåˆšæ‰åˆ›å»ºçš„ 3D åœºæ™¯å…ƒç´ ï¼Œæ‰§è¡Œï¼š\næ–‡ä»¶ \u003e å¯¼å‡º \u003e Wavefront(obj)\nåœ¨å¼¹å‡ºçš„å¯¼å‡ºé€‰é¡¹å¼¹å‡ºä¸­ï¼Œæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸ä¿®æ”¹ï¼Œç›´æ¥ç‚¹å‡» å¯¼å‡ºOBJï¼Œæˆ‘ä»¬å°†æ–‡ä»¶åè®¾ç½®ä¸º hello.objã€‚\nä»¥ä¸‹ä¸ºé»˜è®¤çš„å¯¼å‡ºå‚æ•°\nåœ¨ Objects as é€‰é¡¹ä¸­ï¼š\nOBJ ç‰©ä½“ (é»˜è®¤å·²å‹¾é€‰) OBJç»„ (é»˜è®¤æœªè¢«å‹¾é€‰) æè´¨ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰) åŠ¨ç”» (é»˜è®¤æœªè¢«å‹¾é€‰) åœ¨ å˜æ¢ é€‰é¡¹ä¸­ï¼š\nç¼©æ”¾ï¼š1.00 (é»˜è®¤å€¼) è·¯å¾„æ¨¡å¼ï¼šè‡ªåŠ¨ (é»˜è®¤å€¼) å‰è¿›ï¼š-Z å‰è¿› (é»˜è®¤å€¼) å‘ä¸Šï¼šY å‘ä¸Š (é»˜è®¤å€¼) åœ¨ é›†åˆæ•°æ® é€‰é¡¹ä¸­ï¼š\nåº”ç”¨ä¿®æ”¹å™¨ (é»˜è®¤å·²å‹¾é€‰) å¹³æ»‘ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰) Bitflagå¹³æ»‘ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰) å†™å…¥æ³•çº¿ (é»˜è®¤å·²å‹¾é€‰) åŒ…æ‹¬UV (é»˜è®¤å·²å‹¾é€‰) å†™å…¥æè´¨ (é»˜è®¤å·²å‹¾é€‰) ä¸‰è§’é¢ (é»˜è®¤æœªè¢«å‹¾é€‰) Curves as NURBS (é»˜è®¤æœªè¢«å‹¾é€‰) å¤šè¾¹å½¢ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰) ä¿æŒé¡¶ç‚¹é¡ºåº (é»˜è®¤æœªè¢«å‹¾é€‰) å½“å¯¼å‡ºå®Œæˆåï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å®é™…ä¸Šäº§ç”Ÿäº† 2 ä¸ªæ–°æ–‡ä»¶ï¼š\nhello.obj hello.mtl ç‰¹åˆ«è¯´æ˜ä¸€ä¸‹ï¼š\n.obj è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥å‚¨å­˜ 3Dæ¨¡å‹ æ•°æ®çš„\nè¯·æ³¨æ„è¿™é‡Œé¢åªåŒ…å« 3Dæ¨¡å‹ çš„æ•°æ®å’Œæ¨¡å‹ä½ç½®ä¿¡æ¯ï¼Œå¹¶ä¸åŒ…å« Blender åœºæ™¯ä¸­çš„é•œå¤´å’Œç¯å…‰\n.mtl è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥å‚¨å­˜ æè´¨ æ•°æ®çš„\næˆ‘ä»¬åœ¨ Blender ä¸­åˆ›å»ºçš„å‡ ä¸ªç‰©ä½“å…ƒç´ ï¼Œå®é™…ä¸Š Blender å·²ç»ç»™ä»–ä»¬æ·»åŠ äº†é»˜è®¤çš„ä¸€ä¸ªå¯åå…‰æè´¨ã€‚\nç”±äºæ˜¯å¯åå…‰æè´¨ï¼Œæ‰€ä»¥è¯·è®°å¾—ä¸€å®šè¦åœ¨ Three.js åœºæ™¯ä¸­æ·»åŠ ç¯å…‰ï¼Œå¦åˆ™è¿™äº›ç‰©ä½“éƒ½ä¼šçœ‹ä¸è§çš„ã€‚\nåœ¨ Blender ä¸­æè´¨åŒ…å«æœ‰ çº¹ç†è´´å›¾ï¼Œå°½ç®¡æ­¤åˆ»æˆ‘ä»¬å¹¶æœªç»™æè´¨è®¾ç½®ä»»ä½•çº¹ç†è´´å›¾ã€‚\næˆ‘ä»¬å°†å¾—åˆ°çš„ hello.obj æ–‡ä»¶æ‹·è´åˆ° React é¡¹ç›®ä¸­ï¼Œè·¯å¾„ä¸º src/assets/model/hello.obj\næ¥ä¸‹æ¥æˆ‘ä»¬è¦å¼€å§‹ç¼–å†™ Three.js ç›¸å…³ä»£ç äº†ã€‚\nåŠ è½½ .obj æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º OBJLoader OBJLoader çš„ç”¨æ³•ä¹Ÿéå¸¸ç®€å•ï¼š\næœ€å¸¸ç”¨çš„æ–¹æ³•ä¸º .load()\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\" ... const loader = new OBJLoader() loader.load(require('@/assets/model/hello.obj').default, (group) =\u003e { console.log(group) scene.add(group) }, (event) =\u003e { console.log(Math.floor((event.loaded * 100) / event.total) + '% loaded') }, (error) =\u003e { console.log(error.type) }) ä¹Ÿå¯ä»¥ä½¿ç”¨å¼‚æ­¥çš„ loadAsync()ï¼Œç”¨æ³•ä¸ºï¼š\nconst promise = loader.loadAsync(require('@/assets/model/hello.obj').default, (event) =\u003e { console.log(Math.floor((event.loaded * 100) / event.total) + '% loaded') }) promise.then((group) =\u003e { scene.add(group) }) å…³äºThree.jså®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ªå°è¯´æ˜ï¼š\nå¦‚æœä½ æŸ¥çœ‹ OBJLoader çš„å®˜æ–¹æ–‡æ¡£ï¼Œä½ ä¼šå‘ç°åªä»‹ç»äº† load() æ–¹æ³•ï¼Œæ²¡æœ‰æåŠ loadAsync() ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ\nå³ä½¿ä½ æŸ¥çœ‹ OBJLoader çš„æºç ï¼Œä¹Ÿä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰ loadAsync() æ–¹æ³•ï¼Œé‚£â€¦â€¦\nè¿™å…¶å®æ˜¯å› ä¸º OBJLoader ç»§æ‰¿äº Loaderï¼Œè€Œ loadAsync() æ˜¯ç”± Loader å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‰æœªå‡ºç°åœ¨ OBJLoader çš„æ–‡æ¡£ä¸­ã€‚\nThree.js ä»“åº“ç®¡ç†å‘˜éå¸¸ä¸¥è°¨ï¼Œæ¯æ¬¡æäº¤ PR æ¶‰åŠä¿®æ”¹ä¸€å®šè¦æ±‚ä½ å»ä¿®æ”¹å¯¹åº”çš„æ–‡æ¡£ï¼Œæ‰€ä»¥å¦‚æœä»¥åå‘ç°æŸä¸ªæ–¹æ³•å¹¶æœªå‡ºç°åœ¨ è¦ä½¿ç”¨çš„ç±»çš„ä»‹ç»ä¸­ï¼Œé‚£ä¹ˆå°±å»ä»–çš„çˆ¶ç±»é‡ŒæŸ¥æ‰¾å³å¯ã€‚\nåƒåˆ«çš„ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ï¼Œå¯èƒ½éƒ½ä¼šåœ¨æŸä¸ªç±»çš„ä»‹ç»æ–‡ç« ä¸­ï¼Œåˆ—å‡ºæ‰€ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯åœ¨ Three.js ä¸­å¹¶æœªåˆ—å‡ºã€‚\næˆ‘å‘å®˜æ–¹æäº¤äº†ä¸€ä¸ªå»ºè®®ï¼šhttps://github.com/mrdoob/three.js/issues/21640\nå¾—åˆ°å®˜æ–¹çš„å›å¤å†…å®¹ä¸ºï¼š\nIndeed. And that's the reasons why I not vote to do this. This approach would require a lot of manual effort and thus is error prone when things change. The documentation pages contain references like: See the base Material class for common properties. Same for methods. Considering that the documentation is not generated, I think it's better to stick with this approach. å®˜æ–¹å›å¤çš„æ„æ€æ˜¯ï¼šç”±äºç°åœ¨ Three.js æ–‡æ¡£å¹¶ä¸æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¦‚æœé‚£æ ·åšå½“å‘ç”Ÿå˜æ›´æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šäº§ç”Ÿå¤§é‡çš„å·¥ä½œå†…å®¹ï¼Œæ‰€ä»¥â€¦å°±å…ˆä¿æŒç°çŠ¶å§ã€‚\nå®Œæ•´çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š\nsrc/components/hello-objloader/index.tsx\nimport { useRef, useEffect } from \"react\" import * as Three from 'three' import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\" import { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\" import './index.scss' const HelloOBJLoader = () =\u003e { const canvasRef = useRef(null) useEffect(() =\u003e { if (canvasRef.current === null) { return } const renderer = new Three.WebGLRenderer({ canvas: canvasRef.current }) const scene = new Three.Scene() const camera = new Three.PerspectiveCamera(45, 2, 0.1, 100) camera.position.set(10, 0, 10) const light = new Three.HemisphereLight(0xFFFFFF, 0x333333, 1) scene.add(light) const control = new OrbitControls(camera, canvasRef.current) control.update() const loader = new OBJLoader() loader.load(require('@/assets/model/hello.obj').default, (group) =\u003e { console.log(group) scene.add(group) }, (event) =\u003e { console.log(Math.floor((event.loaded * 100) / event.total) + '% loaded') }, (error) =\u003e { console.log(error.type) }) const render = () =\u003e { renderer.render(scene, camera) window.requestAnimationFrame(render) } window.requestAnimationFrame(render) const handleResize = () =\u003e { if (canvasRef.current === null) { return } const width = canvasRef.current.clientWidth const height = canvasRef.current.clientHeight camera.aspect = width / height camera.updateProjectionMatrix() renderer.setSize(width, height, false) } handleResize() window.addEventListener('resize', handleResize) return () =\u003e { window.removeEventListener('resize', handleResize) } }, []) return ( ) } export default HelloOBJLoader åˆ‡è®°ä¸€å®šè¦ç»™åœºæ™¯æ·»åŠ ç¯å…‰ï¼Œå¦åˆ™å³ä½¿åŠ è½½æ¨¡å‹æˆåŠŸäº†ï¼Œåœºæ™¯æ¼†é»‘ä¸€ç‰‡ï¼Œä¹Ÿå•¥ä¹Ÿçœ‹ä¸è§ã€‚\næ­¤åˆ»ï¼Œæˆ‘ä»¬åœ¨ Blender ä¸­åˆ›å»ºçš„ 3D æ¨¡å‹å·²ç»åŠ è½½å¹¶æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯æ¨¡å‹å¹¶æ²¡æœ‰ä»»ä½•æè´¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å®Œå–„ä¸€ä¸‹ç¤ºä¾‹ï¼Œç»™ç‰©ä½“æ·»åŠ ä¸Šæè´¨ã€‚\nåŠ è½½.mtl(æè´¨å’Œçº¹ç†)æ–‡ä»¶ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Blender ä¸­ç»™ç‰©ä½“çš„æè´¨æ·»åŠ çº¹ç†è´´å›¾ã€‚\nåœ¨Blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨ï¼Œæ·»åŠ çº¹ç† å…·ä½“æ­¥éª¤ä¸ºï¼š\nå…ˆå‡†å¤‡ä¸€å¼  é‡‘å±çº¹ç†è´´å›¾ï¼Œå°†è¯¥å›¾ç‰‡æ–‡ä»¶å‘½åä¸º metal_texture.jpgï¼Œæš‚ä¸”å­˜æ”¾åœ¨ hello.blend åŒçº§ç›®å½•ä¸‹ã€‚\néšç€é¡¹ç›®å¤æ‚ï¼Œçº¹ç†å›¾ç‰‡èµ„æºå˜å¤šï¼Œæ›´åŠ åˆç†çš„æ˜¯åˆ›å»ºä¸€ä¸ª texture çš„ç›®å½•ï¼Œç”¨æ¥ä¸“é—¨å­˜æ”¾çº¹ç†å›¾ç‰‡èµ„æº\nåœ¨ä¸é€‰æ‹©ä»»ä½•ç‰©ä½“çš„å‰æä¸‹ï¼Œåœ¨ Blender å³ä¾§é€‰é¡¹é¢æ¿ä¸­ï¼Œæ‰¾åˆ° â€œæè´¨å±æ€§â€ é¢æ¿ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° é»˜è®¤æè´¨ Materialï¼Œåœ¨ â€œè¡¨(æ›²)é¢ - åŸºç¡€è‰²â€ è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° â€œåŸºç¡€è‰²â€ï¼Œç‚¹å‡»å·¦ä¾§çš„ å°åœ†ç‚¹ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹© â€œå›¾åƒçº¹ç†â€ã€‚\nå¦‚æœä½ ä¸å°å¿ƒç‚¹å‡»çš„æ˜¯ â€œåŸºç¡€è‰²â€ å³ä¾§çš„åŒºåŸŸï¼Œåˆ™ä¼šå‡ºç° è°ƒè‰²æ¿\næ­¤æ—¶ åŸºç¡€è‰² å·²ä¿®æ”¹ä¸º å›¾åƒçº¹ç† çŠ¶æ€ï¼Œæˆ‘ä»¬ç‚¹å‡» â€œæ‰“å¼€â€ï¼Œåœ¨å¼¹çª—ä¸­æ‰¾åˆ° metal_texture.jpg å¹¶ç‚¹å‡» â€œæ‰“å¼€å›¾ç‰‡\"ï¼Œè¿™æ ·è¯¥çº¹ç†å›¾ç‰‡å·²æ·»åŠ åˆ° æè´¨ Material ä¸­äº†ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä¾æ¬¡é€‰ä¸­(æˆ–å…¨é€‰)ç«‹æ–¹ä½“ã€åœ†æŸ±ä½“ã€æ¤ä½“ã€çƒä½“ï¼Œç„¶ååœ¨æè´¨å±æ€§é¢æ¿ä¸­ï¼Œæ‰¾åˆ° â€œæè´¨å›¾æ ‡â€ï¼Œé¼ æ ‡æ”¾ä¸Šå»ä¼šæ˜¾ç¤ºæç¤ºæ–‡å­—ï¼šæµè§ˆè¦å…³è”çš„æè´¨ï¼Œç‚¹å‡»è¯¥å›¾æ ‡ï¼Œé€‰æ‹© Material\nè¯·æ³¨æ„æ˜¯ä¸€ä¸ªå›¾æ ‡ï¼Œè€Œä¸æ˜¯ä»€ä¹ˆæŒ‰é’®ï¼Œæ›´ä¸è¦ç‚¹å‡» â€œæ–°å»ºâ€\nè‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰ç‰©ä½“å‡è®¾ç½®ä¸€ä¸ªç›¸åŒæè´¨çº¹ç†å›¾ç‰‡ã€‚\nå¦‚æœæ„Ÿå…´è¶£ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±ç»™ä¸åŒç‰©ä½“è®¾ç½®ä¸åŒçš„æè´¨çº¹ç†å›¾ç‰‡\nè®©æˆ‘ä»¬å…ˆç®€å•æ¸²æŸ“ä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœå§ã€‚\né¦–å…ˆæˆ‘ä»¬è°ƒæ•´å¥½åœºæ™¯è§†è§’ï¼Œç„¶åæ‰§è¡Œ â€œè§†å›¾ \u003e å¯¹é½è§†å›¾ \u003e æ´»åŠ¨ç›¸æœºå¯¹é½å½“å‰è§†è§’â€ï¼Œè¿™ä¸€æ­¥çš„å¿«æ·é”®ä¸º Ctrl + Alt + Numpad0ã€‚\nç„¶åæˆ‘ä»¬ç‚¹å‡» Blender é¡¶éƒ¨èœå• â€œæ¸²æŸ“ \u003e æ¸²æŸ“å›¾åƒâ€ï¼Œè¿™ä¸€æ­¥çš„å¿«æ·é”®ä¸º F12ï¼Œæ¥ä¸‹æ¥å°±æ¸²æŸ“å¼¹çª—ä¸­å°±å¯ä»¥çœ‹åˆ°ç‰©ä½“æ¸²æŸ“åçš„æ ·å­ã€‚\nå‡è®¾ä½ ä¸ä¼š Blenderï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥å¿½ç•¥æˆ‘ä¸Šé¢è¿™æ®µå…³äºå¦‚ä½•åœ¨ Blender ä¸­åˆ›å»ºæ¨¡å‹å’Œæ·»åŠ æè´¨ã€çº¹ç†çš„æ“ä½œã€‚\nå¯¼å‡ºæ¨¡å‹\nâ€œæ–‡ä»¶ \u003e å¯¼å‡º \u003e Wavefront(.obj)â€\næˆ‘ä»¬çœ‹ä¸€ä¸‹ Three.js å®˜æ–¹æ–‡æ¡£ä¸­å¯¹ .mtl æ–‡ä»¶çš„æè¿°ï¼š\næè´¨æ¨¡ç‰ˆåº“ï¼ˆMTLï¼‰æˆ– .MTL æ–‡ä»¶æ ¼å¼æ˜¯ .OBJ çš„é…å¥—æ–‡ä»¶æ ¼å¼ï¼Œ ç”¨äºæè¿°ä¸€ä¸ªæˆ–å¤šä¸ª .OBJ æ–‡ä»¶ä¸­ç‰©ä½“è¡¨é¢ç€è‰²ï¼ˆæè´¨ï¼‰å±æ€§ã€‚\nå®é™…çœ‹çœ‹ hello.mtl æ–‡ä»¶å…·ä½“æ˜¯ä»€ä¹ˆå†…å®¹\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ è®°äº‹æœ¬ æˆ– vscode æ‰“å¼€ hello.mtl æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n# Blender MTL File: 'hello.blend' # Material Count: 1 newmtl Material Ns 323.999994 Ka 1.000000 1.000000 1.000000 Kd 0.800000 0.800000 0.800000 Ks 0.500000 0.500000 0.500000 Ke 0.000000 0.000000 0.000000 Ni 1.450000 d 1.000000 illum 2 map_Kd metal_texture.jpg æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€åä¸€è¡Œ map_Kd metal_texture.jpgï¼Œå¤§æ¦‚ä¹Ÿå¯ä»¥çŒœåˆ°è¿™ä¸€è¡Œè¡¨æ˜æè´¨çº¹ç†å›¾ç‰‡çš„è·¯å¾„å’Œæ–‡ä»¶åï¼Œå¹¶ä¸”è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚\nç”±äºæˆ‘ä»¬å°† metal_texture.jpg å­˜æ”¾åœ¨ hello.blend åŒä¸€ç›®å½•ä¸‹ã€‚\nå…³äº.mtlæ–‡ä»¶å†…å®¹çš„è¡¥å……è¯´æ˜ï¼š\nä¸‹é¢æˆ‘å°†é’ˆå¯¹ä¸Šé¢çš„ .mtl æ–‡ä»¶å†…å®¹è¿›è¡Œé€ä¸€è§£é‡Š\n#ï¼šæ³¨é‡Šå†…å®¹ newtmlï¼šæè´¨çš„åç§° Nsï¼šåå°„æŒ‡æ•°ï¼Œå³åå°„é«˜å…‰åº¦ï¼Œå€¼è¶Šé«˜åˆ™é«˜å…‰è¶Šå¯†é›†ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0 - 1000 Kaï¼šæè´¨çš„ç¯å¢ƒå…‰ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0 - 1 Kdï¼šæ•£å°„å…‰ Ksï¼šé•œé¢å…‰ Niï¼šæŠ˜å°„å…‰ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0.01 - 10 dï¼šæ¸éšæŒ‡æ•°ï¼Œå–å€¼èŒƒå›´ä¸º 0 - 1ï¼Œå½“å€¼ä¸º 1 æ—¶å®Œå…¨ä¸é€æ˜ï¼Œå½“å€¼ä¸º 0 æ—¶å®Œå…¨é€æ˜ illumï¼šæè´¨çš„å…‰ç…§æ¨¡å‹ï¼Œå€¼ä¸ºæ•´æ•°ï¼Œå–å€¼èŒƒå›´ä¸º 0 - 10 map_Kdï¼šæ¼«åå°„æŒ‡å®šé¢œè‰²çº¹ç†è´´å›¾æ–‡ä»¶è·¯å¾„ ä¸Šé¢å±æ€§ä¸­ illum å®é™…ä¸Šæ˜¯ â€œillumination modelâ€ï¼Œå³å…‰ç…§æ¨¡å‹ã€‚\nillum çš„å–å€¼åˆ†åˆ«å¯¹åº”çš„æ˜¯ï¼š\nå–å€¼ å…‰ç…§æ¨¡å‹ ä¸­æ–‡å 0 Color on and Ambient off è‰²å½©å¼€ï¼Œé˜´å½±è‰²å…³ 1 Color on and Ambient on è‰²å½©å¼€ï¼Œé˜´å½±è‰²å¼€ 2 Highlight on é«˜å…‰å¼€ 3 Reflection on and Ray trace on åå°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€ 4 Transparency: Glass on / Reflection: Ray trace on é€æ˜ï¼š ç»ç’ƒå¼€ åå°„ï¼šå…‰çº¿è¿½è¸ªå¼€ 5 Reflection: Fresnel on and Ray trace on åå°„ï¼šè²æ¶…å°”è¡å°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€ 6 Transparency: Refraction on / Reflection: Fresnel off and Ray trace on é€æ˜ï¼šæŠ˜å°„å¼€ åå°„ï¼šè²æ¶…å°”è¡å°„å…³ï¼Œå…‰çº¿è¿½è¸ªå¼€ 7 Transparency: Refraction on / Reflection: Fresnel on and Ray trace on é€æ˜ï¼šæŠ˜å°„å¼€ åå°„ï¼šè²æ¶…å°”è¡å°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€ 8 Reflection on and Ray trace off åå°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå…³ 9 Transparency: Glass on / Reflection: Ray trace off é€æ˜ï¼š ç»ç’ƒå¼€ åå°„ï¼šå…‰çº¿è¿½è¸ªå…³ 10 Casts shadows onto invisible surfaces æŠ•å°„é˜´å½±äºä¸å¯è§è¡¨é¢ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç”±äº hello.mtl ä¸­åŒ…å«çº¹ç†å›¾ç‰‡çš„è·¯å¾„ï¼Œå¦‚æœæˆ‘ä»¬å°† å›¾ç‰‡èµ„æº(metal_texture.jpg) æ‹·è´åˆ° src/assets/model ä¸­ï¼Œ.jpg å›¾ç‰‡ä¼šè¢« webpack é‡æ–°ç¼–è¯‘æˆåˆ«çš„æ–‡ä»¶åï¼Œè¿™ä¼šé€ æˆæˆ‘ä»¬åŠ è½½ä¸åˆ° çº¹ç†å›¾ç‰‡ èµ„æºã€‚\næœ€ç®€å•çš„è§£å†³åŠæ³•ï¼Œå°±æ˜¯å°† .obj/.mtl/.jpg è¿™ 3 ä¸ªæ–‡ä»¶èµ„æºå­˜æ”¾åœ¨ public ç›®å½•ä¸­ï¼Œè€Œä¸æ˜¯åœ¨ src ç›®å½•ä¸­ã€‚\npublic ç›®å½•é‡Œçš„æ–‡ä»¶æ˜¯ä¸ä¼šè¢« webpack ç¼–è¯‘é‡å‘½åçš„ã€‚\næ‹·è´æ–‡ä»¶åˆ° Three.js é¡¹ç›®ä¸­\næˆ‘ä»¬åœ¨React é¡¹ç›®æ ¹ç›®å½•çš„ public ç›®å½•ä¸‹åˆ›å»º model ç›®å½•ï¼Œç„¶åå°†æ–°å¯¼å‡ºçš„ 3 ä¸ªæ–‡ä»¶ï¼šhello.objã€hello.mtlã€metal_texture.jpg æ‹·è´åˆ° public/model/ ä¸­ã€‚\nè‡³æ­¤ï¼Œå‰æœŸå‡†å¤‡å·¥ä½œå®Œæ¯•ï¼Œæ¥ä¸‹æ¥è½¬åˆ° Three.js é¡¹ç›®ä»£ç ä¸­ã€‚\nåŠ è½½ .mtl è¡¨é¢ç€è‰²å™¨(æè´¨)å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º MTLLoader åœ¨ Three.js ä¸­ï¼Œå„ç§åŠ è½½å™¨çš„ç”¨æ³•å‡ ä¹å®Œå…¨ç›¸åŒã€‚\næˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯ï¼š\nå…ˆä½¿ç”¨ MTLLoader å®ä¾‹ åŠ è½½æè´¨(çº¹ç†å›¾ç‰‡)èµ„æº\nç‰¹åˆ«å¼ºè°ƒä¸€ä¸‹ï¼ŒMTLLoader å®ä¾‹ åŠ è½½å¾—åˆ°çš„å¯¹è±¡ç±»å‹å¹¶ä¸æ˜¯ Three.Metrial ï¼Œè€Œæ˜¯ MTLLoader.MaterialCreator\nåŠ è½½å®Œæˆåï¼Œå°†å¾—åˆ°çš„ MaterialCreator å®ä¾‹ èµ‹äºˆç»™ OBJLoader å®ä¾‹\nè¿™æ · OBJLoader ä»¥ååŠ è½½çš„ä»»æ„æ¨¡å‹éƒ½ä¼šè‡ªåŠ¨åº”ç”¨è¯¥ MaterialCreator æè´¨\nç„¶åå†è®© OBJLoader å®ä¾‹ å»åŠ è½½æ¨¡å‹\nåŠ è½½å®Œæˆåï¼Œå°†æ¨¡å‹æ·»åŠ åˆ°åœºæ™¯ä¸­\nå®é™…ä»£ç ï¼š\nimport { MTLLoader } from \"three/examples/jsm/loaders/MTLLoader\" import { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\" ... const mtlLoader = new MTLLoader() const objLoader = new OBJLoader() mtlLoader.load('./model/hello.mtl', (materialCreator) =\u003e { objLoader.setMaterials(materialCreator) objLoader.load('./model/hello.obj', (group) =\u003e { scene.add(group) }) }) è¯·æ³¨æ„ä¸Šè¿°ä»£ç åŠ è½½çš„èµ„æºåœ°å€ä¸º â€œ./model/hello.mtlâ€ å’Œ â€œ./model/hello.objâ€ï¼Œè¿™é‡Œæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹ç¼–è¯‘ä¹‹åçš„ index.html è€Œè¨€ã€‚\nå®Œæ•´çš„ä»£ç ï¼š\nimport { useRef, useEffect } from \"react\" import * as Three from 'three' import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\" import { MTLLoader } from \"three/examples/jsm/loaders/MTLLoader\" import { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\" import './index.scss' const HelloOBJLoader = () =\u003e { const canvasRef = useRef(null) useEffect(() =\u003e { if (canvasRef.current === null) { return } const renderer = new Three.WebGLRenderer({ canvas: canvasRef.current }) const scene = new Three.Scene() const camera = new Three.PerspectiveCamera(45, 2, 0.1, 100) camera.position.set(10, 0, 10) const light = new Three.HemisphereLight(0xFFFFFF, 0x333333, 1) scene.add(light) const mtlLoader = new MTLLoader() const objLoader = new OBJLoader() mtlLoader.load('./model/hello.mtl', (materialCreator) =\u003e { objLoader.setMaterials(materialCreator) objLoader.load('./model/hello.obj', (group) =\u003e { scene.add(group) }) }) const control = new OrbitControls(camera, canvasRef.current) control.update() const render = () =\u003e { renderer.render(scene, camera) window.requestAnimationFrame(render) } window.requestAnimationFrame(render) const handleResize = () =\u003e { if (canvasRef.current === null) { return } const width = canvasRef.current.clientWidth const height = canvasRef.current.clientHeight camera.aspect = width / height camera.updateProjectionMatrix() renderer.setSize(width, height, false) } handleResize() window.addEventListener('resize', handleResize) return () =\u003e { window.removeEventListener('resize', handleResize) } }, []) return ( ) } export default HelloOBJLoader è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è®²è§£å®Œå¦‚ä½•åŠ è½½ .mtl å’Œ .obj æ–‡ä»¶ã€‚\n.objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„ æœ¬æ–‡è®²è§£çš„æ˜¯åœ¨ Blender ä¸­å¯¼å‡º wavefront(.obj) æ–‡ä»¶æ ¼å¼ã€‚\nè¿™é‡Œè¦é’ˆå¯¹æ€§çš„è¿›è¡Œè¡¥å……ï¼š\nBlender å¯ä»¥å¯¼å‡º N å¤šç§æ–‡ä»¶æ ¼å¼\n.obj ä»…ä»…æ˜¯å…¶ä¸­ä¸€ç§\nThree.js æ”¯æŒå¤šç§ 3D æ–‡ä»¶æ¨¡å‹æ ¼å¼\næœ¬æ–‡è®²è§£çš„æ˜¯åŠ è½½ .obj\n.objæ ¼å¼çš„ä¸€äº›ç‰¹ç‚¹ï¼š\nè¡Œä¸šå†…æ¯”è¾ƒå¹¿æ³›ä½¿ç”¨\n.objæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ¼å¼\næœ¬æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€äº† .mtl æ–‡ä»¶ï¼Œå¹¶æœªæ‰“å¼€ .obj æ–‡ä»¶ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å°è¯•çœ‹çœ‹å…·ä½“éƒ½æ˜¯ä»€ä¹ˆå†…å®¹ã€‚\n.objåŒ…å«çš„å†…å®¹æœ‰ï¼šMesh(ç½‘æ ¼)ã€æŒ‰ç»„/ç‰©ä½“åˆ†ç¦»ã€æè´¨/çº¹ç†ã€NURBSæ›²çº¿å’Œæ›²é¢\n.objä¸åŒ…å«(ä¸æ”¯æŒå¯¼å‡º)çš„å†…å®¹æœ‰ï¼šç½‘æ ¼é¡¶ç‚¹é¢œè‰²ã€éª¨æ¶ã€åŠ¨ç”»ã€ç¯å…‰ã€ç›¸æœºã€ç©ºç‰©ä½“ã€çˆ¶å­å…³ç³»æˆ–å˜æ¢\nä»¥ä¸Šç‰¹æ€§ä¸­ä¸éš¾çœ‹å‡º .obj æœ‰ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰ç¼ºç‚¹ã€‚\nä¼˜ç‚¹ï¼šåªåŒ…å«ç‰©ä½“æ¨¡å‹æ•°æ®æœ¬èº«\nç¼ºç‚¹ï¼šä¸åŒ…å«å…¶ä»–å¤æ‚å…ƒç´ (åŠ¨ç”»ã€ç›¸æœºã€ç¯å…‰ç­‰)\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« èŠ‚ä¸­ï¼Œè®²è§£å¦å¤–ä¸€ç§ 3D æ¨¡å‹æ ¼å¼æ–‡ä»¶ï¼š.gLTF\ngLTF æ ¼å¼å¯ä»¥åŒ…å«æ›´å¤šå¤æ‚çš„å…ƒç´ æ•°æ®ã€‚\nä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ Blenderï¼Ÿ æˆ‘ä¸ªäººè®¤ä¸ºï¼Œå¦‚æœä½ æƒ³æ·±å…¥å­¦ä¹  3Dï¼Œå­¦ä¹  Three.jsï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æŒæ¡ä¸€é—¨ 3D å»ºæ¨¡è½¯ä»¶ã€‚\nä½ å¯ä»¥ä¸ç²¾é€šï¼Œä½†æ˜¯åŸºç¡€çš„æ“ä½œä½ è¦æŒæ¡ï¼Œè¿™æ ·éå¸¸åˆ©äºä½ å¯¹äº Three.js 3D æ¦‚å¿µçš„ç†è§£ã€‚\nå¦‚æœä½ ä¸ä¼š 3D å»ºæ¨¡è½¯ä»¶ï¼Œé‚£ä¹ˆä½ åªèƒ½ç›´æ¥åœ¨ Three.js ä¸­å»åˆ›å»ºæ¨¡å‹ï¼Œè¿™å°†æ˜¯ä¸€ä»¶éå¸¸è´¹åŠ›çš„äº‹æƒ…ï¼Œå¹¶ä¸”ä¹Ÿæ— æ³•åšåˆ°ç²¾å‡†å»ºæ¨¡ï¼Œå¯¹æ¨¡å‹çš„ç»†è…»é›•åˆ»ã€‚\nä½ æ€»ä¸èƒ½å®Œå…¨ä¾é åˆ«äººç»™ä½ æä¾›å»ºå¥½çš„æ¨¡å‹ï¼Œåšåˆ°é¥­æ¥å¼ å£çš„çŠ¶æ€å§ã€‚\nè‡ªå·±èƒ½å¤ŸæŒæ¡ 3D å»ºæ¨¡ï¼Œè¶Šå»ºè¶Šå¿«ä¹ã€‚\nè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ¬æ–‡èŠ±äº†å¤§é‡ç¯‡å¹…åœ¨ä¸€æ­¥ä¸€æ­¥è®²è§£ Blender ä¸­çš„å„ç§æ“ä½œçš„åŸå› ã€‚\næˆ‘ä¹Ÿæ˜¯ Blender æ–°æ‰‹å°ç™½ï¼Œå¸Œæœ›æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·åŠ æ²¹ã€‚\nå¦‚æœæœ¬æ–‡ä¸­è®²è§£çš„ Blender ä½ æ ¹æœ¬ä¸ä¼šæ“ä½œï¼Œä¹Ÿä¸æ„Ÿå…´è¶£å®‰è£…å­¦ä¹ ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸Šæœç´¢ä¸€äº› .obj å’Œ .mtl æ–‡ä»¶è¿›è¡Œä»£æ›¿å­¦ä¹ ã€‚\nè¿™é‡Œæä¾› 2 ä¸ªæ–‡ä»¶èµ„æºï¼Œä½ å¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨ï¼š\nhttps://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill-fixed.mtl\nhttps://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill.obj\næˆ‘ä»¬ä¸‹ä¸€ç« èŠ‚è§ã€‚\n",
  "wordCount" : "5583",
  "inLanguage": "en",
  "datePublished": "2023-12-19T17:11:35+08:00",
  "dateModified": "2023-12-19T17:11:35+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://bablvsj.github.io/posts/threejs/23-three.js%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%8A%A0%E8%BD%BD.obj%E6%A8%A1%E5%9E%8B/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Bablvsj's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://bablvsj.github.io/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://bablvsj.github.io" accesskey="h" title="Bablvsj&#39;s Blog (Alt + H)">Bablvsj&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://bablvsj.github.io/" title="ä¸»é¡µ">
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://bablvsj.github.io/archives/" title="æ—¶é—´è½´">
                    <span>æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://bablvsj.github.io/tags" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://bablvsj.github.io/about" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://bablvsj.github.io/search" title="ğŸ” (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”</span>
                </a>
            </li>
        </ul>
    </nav>
</header>


<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      23 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.objæ¨¡å‹
    </h1>
    <div class="post-meta">
      
<div class="post-tags-meta">
    <a href="https://bablvsj.github.io/tags/three.js/">Three.js</a>
</div>

12 min&nbsp;Â·&nbsp;<span title='2023-12-19 17:11:35 +0800 CST'>2023/12/19</span>


      
    </div>
    
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        
        <div class="inner"><ul>
                <li>
                    <a href="#%e5%8a%a0%e8%bd%bdobj%e6%a8%a1%e5%9e%8b%e6%96%87%e4%bb%b6" aria-label="åŠ è½½.obj(æ¨¡å‹)æ–‡ä»¶">åŠ è½½.obj(æ¨¡å‹)æ–‡ä»¶</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e8%ae%a9%e6%88%91%e4%bb%ac%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8-blender" aria-label="è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ Blender">è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ Blender</a></li>
                <li>
                    <a href="#blender%e8%bd%af%e4%bb%b6%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85" aria-label="Blenderè½¯ä»¶ä¸‹è½½å®‰è£…">Blenderè½¯ä»¶ä¸‹è½½å®‰è£…</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8blender%e5%88%9b%e5%bb%ba%e5%b9%b6%e5%af%bc%e5%87%ba3d%e6%a8%a1%e5%9e%8bobj%e6%96%87%e4%bb%b6" aria-label="ä½¿ç”¨Blenderåˆ›å»ºå¹¶å¯¼å‡º3Dæ¨¡å‹â€”â€”.objæ–‡ä»¶">ä½¿ç”¨Blenderåˆ›å»ºå¹¶å¯¼å‡º3Dæ¨¡å‹â€”â€”.objæ–‡ä»¶</a></li>
                <li>
                    <a href="#%e5%8a%a0%e8%bd%bd-obj-%e6%a8%a1%e5%9e%8b%e6%96%87%e4%bb%b6%e5%af%b9%e5%ba%94%e7%9a%84%e7%b1%bb%e5%8a%a0%e8%bd%bd%e5%99%a8%e4%b8%ba-objloader" aria-label="åŠ è½½ .obj æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º OBJLoader">åŠ è½½ .obj æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º OBJLoader</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#%e5%8a%a0%e8%bd%bdmtl%e6%9d%90%e8%b4%a8%e5%92%8c%e7%ba%b9%e7%90%86%e6%96%87%e4%bb%b6" aria-label="åŠ è½½.mtl(æè´¨å’Œçº¹ç†)æ–‡ä»¶">åŠ è½½.mtl(æè´¨å’Œçº¹ç†)æ–‡ä»¶</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e5%9c%a8blender%e4%b8%ad%e7%bb%99%e7%89%a9%e4%bd%93%e8%ae%be%e7%bd%ae%e6%9d%90%e8%b4%a8%e6%b7%bb%e5%8a%a0%e7%ba%b9%e7%90%86" aria-label="åœ¨Blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨ï¼Œæ·»åŠ çº¹ç†">åœ¨Blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨ï¼Œæ·»åŠ çº¹ç†</a></li>
                <li>
                    <a href="#%e5%8a%a0%e8%bd%bd-mtl-%e8%a1%a8%e9%9d%a2%e7%9d%80%e8%89%b2%e5%99%a8%e6%9d%90%e8%b4%a8%e5%af%b9%e5%ba%94%e7%9a%84%e7%b1%bb%e5%8a%a0%e8%bd%bd%e5%99%a8%e4%b8%ba-mtlloader" aria-label="åŠ è½½ .mtl è¡¨é¢ç€è‰²å™¨(æè´¨)å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º MTLLoader">åŠ è½½ .mtl è¡¨é¢ç€è‰²å™¨(æè´¨)å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º MTLLoader</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#obj%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%e7%9a%84%e4%b8%80%e4%ba%9b%e7%89%b9%e5%88%ab%e4%b9%8b%e5%a4%84" aria-label=".objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„">.objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„</a></li>
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e8%87%aa%e5%b7%b1%e5%ad%a6%e4%b9%a0blender" aria-label="ä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ Blenderï¼Ÿ">ä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ Blenderï¼Ÿ</a>
                </li>
            </ul>
        </div>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><p>æœ¬æ–‡å°†å¼€å§‹ Three.js æ–°çš„ç¯‡ç« â€”â€” Three.js å„ç§åº”ç”¨åœºæ™¯çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æœ‰ 2 ç‚¹ä¼šä¸ä¹‹å‰çš„ç¯‡ç« ä¸åŒï¼š</p>
<ol>
<li>è®²è§£å†…å®¹æ—¶å°½é‡ç®€è¦ï¼Œä¸å†åƒå‰é¢ 01-22 ç¯‡ç« é‚£æ ·å•°å—¦</li>
<li>å’ŒåŸç‰ˆå®˜æ–¹æ•™ç¨‹å†…å®¹ä¸Šç•¥æœ‰ä¸åŒï¼Œåˆ é™¤æˆ‘è®¤ä¸ºæ²¡æœ‰å¿…è¦çš„å†…å®¹ã€å¢åŠ ä¸Šæˆ‘è‡ªå·±è¡¥å……çš„å†…å®¹ã€‚</li>
</ol>
<br>
<p><strong>ç‰¹åˆ«å¼ºè°ƒ 1ï¼šä»æœ¬æ–‡ç¤ºä¾‹å¼€å§‹ï¼Œæˆ‘ä»¬å°†å‡çº§ React å’Œ Three.js çš„ç‰ˆæœ¬</strong></p>
<ol>
<li>
<p>react  ç”±åŸæ¥çš„ 17.0.2 å‡çº§ä¸º 17.0.3</p>
</li>
<li>
<p>é‡ç‚¹æ˜¯ Three.js ç”±åŸæ¥çš„ 0.125.2 å‡çº§ä¸º 0.127.0</p>
<blockquote>
<p>ç”±äº Three.js ç‰ˆæœ¬è¿­ä»£ï¼Œå¯¹äºæŸäº›ç±»çš„å¼•ç”¨è·¯å¾„ã€æ–¹æ³•å’Œå±æ€§çš„ä½¿ç”¨ éš¾å…ä¼šæœ‰ä¸€äº›å˜åŒ–ã€‚</p>
</blockquote>
</li>
<li>
<p>ç”±äº Three.js åœ¨ 0.126.0 ç‰ˆæœ¬æ—¶å·²ç»é»˜è®¤ä¸åŒ…å« .d.ts æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦é¢å¤–å•ç‹¬å®‰è£… å¯¹åº”çš„ typescript ç±»å‹å®šä¹‰æ–‡ä»¶åŒ…</p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>yarn add @types/three
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>//npm i @types/three
</span></span></code></pre></div></li>
</ol>
<br>
<p><strong>ç‰¹åˆ«å¼ºè°ƒ 2ï¼šå°½ç®¡æˆ‘ä»¬åœ¨å‰ä¸€ç« èŠ‚èŠ±äº†éå¸¸å¤šçš„æ—¶é—´ç ”ç©¶å‡ºå¦‚æœåœ¨ Web Worker ä¸­æ¸²æŸ“å’Œæ§åˆ¶ Threejs 3D åœºæ™¯ï¼Œä½†æ˜¯æœ¬ç¤ºä¾‹å¹¶ä¸ä¼šé€‰æ‹©ä½¿ç”¨ web workerï¼Œä¾ç„¶ä¼šé€‰æ‹©ç›´æ¥åœ¨ JS ä¸»åœºæ™¯ä¸­åˆ›å»º 3D åœºæ™¯ã€‚</strong></p>
<br>
<p>æ­£æ–‡å¼€å§‹&hellip;</p>
<h2 id="åŠ è½½objæ¨¡å‹æ–‡ä»¶">åŠ è½½.obj(æ¨¡å‹)æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#åŠ è½½objæ¨¡å‹æ–‡ä»¶">#</a></h2>
<br>
<p><strong>å‰è¨€å°çµ®</strong></p>
<p>åœ¨ä¹‹å‰æ‰€æœ‰çš„ç¤ºä¾‹ä¸­ï¼Œåœºæ™¯ä¸­çš„ 3D ç‰©ä½“å…ƒç´ éƒ½æ˜¯ç›´æ¥åœ¨ Three.js ä¸­åˆ›å»ºçš„ï¼Œä½†æ˜¯ Three.js æ¯•ç«Ÿä¸æ˜¯ä¸“ä¸šçš„ 3D å»ºæ¨¡è½¯ä»¶ï¼Œæ‰€ä»¥å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„éƒ½æ˜¯åœ¨ä¼ ç»Ÿ 3D å»ºæ¨¡è½¯ä»¶ä¸­åˆ›å»ºå¥½æ¨¡å‹ï¼Œç„¶åå°†æ¨¡å‹å¯¼å‡ºæˆç‰¹å®šæ ¼å¼çš„æ–‡ä»¶ï¼Œç„¶ååœ¨ Three.js ä¸­ä½¿ç”¨ç‰¹å®šçš„åŠ è½½å™¨ï¼Œå°†è¿™äº›æ¨¡å‹åŠ è½½è¿›æ¥ã€‚</p>
<br>
<h4 id="è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨-blender">è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ Blender<a hidden class="anchor" aria-hidden="true" href="#è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨-blender">#</a></h4>
<p>å°½ç®¡æˆ‘æ›´å–œæ¬¢ C4D è¿™ä¸ªè½¯ä»¶ï¼Œä½†æ˜¯ç”±äº C4D ä¸ºæ”¶è´¹è½¯ä»¶ï¼Œæ‰€ä»¥åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ›´å¤šçš„ä½¿ç”¨ Blender è¿™ä¸ªå…è´¹çš„ 3D å»ºæ¨¡è½¯ä»¶ã€‚</p>
<p>å›½å¤–äººå¾ˆæ³¨æ„ç‰ˆæƒï¼Œæ‰€ä»¥å¾ˆå¤šæ•™ç¨‹ä¸­ä¹Ÿéƒ½ä½¿ç”¨çš„æ˜¯ Bleanderã€‚</p>
<p>å‡è®¾ä½ å¸Œæœ›è‡ªå·±åˆ›å»ºçš„æ¨¡å‹æˆ–è€…é¡¹ç›®è¦è·Ÿåˆ«äººäº¤æµï¼Œè€Œä½ ä½¿ç”¨ç ´è§£ç‰ˆçš„ C4D ï¼Œå¤šå°‘æœ‰ä¸€äº›éšæ‚£ã€‚</p>
<br>
<h4 id="blenderè½¯ä»¶ä¸‹è½½å®‰è£…">Blenderè½¯ä»¶ä¸‹è½½å®‰è£…<a hidden class="anchor" aria-hidden="true" href="#blenderè½¯ä»¶ä¸‹è½½å®‰è£…">#</a></h4>
<p>Blender ä¸å…‰å…è´¹ï¼Œè€Œä¸”è¿˜æ”¯æŒç®€ä½“ä¸­æ–‡ã€‚</p>
<blockquote>
<p>å½“å‰ç‰ˆæœ¬ä¸º 2.92.0</p>
</blockquote>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.blender.org/download/">https://www.blender.org/download/</a></p>
<blockquote>
<p>è½¯ä»¶å®‰è£…å¥½ä¹‹åï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨ Blender æ—¶ä¼šæœ‰ä¸€ä¸ªå¼¹çª—ï¼Œåœ¨å¼¹çª—ä¸­å°†ç•Œé¢è¯­è¨€ç”± English ä¿®æ”¹ä¸º ç®€ä½“ä¸­æ–‡ï¼Œè¿™æ ·è½¯ä»¶ç•Œé¢å°±å˜æˆ ç®€ä½“ä¸­æ–‡äº†ã€‚</p>
</blockquote>
<br>
<p><strong>å…³äºBlenderçš„åŸºç¡€ç”¨æ³•ï¼Œè¯·å‚è€ƒæˆ‘å¦å¤–ä¸€ç¯‡å­¦ä¹ ç¬”è®°ï¼š<a href="https://github.com/puxiao/notes/blob/master/Blender%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B.md">BlenderåŸºç¡€æ•™ç¨‹</a></strong></p>
<p>æˆ‘ä¹Ÿæ˜¯åˆšå¼€å§‹å­¦ä¹  Blenderï¼Œæ„Ÿå…´è¶£ä¸€èµ·å­¦ä¹ å§ã€‚</p>
<blockquote>
<p>æˆ‘æœ¬èº«å°±ä¼šä¸€äº›åŸºç¡€çš„ C4D è½¯ä»¶æ“ä½œï¼Œæ‰€ä»¥åœ¨å­¦ä¹  Blender æ—¶å¹¶æ²¡æœ‰æ„Ÿè§‰ç‰¹åˆ«åƒåŠ›ï¼Œåªæ˜¯è§‰å¾— Blender å„ç§æ“ä½œçš„å¿«æ·é”®å®åœ¨æ˜¯å¤ªå¤šäº†ï¼Œæœ‰ç‚¹éš¾è®°ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ 3D å»ºæ¨¡è½¯ä»¶ï¼Œé‚£&hellip;åªèƒ½è¯´ï¼ŒåŠ æ²¹ï¼</p>
</blockquote>
<br>
<h4 id="ä½¿ç”¨blenderåˆ›å»ºå¹¶å¯¼å‡º3dæ¨¡å‹objæ–‡ä»¶">ä½¿ç”¨Blenderåˆ›å»ºå¹¶å¯¼å‡º3Dæ¨¡å‹â€”â€”.objæ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨blenderåˆ›å»ºå¹¶å¯¼å‡º3dæ¨¡å‹objæ–‡ä»¶">#</a></h4>
<p>å¯åŠ¨ Blender ä¹‹åï¼Œé»˜è®¤åœºæ™¯ä¸Šæœ‰ä¸€ä¸ªç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬å†æ·»åŠ å‡ ä¸ªå…¶ä»–å…ƒç´ ï¼Œå¦‚ åœ†æŸ±ä½“ã€åœ†é”¥ä½“ã€çƒä½“ã€‚</p>
<p><strong>å…³äºBlenderä¸­â€œçƒä½“â€çš„ç‰¹åˆ«è¯´æ˜</strong></p>
<p>æˆ‘ä»¬æ·»åŠ çƒä½“çš„æ“ä½œæ˜¯ï¼šç‰©ä½“æ¨¡å¼ä¸‹ï¼Œç‚¹å‡» â€œæ·»åŠ  &gt; è¡¨(æ›²)é¢ &gt; çƒä½“â€</p>
<p>åƒä¸‡ä¸è¦è¯¯æ“ä½œæˆï¼šâ€œæ·»åŠ  &gt; èçƒ &gt; çƒâ€</p>
<p>å› ä¸º Blender ä¸­ èçƒ å’Œ çƒä½“ è™½ç„¶çœ‹ä¸Šå»éƒ½åƒçƒä½“ï¼Œä½†æ˜¯ 2 è€…æœ‰å¾ˆå¤§çš„å·®åˆ«ã€‚</p>
<blockquote>
<p>è¿™å¥è¯æ˜¯åºŸè¯ï¼Œè¦æ˜¯æ²¡å·®åˆ«ä¹Ÿä¸ä¼šæ˜¯ä¸åŒæ“ä½œäº†ã€‚</p>
<p>æ‰€è°“ èçƒ å°±æ˜¯å½“ 2 ä¸ªèçƒå½¼æ­¤é è¿‘ä¸€å®šç¨‹åº¦åï¼Œ2 ä¸ªèçƒè¾¹ç¼˜ä¼šè‡ªåŠ¨èåˆåœ¨ä¸€èµ·ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªç‰¹æ€§æ‰€ä»¥æ‰è¢«ç§°ä¸ºèçƒã€‚èçƒæœ¬è´¨ä¸Šæ˜¯ Blender ä¸€ç§å³æ—¶è®¡ç®—çš„æ•°æ®å…¬å¼ã€‚</p>
<p>è€Œ çƒä½“ å°±æ˜¯å±äºæ™®é€šçš„ç½‘æ ¼ï¼Œ2 ä¸ªçƒä½“å°±ç®—å½¼æ­¤é å¾—å†è¿‘ä¹Ÿä¸ä¼šå‘ç”Ÿç›¸èçš„åœºæ™¯ã€‚</p>
</blockquote>
<br>
<p>æˆ‘ä»¬åªæ˜¯ç®€å•å°†è¿™å‡ ä¸ªå…ƒç´ ä¿®æ”¹ä¸€ä¸‹ä½ç½®ï¼Œä¸åšä»»ä½•å±æ€§çš„è°ƒæ•´ï¼Œç„¶åå°±ç›´æ¥å¯¼å‡ºæ¨¡å‹ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¸åšå¤æ‚çš„è°ƒæ•´ï¼Ÿ<br>
ç­”ï¼šå› ä¸ºæˆ‘ä¹Ÿåˆšå­¦ Blenderï¼Œè¿˜ä¸å¤ªä¼šï¼Œå°±å…ˆè¿™æ ·å§ã€‚</p>
</blockquote>
<br>
<p>ç°åœ¨æˆ‘ä»¬è¦å¯¼å‡ºåˆšæ‰åˆ›å»ºçš„ 3D åœºæ™¯å…ƒç´ ï¼Œæ‰§è¡Œï¼š</p>
<p><strong>æ–‡ä»¶ &gt; å¯¼å‡º &gt; Wavefront(obj)</strong></p>
<p>åœ¨å¼¹å‡ºçš„å¯¼å‡ºé€‰é¡¹å¼¹å‡ºä¸­ï¼Œæˆ‘ä»¬ä»€ä¹ˆä¹Ÿä¸ä¿®æ”¹ï¼Œç›´æ¥ç‚¹å‡» å¯¼å‡ºOBJï¼Œæˆ‘ä»¬å°†æ–‡ä»¶åè®¾ç½®ä¸º hello.objã€‚</p>
<blockquote>
<p>ä»¥ä¸‹ä¸ºé»˜è®¤çš„å¯¼å‡ºå‚æ•°</p>
<p>åœ¨ Objects as é€‰é¡¹ä¸­ï¼š</p>
<ol>
<li>OBJ ç‰©ä½“ (é»˜è®¤å·²å‹¾é€‰)</li>
<li>OBJç»„ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>æè´¨ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>åŠ¨ç”» (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
</ol>
<p>åœ¨ å˜æ¢ é€‰é¡¹ä¸­ï¼š</p>
<ol>
<li>ç¼©æ”¾ï¼š1.00 (é»˜è®¤å€¼)</li>
<li>è·¯å¾„æ¨¡å¼ï¼šè‡ªåŠ¨  (é»˜è®¤å€¼)</li>
<li>å‰è¿›ï¼š-Z å‰è¿›  (é»˜è®¤å€¼)</li>
<li>å‘ä¸Šï¼šY å‘ä¸Š  (é»˜è®¤å€¼)</li>
</ol>
<p>åœ¨ é›†åˆæ•°æ® é€‰é¡¹ä¸­ï¼š</p>
<ol>
<li>åº”ç”¨ä¿®æ”¹å™¨ (é»˜è®¤å·²å‹¾é€‰)</li>
<li>å¹³æ»‘ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>Bitflagå¹³æ»‘ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>å†™å…¥æ³•çº¿ (é»˜è®¤å·²å‹¾é€‰)</li>
<li>åŒ…æ‹¬UV (é»˜è®¤å·²å‹¾é€‰)</li>
<li>å†™å…¥æè´¨ (é»˜è®¤å·²å‹¾é€‰)</li>
<li>ä¸‰è§’é¢ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>Curves as NURBS (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>å¤šè¾¹å½¢ç»„ (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
<li>ä¿æŒé¡¶ç‚¹é¡ºåº (é»˜è®¤æœªè¢«å‹¾é€‰)</li>
</ol>
</blockquote>
<br>
<p>å½“å¯¼å‡ºå®Œæˆåï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å®é™…ä¸Šäº§ç”Ÿäº† 2 ä¸ªæ–°æ–‡ä»¶ï¼š</p>
<ol>
<li>hello.obj</li>
<li>hello.mtl</li>
</ol>
<p>ç‰¹åˆ«è¯´æ˜ä¸€ä¸‹ï¼š</p>
<ol>
<li>
<p>.obj è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥å‚¨å­˜ 3Dæ¨¡å‹ æ•°æ®çš„</p>
<blockquote>
<p>è¯·æ³¨æ„è¿™é‡Œé¢åªåŒ…å« 3Dæ¨¡å‹ çš„æ•°æ®å’Œæ¨¡å‹ä½ç½®ä¿¡æ¯ï¼Œå¹¶ä¸åŒ…å« Blender åœºæ™¯ä¸­çš„é•œå¤´å’Œç¯å…‰</p>
</blockquote>
</li>
<li>
<p>.mtl è¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥å‚¨å­˜ æè´¨ æ•°æ®çš„</p>
<blockquote>
<p>æˆ‘ä»¬åœ¨ Blender ä¸­åˆ›å»ºçš„å‡ ä¸ªç‰©ä½“å…ƒç´ ï¼Œ<strong>å®é™…ä¸Š Blender å·²ç»ç»™ä»–ä»¬æ·»åŠ äº†é»˜è®¤çš„ä¸€ä¸ªå¯åå…‰æè´¨</strong>ã€‚</p>
<p>ç”±äºæ˜¯å¯åå…‰æè´¨ï¼Œæ‰€ä»¥è¯·è®°å¾—ä¸€å®šè¦åœ¨ Three.js åœºæ™¯ä¸­æ·»åŠ ç¯å…‰ï¼Œå¦åˆ™è¿™äº›ç‰©ä½“éƒ½ä¼šçœ‹ä¸è§çš„ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨ Blender ä¸­æè´¨åŒ…å«æœ‰ çº¹ç†è´´å›¾ï¼Œå°½ç®¡æ­¤åˆ»æˆ‘ä»¬å¹¶æœªç»™æè´¨è®¾ç½®ä»»ä½•çº¹ç†è´´å›¾ã€‚</p>
</blockquote>
</li>
</ol>
<br>
<p>æˆ‘ä»¬å°†å¾—åˆ°çš„ hello.obj æ–‡ä»¶æ‹·è´åˆ° React é¡¹ç›®ä¸­ï¼Œè·¯å¾„ä¸º src/assets/model/hello.obj</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦å¼€å§‹ç¼–å†™ Three.js ç›¸å…³ä»£ç äº†ã€‚</p>
<br>
<h4 id="åŠ è½½-obj-æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»åŠ è½½å™¨ä¸º-objloader">åŠ è½½ .obj æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º OBJLoader<a hidden class="anchor" aria-hidden="true" href="#åŠ è½½-obj-æ¨¡å‹æ–‡ä»¶å¯¹åº”çš„ç±»åŠ è½½å™¨ä¸º-objloader">#</a></h4>
<p>OBJLoader çš„ç”¨æ³•ä¹Ÿéå¸¸ç®€å•ï¼š</p>
<blockquote>
<p>æœ€å¸¸ç”¨çš„æ–¹æ³•ä¸º .load()</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>import { OBJLoader } from &#34;three/examples/jsm/loaders/OBJLoader&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>const loader = new OBJLoader()
</span></span><span style="display:flex;"><span>    loader.load(require(&#39;@/assets/model/hello.obj&#39;).default, (group) =&gt; {
</span></span><span style="display:flex;"><span>        console.log(group)
</span></span><span style="display:flex;"><span>        scene.add(group)
</span></span><span style="display:flex;"><span>    }, (event) =&gt; {
</span></span><span style="display:flex;"><span>        console.log(Math.floor((event.loaded * 100) / event.total) + &#39;% loaded&#39;)
</span></span><span style="display:flex;"><span>    }, (error) =&gt; {
</span></span><span style="display:flex;"><span>        console.log(error.type)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><br>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¼‚æ­¥çš„ loadAsync()ï¼Œç”¨æ³•ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>const promise = loader.loadAsync(require(&#39;@/assets/model/hello.obj&#39;).default, (event) =&gt; {
</span></span><span style="display:flex;"><span>            console.log(Math.floor((event.loaded * 100) / event.total) + &#39;% loaded&#39;)
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>promise.then((group) =&gt; {
</span></span><span style="display:flex;"><span>            scene.add(group)
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><br>
<p><strong>å…³äºThree.jså®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ªå°è¯´æ˜ï¼š</strong></p>
<p>å¦‚æœä½ æŸ¥çœ‹ OBJLoader çš„å®˜æ–¹æ–‡æ¡£ï¼Œä½ ä¼šå‘ç°åªä»‹ç»äº† load() æ–¹æ³•ï¼Œæ²¡æœ‰æåŠ loadAsync() ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>å³ä½¿ä½ æŸ¥çœ‹ OBJLoader çš„æºç ï¼Œä¹Ÿä¼šå‘ç°æ ¹æœ¬æ²¡æœ‰ loadAsync() æ–¹æ³•ï¼Œé‚£&hellip;&hellip;</p>
</blockquote>
<p>è¿™å…¶å®æ˜¯å› ä¸º OBJLoader ç»§æ‰¿äº Loaderï¼Œè€Œ loadAsync() æ˜¯ç”± Loader å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‰æœªå‡ºç°åœ¨ OBJLoader çš„æ–‡æ¡£ä¸­ã€‚</p>
<p>Three.js ä»“åº“ç®¡ç†å‘˜éå¸¸ä¸¥è°¨ï¼Œæ¯æ¬¡æäº¤ PR æ¶‰åŠä¿®æ”¹ä¸€å®šè¦æ±‚ä½ å»ä¿®æ”¹å¯¹åº”çš„æ–‡æ¡£ï¼Œæ‰€ä»¥å¦‚æœä»¥åå‘ç°æŸä¸ªæ–¹æ³•å¹¶æœªå‡ºç°åœ¨ è¦ä½¿ç”¨çš„ç±»çš„ä»‹ç»ä¸­ï¼Œé‚£ä¹ˆå°±å»ä»–çš„çˆ¶ç±»é‡ŒæŸ¥æ‰¾å³å¯ã€‚</p>
<br>
<blockquote>
<p>åƒåˆ«çš„ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ï¼Œå¯èƒ½éƒ½ä¼šåœ¨æŸä¸ªç±»çš„ä»‹ç»æ–‡ç« ä¸­ï¼Œåˆ—å‡ºæ‰€ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯åœ¨ Three.js ä¸­å¹¶æœªåˆ—å‡ºã€‚</p>
</blockquote>
<blockquote>
<p>æˆ‘å‘å®˜æ–¹æäº¤äº†ä¸€ä¸ªå»ºè®®ï¼š<a href="https://github.com/mrdoob/three.js/issues/21640">https://github.com/mrdoob/three.js/issues/21640</a></p>
<p>å¾—åˆ°å®˜æ–¹çš„å›å¤å†…å®¹ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Indeed. And that&#39;s the reasons why I not vote to do this. This approach would require a lot of manual effort and thus is error prone when things change.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The documentation pages contain references like:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>See the base Material class for common properties.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Same for methods. Considering that the documentation is not generated, I think it&#39;s better to stick with this approach.
</span></span></code></pre></div><p>å®˜æ–¹å›å¤çš„æ„æ€æ˜¯ï¼šç”±äºç°åœ¨ Three.js æ–‡æ¡£å¹¶ä¸æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¦‚æœé‚£æ ·åšå½“å‘ç”Ÿå˜æ›´æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šäº§ç”Ÿå¤§é‡çš„å·¥ä½œå†…å®¹ï¼Œæ‰€ä»¥&hellip;å°±å…ˆä¿æŒç°çŠ¶å§ã€‚</p>
</blockquote>
<br>
<p>å®Œæ•´çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<p>src/components/hello-objloader/index.tsx</p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>import { useRef, useEffect } from &#34;react&#34;
</span></span><span style="display:flex;"><span>import * as Three from &#39;three&#39;
</span></span><span style="display:flex;"><span>import { OrbitControls } from &#34;three/examples/jsm/controls/OrbitControls&#34;
</span></span><span style="display:flex;"><span>import { OBJLoader } from &#34;three/examples/jsm/loaders/OBJLoader&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import &#39;./index.scss&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>const HelloOBJLoader = () =&gt; {
</span></span><span style="display:flex;"><span>    const canvasRef = useRef&lt;HTMLCanvasElement | null&gt;(null)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        if (canvasRef.current === null) { return }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const renderer = new Three.WebGLRenderer({ canvas: canvasRef.current })
</span></span><span style="display:flex;"><span>        const scene = new Three.Scene()
</span></span><span style="display:flex;"><span>        const camera = new Three.PerspectiveCamera(45, 2, 0.1, 100)
</span></span><span style="display:flex;"><span>        camera.position.set(10, 0, 10)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const light = new Three.HemisphereLight(0xFFFFFF, 0x333333, 1)
</span></span><span style="display:flex;"><span>        scene.add(light)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const control = new OrbitControls(camera, canvasRef.current)
</span></span><span style="display:flex;"><span>        control.update()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const loader = new OBJLoader()
</span></span><span style="display:flex;"><span>        loader.load(require(&#39;@/assets/model/hello.obj&#39;).default, (group) =&gt; {
</span></span><span style="display:flex;"><span>            console.log(group)
</span></span><span style="display:flex;"><span>            scene.add(group)
</span></span><span style="display:flex;"><span>        }, (event) =&gt; {
</span></span><span style="display:flex;"><span>            console.log(Math.floor((event.loaded * 100) / event.total) + &#39;% loaded&#39;)
</span></span><span style="display:flex;"><span>        }, (error) =&gt; {
</span></span><span style="display:flex;"><span>            console.log(error.type)
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const render = () =&gt; {
</span></span><span style="display:flex;"><span>            renderer.render(scene, camera)
</span></span><span style="display:flex;"><span>            window.requestAnimationFrame(render)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        window.requestAnimationFrame(render)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const handleResize = () =&gt; {
</span></span><span style="display:flex;"><span>            if (canvasRef.current === null) { return }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            const width = canvasRef.current.clientWidth
</span></span><span style="display:flex;"><span>            const height = canvasRef.current.clientHeight
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            camera.aspect = width / height
</span></span><span style="display:flex;"><span>            camera.updateProjectionMatrix()
</span></span><span style="display:flex;"><span>            renderer.setSize(width, height, false)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        handleResize()
</span></span><span style="display:flex;"><span>        window.addEventListener(&#39;resize&#39;, handleResize)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        return () =&gt; {
</span></span><span style="display:flex;"><span>            window.removeEventListener(&#39;resize&#39;, handleResize)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }, [])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    return (
</span></span><span style="display:flex;"><span>        &lt;canvas ref={canvasRef} className=&#39;full-screen&#39; /&gt;
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export default HelloOBJLoader
</span></span></code></pre></div><blockquote>
<p>åˆ‡è®°ä¸€å®šè¦ç»™åœºæ™¯æ·»åŠ ç¯å…‰ï¼Œå¦åˆ™å³ä½¿åŠ è½½æ¨¡å‹æˆåŠŸäº†ï¼Œåœºæ™¯æ¼†é»‘ä¸€ç‰‡ï¼Œä¹Ÿå•¥ä¹Ÿçœ‹ä¸è§ã€‚</p>
</blockquote>
<br>
<p>æ­¤åˆ»ï¼Œæˆ‘ä»¬åœ¨ Blender ä¸­åˆ›å»ºçš„ 3D æ¨¡å‹å·²ç»åŠ è½½å¹¶æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½†æ˜¯æ¨¡å‹å¹¶æ²¡æœ‰ä»»ä½•æè´¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å®Œå–„ä¸€ä¸‹ç¤ºä¾‹ï¼Œç»™ç‰©ä½“æ·»åŠ ä¸Šæè´¨ã€‚</p>
<br>
<h2 id="åŠ è½½mtlæè´¨å’Œçº¹ç†æ–‡ä»¶">åŠ è½½.mtl(æè´¨å’Œçº¹ç†)æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#åŠ è½½mtlæè´¨å’Œçº¹ç†æ–‡ä»¶">#</a></h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ Blender ä¸­ç»™ç‰©ä½“çš„æè´¨æ·»åŠ çº¹ç†è´´å›¾ã€‚</p>
<br>
<h4 id="åœ¨blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨æ·»åŠ çº¹ç†">åœ¨Blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨ï¼Œæ·»åŠ çº¹ç†<a hidden class="anchor" aria-hidden="true" href="#åœ¨blenderä¸­ç»™ç‰©ä½“è®¾ç½®æè´¨æ·»åŠ çº¹ç†">#</a></h4>
<p>å…·ä½“æ­¥éª¤ä¸ºï¼š</p>
<ol>
<li>
<p>å…ˆå‡†å¤‡ä¸€å¼  é‡‘å±çº¹ç†è´´å›¾ï¼Œå°†è¯¥å›¾ç‰‡æ–‡ä»¶å‘½åä¸º metal_texture.jpgï¼Œæš‚ä¸”å­˜æ”¾åœ¨ hello.blend åŒçº§ç›®å½•ä¸‹ã€‚</p>
<blockquote>
<p>éšç€é¡¹ç›®å¤æ‚ï¼Œçº¹ç†å›¾ç‰‡èµ„æºå˜å¤šï¼Œæ›´åŠ åˆç†çš„æ˜¯åˆ›å»ºä¸€ä¸ª texture çš„ç›®å½•ï¼Œç”¨æ¥ä¸“é—¨å­˜æ”¾çº¹ç†å›¾ç‰‡èµ„æº</p>
</blockquote>
</li>
<li>
<p>åœ¨ä¸é€‰æ‹©ä»»ä½•ç‰©ä½“çš„å‰æä¸‹ï¼Œåœ¨ Blender å³ä¾§é€‰é¡¹é¢æ¿ä¸­ï¼Œæ‰¾åˆ° â€œæè´¨å±æ€§â€ é¢æ¿ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° é»˜è®¤æè´¨ Materialï¼Œåœ¨ â€œè¡¨(æ›²)é¢ - åŸºç¡€è‰²â€ è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° â€œåŸºç¡€è‰²â€ï¼Œç‚¹å‡»å·¦ä¾§çš„ å°åœ†ç‚¹ï¼Œåœ¨å¼¹å‡ºèœå•ä¸­é€‰æ‹© â€œå›¾åƒçº¹ç†â€ã€‚</p>
<blockquote>
<p>å¦‚æœä½ ä¸å°å¿ƒç‚¹å‡»çš„æ˜¯ â€œåŸºç¡€è‰²â€  å³ä¾§çš„åŒºåŸŸï¼Œåˆ™ä¼šå‡ºç° è°ƒè‰²æ¿</p>
</blockquote>
</li>
<li>
<p>æ­¤æ—¶ åŸºç¡€è‰² å·²ä¿®æ”¹ä¸º å›¾åƒçº¹ç† çŠ¶æ€ï¼Œæˆ‘ä»¬ç‚¹å‡» â€œæ‰“å¼€â€ï¼Œåœ¨å¼¹çª—ä¸­æ‰¾åˆ° metal_texture.jpg å¹¶ç‚¹å‡» â€œæ‰“å¼€å›¾ç‰‡&quot;ï¼Œè¿™æ ·è¯¥çº¹ç†å›¾ç‰‡å·²æ·»åŠ åˆ° æè´¨ Material ä¸­äº†ã€‚</p>
</li>
<li>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ä¾æ¬¡é€‰ä¸­(æˆ–å…¨é€‰)ç«‹æ–¹ä½“ã€åœ†æŸ±ä½“ã€æ¤ä½“ã€çƒä½“ï¼Œç„¶ååœ¨æè´¨å±æ€§é¢æ¿ä¸­ï¼Œæ‰¾åˆ° â€œæè´¨å›¾æ ‡â€ï¼Œé¼ æ ‡æ”¾ä¸Šå»ä¼šæ˜¾ç¤ºæç¤ºæ–‡å­—ï¼šæµè§ˆè¦å…³è”çš„æè´¨ï¼Œç‚¹å‡»è¯¥å›¾æ ‡ï¼Œé€‰æ‹© Material</p>
<blockquote>
<p>è¯·æ³¨æ„æ˜¯ä¸€ä¸ªå›¾æ ‡ï¼Œè€Œä¸æ˜¯ä»€ä¹ˆæŒ‰é’®ï¼Œæ›´ä¸è¦ç‚¹å‡» â€œæ–°å»ºâ€</p>
</blockquote>
</li>
<li>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰ç‰©ä½“å‡è®¾ç½®ä¸€ä¸ªç›¸åŒæè´¨çº¹ç†å›¾ç‰‡ã€‚</p>
<blockquote>
<p>å¦‚æœæ„Ÿå…´è¶£ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±ç»™ä¸åŒç‰©ä½“è®¾ç½®ä¸åŒçš„æè´¨çº¹ç†å›¾ç‰‡</p>
</blockquote>
</li>
</ol>
<br>
<p>è®©æˆ‘ä»¬å…ˆç®€å•æ¸²æŸ“ä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœå§ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬è°ƒæ•´å¥½åœºæ™¯è§†è§’ï¼Œç„¶åæ‰§è¡Œ â€œè§†å›¾ &gt; å¯¹é½è§†å›¾ &gt; æ´»åŠ¨ç›¸æœºå¯¹é½å½“å‰è§†è§’â€ï¼Œè¿™ä¸€æ­¥çš„å¿«æ·é”®ä¸º <code>Ctrl + Alt + Numpad0</code>ã€‚</p>
<p>ç„¶åæˆ‘ä»¬ç‚¹å‡» Blender é¡¶éƒ¨èœå• â€œæ¸²æŸ“ &gt; æ¸²æŸ“å›¾åƒâ€ï¼Œè¿™ä¸€æ­¥çš„å¿«æ·é”®ä¸º F12ï¼Œæ¥ä¸‹æ¥å°±æ¸²æŸ“å¼¹çª—ä¸­å°±å¯ä»¥çœ‹åˆ°ç‰©ä½“æ¸²æŸ“åçš„æ ·å­ã€‚</p>
<br>
<blockquote>
<p>å‡è®¾ä½ ä¸ä¼š Blenderï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå¯ä»¥å¿½ç•¥æˆ‘ä¸Šé¢è¿™æ®µå…³äºå¦‚ä½•åœ¨ Blender ä¸­åˆ›å»ºæ¨¡å‹å’Œæ·»åŠ æè´¨ã€çº¹ç†çš„æ“ä½œã€‚</p>
</blockquote>
<br>
<p><strong>å¯¼å‡ºæ¨¡å‹</strong></p>
<p>&ldquo;æ–‡ä»¶ &gt; å¯¼å‡º &gt; Wavefront(.obj)&rdquo;</p>
<br>
<p><strong>æˆ‘ä»¬çœ‹ä¸€ä¸‹ Three.js å®˜æ–¹æ–‡æ¡£ä¸­å¯¹ .mtl æ–‡ä»¶çš„æè¿°ï¼š</strong></p>
<p>æè´¨æ¨¡ç‰ˆåº“ï¼ˆMTLï¼‰æˆ– .MTL æ–‡ä»¶æ ¼å¼æ˜¯ .OBJ çš„é…å¥—æ–‡ä»¶æ ¼å¼ï¼Œ ç”¨äºæè¿°ä¸€ä¸ªæˆ–å¤šä¸ª .OBJ æ–‡ä»¶ä¸­ç‰©ä½“è¡¨é¢ç€è‰²ï¼ˆæè´¨ï¼‰å±æ€§ã€‚</p>
<br>
<p><strong>å®é™…çœ‹çœ‹ hello.mtl æ–‡ä»¶å…·ä½“æ˜¯ä»€ä¹ˆå†…å®¹</strong></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ è®°äº‹æœ¬ æˆ– vscode æ‰“å¼€ hello.mtl æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># Blender MTL File: &#39;hello.blend&#39;
</span></span><span style="display:flex;"><span># Material Count: 1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>newmtl Material
</span></span><span style="display:flex;"><span>Ns 323.999994
</span></span><span style="display:flex;"><span>Ka 1.000000 1.000000 1.000000
</span></span><span style="display:flex;"><span>Kd 0.800000 0.800000 0.800000
</span></span><span style="display:flex;"><span>Ks 0.500000 0.500000 0.500000
</span></span><span style="display:flex;"><span>Ke 0.000000 0.000000 0.000000
</span></span><span style="display:flex;"><span>Ni 1.450000
</span></span><span style="display:flex;"><span>d 1.000000
</span></span><span style="display:flex;"><span>illum 2
</span></span><span style="display:flex;"><span>map_Kd metal_texture.jpg
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€åä¸€è¡Œ <code>map_Kd metal_texture.jpg</code>ï¼Œå¤§æ¦‚ä¹Ÿå¯ä»¥çŒœåˆ°è¿™ä¸€è¡Œè¡¨æ˜æè´¨çº¹ç†å›¾ç‰‡çš„è·¯å¾„å’Œæ–‡ä»¶åï¼Œå¹¶ä¸”è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚</p>
<blockquote>
<p>ç”±äºæˆ‘ä»¬å°† metal_texture.jpg å­˜æ”¾åœ¨ hello.blend åŒä¸€ç›®å½•ä¸‹ã€‚</p>
</blockquote>
<br>
<p><strong>å…³äº.mtlæ–‡ä»¶å†…å®¹çš„è¡¥å……è¯´æ˜ï¼š</strong></p>
<blockquote>
<p>ä¸‹é¢æˆ‘å°†é’ˆå¯¹ä¸Šé¢çš„ .mtl æ–‡ä»¶å†…å®¹è¿›è¡Œé€ä¸€è§£é‡Š</p>
</blockquote>
<ol>
<li>#ï¼šæ³¨é‡Šå†…å®¹</li>
<li>newtmlï¼šæè´¨çš„åç§°</li>
<li>Nsï¼šåå°„æŒ‡æ•°ï¼Œå³åå°„é«˜å…‰åº¦ï¼Œå€¼è¶Šé«˜åˆ™é«˜å…‰è¶Šå¯†é›†ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0 - 1000</li>
<li>Kaï¼šæè´¨çš„ç¯å¢ƒå…‰ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0 - 1</li>
<li>Kdï¼šæ•£å°„å…‰</li>
<li>Ksï¼šé•œé¢å…‰</li>
<li>Niï¼šæŠ˜å°„å…‰ï¼Œä¸€èˆ¬å–å€¼èŒƒå›´ 0.01 - 10</li>
<li>dï¼šæ¸éšæŒ‡æ•°ï¼Œå–å€¼èŒƒå›´ä¸º 0 - 1ï¼Œå½“å€¼ä¸º 1 æ—¶å®Œå…¨ä¸é€æ˜ï¼Œå½“å€¼ä¸º 0 æ—¶å®Œå…¨é€æ˜</li>
<li>illumï¼šæè´¨çš„å…‰ç…§æ¨¡å‹ï¼Œå€¼ä¸ºæ•´æ•°ï¼Œå–å€¼èŒƒå›´ä¸º 0 - 10</li>
<li>map_Kdï¼šæ¼«åå°„æŒ‡å®šé¢œè‰²çº¹ç†è´´å›¾æ–‡ä»¶è·¯å¾„</li>
</ol>
<br>
<p>ä¸Šé¢å±æ€§ä¸­ illum å®é™…ä¸Šæ˜¯ â€œillumination modelâ€ï¼Œå³å…‰ç…§æ¨¡å‹ã€‚</p>
<p>illum çš„å–å€¼åˆ†åˆ«å¯¹åº”çš„æ˜¯ï¼š</p>
<table>
<thead>
<tr>
<th>å–å€¼</th>
<th>å…‰ç…§æ¨¡å‹</th>
<th>ä¸­æ–‡å</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Color on and Ambient off</td>
<td>è‰²å½©å¼€ï¼Œé˜´å½±è‰²å…³</td>
</tr>
<tr>
<td>1</td>
<td>Color on and Ambient on</td>
<td>è‰²å½©å¼€ï¼Œé˜´å½±è‰²å¼€</td>
</tr>
<tr>
<td>2</td>
<td>Highlight on</td>
<td>é«˜å…‰å¼€</td>
</tr>
<tr>
<td>3</td>
<td>Reflection on and Ray trace on</td>
<td>åå°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€</td>
</tr>
<tr>
<td>4</td>
<td>Transparency: Glass on / Reflection: Ray trace on</td>
<td>é€æ˜ï¼š ç»ç’ƒå¼€ åå°„ï¼šå…‰çº¿è¿½è¸ªå¼€</td>
</tr>
<tr>
<td>5</td>
<td>Reflection: Fresnel on and Ray trace on</td>
<td>åå°„ï¼šè²æ¶…å°”è¡å°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€</td>
</tr>
<tr>
<td>6</td>
<td>Transparency: Refraction on / Reflection: Fresnel off and Ray trace on</td>
<td>é€æ˜ï¼šæŠ˜å°„å¼€ åå°„ï¼šè²æ¶…å°”è¡å°„å…³ï¼Œå…‰çº¿è¿½è¸ªå¼€</td>
</tr>
<tr>
<td>7</td>
<td>Transparency: Refraction on / Reflection: Fresnel on and Ray trace on</td>
<td>é€æ˜ï¼šæŠ˜å°„å¼€ åå°„ï¼šè²æ¶…å°”è¡å°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå¼€</td>
</tr>
<tr>
<td>8</td>
<td>Reflection on and Ray trace off</td>
<td>åå°„å¼€ï¼Œå…‰çº¿è¿½è¸ªå…³</td>
</tr>
<tr>
<td>9</td>
<td>Transparency: Glass on / Reflection: Ray trace off</td>
<td>é€æ˜ï¼š ç»ç’ƒå¼€ åå°„ï¼šå…‰çº¿è¿½è¸ªå…³</td>
</tr>
<tr>
<td>10</td>
<td>Casts shadows onto invisible surfaces</td>
<td>æŠ•å°„é˜´å½±äºä¸å¯è§è¡¨é¢</td>
</tr>
</tbody>
</table>
<br>
<p><strong>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç”±äº hello.mtl ä¸­åŒ…å«çº¹ç†å›¾ç‰‡çš„è·¯å¾„ï¼Œå¦‚æœæˆ‘ä»¬å°† å›¾ç‰‡èµ„æº(metal_texture.jpg) æ‹·è´åˆ° src/assets/model ä¸­ï¼Œ.jpg å›¾ç‰‡ä¼šè¢« webpack é‡æ–°ç¼–è¯‘æˆåˆ«çš„æ–‡ä»¶åï¼Œè¿™ä¼šé€ æˆæˆ‘ä»¬åŠ è½½ä¸åˆ° çº¹ç†å›¾ç‰‡ èµ„æºã€‚</strong></p>
<br>
<p><strong>æœ€ç®€å•çš„è§£å†³åŠæ³•ï¼Œå°±æ˜¯å°† .obj/.mtl/.jpg è¿™ 3 ä¸ªæ–‡ä»¶èµ„æºå­˜æ”¾åœ¨ public ç›®å½•ä¸­ï¼Œè€Œä¸æ˜¯åœ¨ src ç›®å½•ä¸­ã€‚</strong></p>
<blockquote>
<p>public ç›®å½•é‡Œçš„æ–‡ä»¶æ˜¯ä¸ä¼šè¢« webpack ç¼–è¯‘é‡å‘½åçš„ã€‚</p>
</blockquote>
<br>
<p><strong>æ‹·è´æ–‡ä»¶åˆ° Three.js é¡¹ç›®ä¸­</strong></p>
<p>æˆ‘ä»¬åœ¨React é¡¹ç›®æ ¹ç›®å½•çš„ public ç›®å½•ä¸‹åˆ›å»º model ç›®å½•ï¼Œç„¶åå°†æ–°å¯¼å‡ºçš„ 3 ä¸ªæ–‡ä»¶ï¼šhello.objã€hello.mtlã€metal_texture.jpg æ‹·è´åˆ° public/model/ ä¸­ã€‚</p>
<br>
<p>è‡³æ­¤ï¼Œå‰æœŸå‡†å¤‡å·¥ä½œå®Œæ¯•ï¼Œæ¥ä¸‹æ¥è½¬åˆ° Three.js é¡¹ç›®ä»£ç ä¸­ã€‚</p>
<br>
<h4 id="åŠ è½½-mtl-è¡¨é¢ç€è‰²å™¨æè´¨å¯¹åº”çš„ç±»åŠ è½½å™¨ä¸º-mtlloader">åŠ è½½ .mtl è¡¨é¢ç€è‰²å™¨(æè´¨)å¯¹åº”çš„ç±»(åŠ è½½å™¨)ä¸º MTLLoader<a hidden class="anchor" aria-hidden="true" href="#åŠ è½½-mtl-è¡¨é¢ç€è‰²å™¨æè´¨å¯¹åº”çš„ç±»åŠ è½½å™¨ä¸º-mtlloader">#</a></h4>
<blockquote>
<p>åœ¨ Three.js ä¸­ï¼Œå„ç§åŠ è½½å™¨çš„ç”¨æ³•å‡ ä¹å®Œå…¨ç›¸åŒã€‚</p>
</blockquote>
<p>æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯ï¼š</p>
<ol>
<li>
<p>å…ˆä½¿ç”¨ MTLLoader å®ä¾‹ åŠ è½½æè´¨(çº¹ç†å›¾ç‰‡)èµ„æº</p>
<blockquote>
<p>ç‰¹åˆ«å¼ºè°ƒä¸€ä¸‹ï¼ŒMTLLoader å®ä¾‹ åŠ è½½å¾—åˆ°çš„å¯¹è±¡ç±»å‹å¹¶ä¸æ˜¯ Three.Metrial ï¼Œè€Œæ˜¯ MTLLoader.MaterialCreator</p>
</blockquote>
</li>
<li>
<p>åŠ è½½å®Œæˆåï¼Œå°†å¾—åˆ°çš„ MaterialCreator å®ä¾‹ èµ‹äºˆç»™ OBJLoader å®ä¾‹</p>
<blockquote>
<p>è¿™æ · OBJLoader ä»¥ååŠ è½½çš„ä»»æ„æ¨¡å‹éƒ½ä¼šè‡ªåŠ¨åº”ç”¨è¯¥ MaterialCreator æè´¨</p>
</blockquote>
</li>
<li>
<p>ç„¶åå†è®© OBJLoader å®ä¾‹ å»åŠ è½½æ¨¡å‹</p>
<blockquote>
<p>åŠ è½½å®Œæˆåï¼Œå°†æ¨¡å‹æ·»åŠ åˆ°åœºæ™¯ä¸­</p>
</blockquote>
</li>
</ol>
<br>
<p><strong>å®é™…ä»£ç ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>import { MTLLoader } from &#34;three/examples/jsm/loaders/MTLLoader&#34;
</span></span><span style="display:flex;"><span>import { OBJLoader } from &#34;three/examples/jsm/loaders/OBJLoader&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>const mtlLoader = new MTLLoader()
</span></span><span style="display:flex;"><span>const objLoader = new OBJLoader()
</span></span><span style="display:flex;"><span>mtlLoader.load(&#39;./model/hello.mtl&#39;, (materialCreator) =&gt; {
</span></span><span style="display:flex;"><span>    objLoader.setMaterials(materialCreator)
</span></span><span style="display:flex;"><span>    objLoader.load(&#39;./model/hello.obj&#39;, (group) =&gt; {
</span></span><span style="display:flex;"><span>        scene.add(group)
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><blockquote>
<p>è¯·æ³¨æ„ä¸Šè¿°ä»£ç åŠ è½½çš„èµ„æºåœ°å€ä¸º â€œ./model/hello.mtlâ€ å’Œ â€œ./model/hello.objâ€ï¼Œè¿™é‡Œæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹ç¼–è¯‘ä¹‹åçš„ index.html è€Œè¨€ã€‚</p>
</blockquote>
<br>
<p><strong>å®Œæ•´çš„ä»£ç ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>import { useRef, useEffect } from &#34;react&#34;
</span></span><span style="display:flex;"><span>import * as Three from &#39;three&#39;
</span></span><span style="display:flex;"><span>import { OrbitControls } from &#34;three/examples/jsm/controls/OrbitControls&#34;
</span></span><span style="display:flex;"><span>import { MTLLoader } from &#34;three/examples/jsm/loaders/MTLLoader&#34;
</span></span><span style="display:flex;"><span>import { OBJLoader } from &#34;three/examples/jsm/loaders/OBJLoader&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import &#39;./index.scss&#39;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>const HelloOBJLoader = () =&gt; {
</span></span><span style="display:flex;"><span>    const canvasRef = useRef&lt;HTMLCanvasElement | null&gt;(null)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        if (canvasRef.current === null) { return }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const renderer = new Three.WebGLRenderer({ canvas: canvasRef.current })
</span></span><span style="display:flex;"><span>        const scene = new Three.Scene()
</span></span><span style="display:flex;"><span>        const camera = new Three.PerspectiveCamera(45, 2, 0.1, 100)
</span></span><span style="display:flex;"><span>        camera.position.set(10, 0, 10)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const light = new Three.HemisphereLight(0xFFFFFF, 0x333333, 1)
</span></span><span style="display:flex;"><span>        scene.add(light)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const mtlLoader = new MTLLoader()
</span></span><span style="display:flex;"><span>        const objLoader = new OBJLoader()
</span></span><span style="display:flex;"><span>        mtlLoader.load(&#39;./model/hello.mtl&#39;, (materialCreator) =&gt; {
</span></span><span style="display:flex;"><span>            objLoader.setMaterials(materialCreator)
</span></span><span style="display:flex;"><span>            objLoader.load(&#39;./model/hello.obj&#39;, (group) =&gt; {
</span></span><span style="display:flex;"><span>                scene.add(group)
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const control = new OrbitControls(camera, canvasRef.current)
</span></span><span style="display:flex;"><span>        control.update()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const render = () =&gt; {
</span></span><span style="display:flex;"><span>            renderer.render(scene, camera)
</span></span><span style="display:flex;"><span>            window.requestAnimationFrame(render)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        window.requestAnimationFrame(render)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        const handleResize = () =&gt; {
</span></span><span style="display:flex;"><span>            if (canvasRef.current === null) { return }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            const width = canvasRef.current.clientWidth
</span></span><span style="display:flex;"><span>            const height = canvasRef.current.clientHeight
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            camera.aspect = width / height
</span></span><span style="display:flex;"><span>            camera.updateProjectionMatrix()
</span></span><span style="display:flex;"><span>            renderer.setSize(width, height, false)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        handleResize()
</span></span><span style="display:flex;"><span>        window.addEventListener(&#39;resize&#39;, handleResize)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        return () =&gt; {
</span></span><span style="display:flex;"><span>            window.removeEventListener(&#39;resize&#39;, handleResize)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }, [])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    return (
</span></span><span style="display:flex;"><span>        &lt;canvas ref={canvasRef} className=&#39;full-screen&#39; /&gt;
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export default HelloOBJLoader
</span></span></code></pre></div><br>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»è®²è§£å®Œå¦‚ä½•åŠ è½½ .mtl å’Œ .obj æ–‡ä»¶ã€‚</p>
<br>
<h2 id="objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„">.objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„<a hidden class="anchor" aria-hidden="true" href="#objæ–‡ä»¶ç±»å‹çš„ä¸€äº›ç‰¹åˆ«ä¹‹å¤„">#</a></h2>
<p>æœ¬æ–‡è®²è§£çš„æ˜¯åœ¨ Blender ä¸­å¯¼å‡º wavefront(.obj) æ–‡ä»¶æ ¼å¼ã€‚</p>
<p>è¿™é‡Œè¦é’ˆå¯¹æ€§çš„è¿›è¡Œè¡¥å……ï¼š</p>
<ol>
<li>
<p>Blender å¯ä»¥å¯¼å‡º N å¤šç§æ–‡ä»¶æ ¼å¼</p>
<blockquote>
<p>.obj ä»…ä»…æ˜¯å…¶ä¸­ä¸€ç§</p>
</blockquote>
</li>
<li>
<p>Three.js æ”¯æŒå¤šç§ 3D æ–‡ä»¶æ¨¡å‹æ ¼å¼</p>
<blockquote>
<p>æœ¬æ–‡è®²è§£çš„æ˜¯åŠ è½½ .obj</p>
</blockquote>
</li>
</ol>
<br>
<p><strong>.objæ ¼å¼çš„ä¸€äº›ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li>
<p>è¡Œä¸šå†…æ¯”è¾ƒå¹¿æ³›ä½¿ç”¨</p>
</li>
<li>
<p>.objæ˜¯ä¸€ç§çº¯æ–‡æœ¬æ ¼å¼</p>
<blockquote>
<p>æœ¬æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€äº† .mtl æ–‡ä»¶ï¼Œå¹¶æœªæ‰“å¼€ .obj æ–‡ä»¶ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å°è¯•çœ‹çœ‹å…·ä½“éƒ½æ˜¯ä»€ä¹ˆå†…å®¹ã€‚</p>
</blockquote>
</li>
<li>
<p>.objåŒ…å«çš„å†…å®¹æœ‰ï¼šMesh(ç½‘æ ¼)ã€æŒ‰ç»„/ç‰©ä½“åˆ†ç¦»ã€æè´¨/çº¹ç†ã€NURBSæ›²çº¿å’Œæ›²é¢</p>
</li>
<li>
<p>.objä¸åŒ…å«(ä¸æ”¯æŒå¯¼å‡º)çš„å†…å®¹æœ‰ï¼šç½‘æ ¼é¡¶ç‚¹é¢œè‰²ã€éª¨æ¶ã€åŠ¨ç”»ã€ç¯å…‰ã€ç›¸æœºã€ç©ºç‰©ä½“ã€çˆ¶å­å…³ç³»æˆ–å˜æ¢</p>
</li>
</ol>
<br>
<p>ä»¥ä¸Šç‰¹æ€§ä¸­ä¸éš¾çœ‹å‡º .obj æœ‰ä¼˜ç‚¹ï¼Œä¹Ÿæœ‰ç¼ºç‚¹ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼šåªåŒ…å«ç‰©ä½“æ¨¡å‹æ•°æ®æœ¬èº«</strong></p>
<p><strong>ç¼ºç‚¹ï¼šä¸åŒ…å«å…¶ä»–å¤æ‚å…ƒç´ (åŠ¨ç”»ã€ç›¸æœºã€ç¯å…‰ç­‰)</strong></p>
<br>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç« èŠ‚ä¸­ï¼Œè®²è§£å¦å¤–ä¸€ç§ 3D æ¨¡å‹æ ¼å¼æ–‡ä»¶ï¼š.gLTF</p>
<p>gLTF æ ¼å¼å¯ä»¥åŒ…å«æ›´å¤šå¤æ‚çš„å…ƒç´ æ•°æ®ã€‚</p>
<br>
<h2 id="ä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ blender">ä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ Blenderï¼Ÿ<a hidden class="anchor" aria-hidden="true" href="#ä¸ºä»€ä¹ˆè¦è‡ªå·±å­¦ä¹ blender">#</a></h2>
<p>æˆ‘ä¸ªäººè®¤ä¸ºï¼Œå¦‚æœä½ æƒ³æ·±å…¥å­¦ä¹  3Dï¼Œå­¦ä¹  Three.jsï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æŒæ¡ä¸€é—¨ 3D å»ºæ¨¡è½¯ä»¶ã€‚</p>
<p>ä½ å¯ä»¥ä¸ç²¾é€šï¼Œä½†æ˜¯åŸºç¡€çš„æ“ä½œä½ è¦æŒæ¡ï¼Œè¿™æ ·éå¸¸åˆ©äºä½ å¯¹äº Three.js 3D æ¦‚å¿µçš„ç†è§£ã€‚</p>
<br>
<p>å¦‚æœä½ ä¸ä¼š 3D å»ºæ¨¡è½¯ä»¶ï¼Œé‚£ä¹ˆä½ åªèƒ½ç›´æ¥åœ¨ Three.js ä¸­å»åˆ›å»ºæ¨¡å‹ï¼Œè¿™å°†æ˜¯ä¸€ä»¶éå¸¸è´¹åŠ›çš„äº‹æƒ…ï¼Œå¹¶ä¸”ä¹Ÿæ— æ³•åšåˆ°ç²¾å‡†å»ºæ¨¡ï¼Œå¯¹æ¨¡å‹çš„ç»†è…»é›•åˆ»ã€‚</p>
<br>
<p>ä½ æ€»ä¸èƒ½å®Œå…¨ä¾é åˆ«äººç»™ä½ æä¾›å»ºå¥½çš„æ¨¡å‹ï¼Œåšåˆ°é¥­æ¥å¼ å£çš„çŠ¶æ€å§ã€‚</p>
<p>è‡ªå·±èƒ½å¤ŸæŒæ¡ 3D å»ºæ¨¡ï¼Œè¶Šå»ºè¶Šå¿«ä¹ã€‚</p>
<br>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ¬æ–‡èŠ±äº†å¤§é‡ç¯‡å¹…åœ¨ä¸€æ­¥ä¸€æ­¥è®²è§£ Blender ä¸­çš„å„ç§æ“ä½œçš„åŸå› ã€‚</p>
<blockquote>
<p>æˆ‘ä¹Ÿæ˜¯ Blender æ–°æ‰‹å°ç™½ï¼Œå¸Œæœ›æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·åŠ æ²¹ã€‚</p>
</blockquote>
<br>
<p>å¦‚æœæœ¬æ–‡ä¸­è®²è§£çš„ Blender ä½ æ ¹æœ¬ä¸ä¼šæ“ä½œï¼Œä¹Ÿä¸æ„Ÿå…´è¶£å®‰è£…å­¦ä¹ ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸Šæœç´¢ä¸€äº› .obj å’Œ .mtl æ–‡ä»¶è¿›è¡Œä»£æ›¿å­¦ä¹ ã€‚</p>
<p>è¿™é‡Œæä¾› 2 ä¸ªæ–‡ä»¶èµ„æºï¼Œä½ å¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨ï¼š</p>
<p><a href="https://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill-fixed.mtl">https://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill-fixed.mtl</a></p>
<p><a href="https://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill.obj">https://threejsfundamentals.org/threejs/resources/models/windmill_2/windmill.obj</a></p>
<br>
<p>æˆ‘ä»¬ä¸‹ä¸€ç« èŠ‚è§ã€‚</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://bablvsj.github.io/tags/three.js/">Three.js</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://bablvsj.github.io/posts/threejs/22-three.js%E4%BC%98%E5%8C%96%E4%B9%8Boffscreencanvas%E4%B8%8Ewebworker/">
    <span class="title">Â« Prev</span>
    <br>
    <span>22 Three.jsä¼˜åŒ–ä¹‹OffscreenCanvasä¸WebWorker</span>
  </a>
  <a class="next" href="https://bablvsj.github.io/posts/threejs/24-three.js%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B9%8B%E5%8A%A0%E8%BD%BD.gltf%E6%A8%A1%E5%9E%8B/">
    <span class="title">Next Â»</span>
    <br>
    <span>24 Three.jsè§£å†³æ–¹æ¡ˆä¹‹åŠ è½½.gltfæ¨¡å‹</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://bablvsj.github.io">Bablvsj&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
    <div class="flex-c-d">
        <a class="flex-d-c" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"
            target="_blank"> <span>æœ¬ç«™ç”±</span><img width="60" src="/images/upyun.png">æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a>
    </div>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
