<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>03 ç¼–å†™HelloThreejs | Bablvsj's Blog</title><meta name=keywords content="Three.js"><meta name=description content="03 ç¼–å†™HelloThreejs - Bablvsj's Blog"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/threejs/03-%E7%BC%96%E5%86%99hellothreejs/><link crossorigin=anonymous href=/assets/css/stylesheet.b33b75c69bb2ec0d4accfeaad1d3ba05b272f180583f687c640a522d6492076f.css integrity="sha256-szt1xpuy7A1KzP6q0dO6BbJy8YBYP2h8ZApSLWSSB28=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=stylesheet href=/css/syntax.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="03 ç¼–å†™HelloThreejs"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/threejs/03-%E7%BC%96%E5%86%99hellothreejs/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-19T17:11:35+08:00"><meta property="article:modified_time" content="2023-12-19T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="03 ç¼–å†™HelloThreejs"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"03 ç¼–å†™HelloThreejs","item":"https://bablvsj.github.io/posts/threejs/03-%E7%BC%96%E5%86%99hellothreejs/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"03 ç¼–å†™HelloThreejs","name":"03 ç¼–å†™HelloThreejs","description":"","keywords":["Three.js"],"articleBody":"ç»ˆäºè¦çœŸæ­£ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦ Three.js äº†ã€‚\næˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹åˆ›å»ºä¸€ä¸ª Three.js ç¤ºä¾‹æ‰€éœ€è¦çš„è¿‡ç¨‹ï¼Œè®¤çœŸé˜…è¯»å¹¶ç†è§£æ•´ä¸ªè¿‡ç¨‹ï¼Œä¼šæ›´åŠ å®¹æ˜“è®©ä½ è¯»æ‡‚æˆ‘åé¢çš„ç¤ºä¾‹ä»£ç ã€‚\nä»å¼•å…¥Threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹ ç¬¬1ç¯èŠ‚ï¼šå¼•å…¥Three.js å¼•å…¥æ–¹å¼1ï¼šå°† THREE ä¸€æ¬¡å…¨éƒ¨å¼•å…¥\nimport THREE from 'three' //å½“éœ€è¦ä½¿ç”¨æŸä¸ªå…·ä½“çš„æ¨¡å—æ—¶ï¼Œä¾‹å¦‚åˆ›å»ºåœºæ™¯ï¼Œåˆ™ä»£ç å¦‚ä¸‹ const scene = new THREE.Scene() è¿™ç§æ–¹å¼ä¼šå°†æ‰€æœ‰ Three.js ç›¸å…³æ¨¡å—éƒ½å¼•å…¥è¿›æ¥ï¼Œè™½ç„¶å¼•å…¥ä»£ç ç®€ä»‹ï¼Œä½†æ˜¯ä¼šé€ æˆé¡¹ç›®æ‰“åŒ…è¾“å‡ºæ—¶æ–‡ä»¶è¿‡å¤§ï¼Œå› æ­¤å¹¶ä¸å»ºè®®è¿™æ ·å¼•å…¥ã€‚\nè¯·æ³¨æ„ï¼šé»˜è®¤ three æ¨¡å—å¯¼å‡ºçš„åå­—å°±æ˜¯å…¨éƒ¨å¤§å†™çš„ â€œTHREEâ€ã€‚æˆ‘ä¸ªäººéå¸¸ä¸ä¹ æƒ¯ æ¨¡å—åç§° å…¨éƒ¨å¤§å†™ï¼Œæˆ‘çš„ä»£ç ä¹ æƒ¯æ˜¯ä½¿ç”¨ â€œThreeâ€ã€‚\nimport * as Three from 'three' const scene = new Three.Scene() æœ¬ç³»åˆ—æ–‡ç« ä¸­ä½¿ç”¨çš„ç¤ºä¾‹ï¼Œä»£ç ç»å¤§å¤šæ•°éƒ½é‡‡ç”¨è¿™ç§å¼•å…¥å½¢å¼ï¼Œä½¿ç”¨ Three è€Œ ä¸ä½¿ç”¨ THREEã€‚\næ‰€ä»¥ç½‘ä¸Šä¸€äº›æ•™ç¨‹ä¸­å¯èƒ½æè¿°æŸä¸ªç±»æ—¶ä½¿ç”¨çš„æ˜¯ THREE.Xxxxï¼Œè€Œæˆ‘åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­éƒ½ä¼šä½¿ç”¨ Three.Xxxx è¿™ç§æ–¹å¼ã€‚\nå¼•å…¥æ–¹å¼2ï¼šæŒ‰éœ€å¼•å…¥æ¨¡å—\nä¾‹å¦‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ Scene æ¨¡å—ï¼Œåˆ™ä»…å¼•å…¥è¯¥æ¨¡å—å³å¯\nimport { Scene } from 'three' //å½“éœ€è¦ä½¿ç”¨æŸä¸ªå…·ä½“çš„æ¨¡å—æ—¶ï¼Œä¾‹å¦‚åˆ›å»ºåœºæ™¯ï¼Œåˆ™ä»£ç å¦‚ä¸‹ const scene = new Scene() æœ¬æ–‡ç¤ºä¾‹ä»£ç ï¼Œéƒ½å°†é‡‡ç”¨æŒ‰éœ€å¼•å…¥çš„æ–¹å¼ã€‚\nç¬¬2ç¯èŠ‚ï¼šå°†DOMä¸­çš„canvasä¸Threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’© é‡‡ç”¨ React çš„ useEffect + useRef æ¥å®ç°æ‰€è°“ â€œæŒ‚é’©â€ ã€‚\nå…·ä½“å‚è§ç¤ºä¾‹ä»£ç \nç¬¬3ç¯èŠ‚ï¼šåˆ›å»ºThree.jsåŸºç¡€3å¤§å…ƒç´ ã€åœºæ™¯å¯è§å…ƒç´  åŸºç¡€3å¤§å…ƒç´ ï¼š\næ¸²æŸ“å™¨ \u003e æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ¸²æŸ“å™¨æ˜¯ WebGLRenderer é€è§†é•œå¤´ \u003e æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ PerspectiveCamera åœºæ™¯ \u003e Scen åœºæ™¯å¯è§å…ƒç´ ï¼š\nå‡ ä½•ä½“ \u003e æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ BoxGeometry(ç«‹æ–¹ä½“) å‡ ä½•ä½“çš„æè´¨(é¢œè‰²ã€å…‰äº®ç¨‹åº¦) \u003e æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ MeshBasicMaterial æˆ– MeshPhongMaterial ç½‘æ ¼ \u003e Mesh å…‰æº \u003e æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ DirectionalLight(å¹³è¡Œå…‰æº) è¡¥å……è¯´æ˜ï¼š\nä½ åº”è¯¥å‘ç°ï¼Œé™¤äº† åœºæ™¯(Scen)ã€ç½‘æ ¼(Mesh) ä¹‹å¤–ï¼Œå…¶ä»–çš„å…ƒç´ æˆ‘éƒ½æ³¨æ˜ â€œæœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯â€¦â€ã€‚\nå› ä¸ºæ— è®ºæ¸²æŸ“å™¨ï¼Œè¿˜æ˜¯å‡ ä½•ä½“ï¼Œä»¥åŠå…¶ä»–å…ƒç´ ï¼ŒThree.js éƒ½å†…ç½®äº†éå¸¸å¤šä¸åŒç§ç±»çš„å…ƒç´ æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªä¼šåœ¨ä»¥åå­¦ä¹ ä¸­é€æ¸è¯¦ç»†è¯´æ˜ä¸¾ä¾‹ã€‚\nç¬¬4ç¯èŠ‚ï¼šä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢ æ¸²æŸ“ç”»é¢\nå°±æ˜¯æ ¹æ®ç¬¬3ç¯èŠ‚ä¸­æ‰€åˆ›å»ºå‡ºçš„ 3D åœºæ™¯ï¼Œæ¸²æŸ“å‡ºç”»é¢ï¼Œå¹¶å°†ç”»é¢å†…å®¹å¡«å……åˆ° canvas ä¸­ã€‚\næœ¬æ–‡ç¤ºä¾‹ä¸­ï¼Œä¸ºäº†å‘ˆç° 3D åŠ¨ç”»ï¼Œä½¿ç”¨åˆ°äº†æµè§ˆå™¨ä¸­ window.requestAnimationFrame() è¿™ä¸ªå‡½æ•°ã€‚\nå…³äº window.requestAnimationFrame() çš„ç”¨æ³•è¯·å‚è€ƒï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/API/window/requestAnimationFrame\nè¡¥å……è¯´æ˜ï¼š3DåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„ï¼Ÿ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¸²æŸ“å‡ºçš„ 3D åœºæ™¯éƒ½æ˜¯é™æ­¢çš„ï¼Œæ‰€è°“ 3D åŠ¨ç”»ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸º â€œåœºæ™¯â€ ä¸Šå‘ç”Ÿäº† â€œå˜åŒ–â€ è¢«æ¸²æŸ“å™¨ä¸æ–­é‡æ–°æ¸²æŸ“ã€‚\nå¼•èµ·è¿™äº›æ‰€è°“ â€œå˜åŒ–â€ï¼Œç®€å•å¯å½’çº³ä¸ºä»¥ä¸‹å‡ ç§åŸå› ï¼š\né•œå¤´ä¸å˜ï¼Œä½†å¯è§åœºæ™¯å…ƒç´ å‘ç”Ÿäº†å˜åŒ–ï¼Œä¾‹å¦‚å‡ ä½•ä½“å‘ç”Ÿäº†å˜åŒ–ã€ç½‘æ ¼è§’åº¦å‘ç”Ÿäº†å˜åŒ–ç­‰ å¯è§åœºæ™¯å…ƒç´ ä¸å˜ï¼Œä½†æ˜¯é•œå¤´å‘ç”Ÿäº†å˜åŒ–ï¼Œä¾‹å¦‚é•œå¤´çš„æ¨è¿‘ã€æ‹‰è¿œç­‰ é•œå¤´å˜åŒ–äº†ï¼ŒåŒæ—¶åœºæ™¯å…ƒç´ ä¹Ÿå˜åŒ–äº†â€¦â€¦ ç¤ºä¾‹ä»£ç  ç¬¬1æ­¥ï¼šåˆ›å»ºå¹¶ç¼–å†™index.tsxä»£ç å†…å®¹ åœ¨ src/components/hello-threejs ç›®å½•ä¸‹ï¼Œåˆ›å»º index.tsx ä½œä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚\nç¼–å†™è¯¥ç»„ä»¶å¯¹åº”çš„ä»£ç å†…å®¹ï¼š\nimport React, { useRef, useEffect } from 'react' import { WebGLRenderer, PerspectiveCamera, Scene, BoxGeometry, Mesh, DirectionalLight, MeshPhongMaterial } from 'three' const HelloThreejs: React.FC = () =\u003e { const canvasRef = useRef(null) useEffect(() =\u003e { if (canvasRef.current) { //åˆ›å»ºæ¸²æŸ“å™¨ const renderer = new WebGLRenderer({ canvas: canvasRef.current }) //åˆ›å»ºé•œå¤´ //PerspectiveCamera() ä¸­çš„ 4 ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼š //1ã€fov(field of view çš„ç¼©å†™)ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 50ï¼ŒæŒ‡å‚ç›´æ–¹å‘ä¸Šçš„è§’åº¦ï¼Œæ³¨æ„è¯¥å€¼æ˜¯åº¦æ•°è€Œä¸æ˜¯å¼§åº¦ //2ã€aspectï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œç”»å¸ƒçš„å®½é«˜æ¯”(å®½/é«˜)ï¼Œä¾‹å¦‚ç”»å¸ƒå®½300åƒç´ ï¼Œé«˜150åƒç´ ï¼Œé‚£ä¹ˆæ„å‘³ç€å®½é«˜æ¯”ä¸º 2 //3ã€nearï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 0.1ï¼Œè¿‘å¹³é¢ï¼Œé™åˆ¶æ‘„åƒæœºå¯ç»˜åˆ¶æœ€è¿‘çš„è·ç¦»ï¼Œè‹¥å°äºè¯¥è·ç¦»åˆ™ä¸ä¼šç»˜åˆ¶(ç›¸å½“äºè¢«è£åˆ‡æ‰) //4ã€farï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 2000ï¼Œè¿œå¹³é¢ï¼Œé™åˆ¶æ‘„åƒæœºå¯ç»˜åˆ¶æœ€è¿œçš„è·ç¦»ï¼Œè‹¥è¶…å‡ºè¯¥è·ç¦»åˆ™ä¸ä¼šç»˜åˆ¶(ç›¸å½“äºè¢«è£åˆ‡æ‰) //ä»¥ä¸Š 4 ä¸ªå‚æ•°åœ¨ä¸€èµ·ï¼Œæ„æˆäº†ä¸€ä¸ª â€œè§†æ¤â€ï¼Œå…³äºè§†æ¤çš„æ¦‚å¿µç†è§£ï¼Œæš‚æ—¶å…ˆä¸ä½œè¯¦ç»†æè¿°ã€‚ const camera = new PerspectiveCamera(75, 2, 0.1, 5) //åˆ›å»ºåœºæ™¯ const scene = new Scene() //åˆ›å»ºå‡ ä½•ä½“ const geometry = new BoxGeometry(1, 1, 1) //åˆ›å»ºæè´¨ //æˆ‘ä»¬éœ€è¦è®©ç«‹æ–¹ä½“èƒ½å¤Ÿåå°„å…‰ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨MeshBasicMaterialï¼Œè€Œæ˜¯æ”¹ç”¨MeshPhongMaterial //const material = new MeshBasicMaterial({ color: 0x44aa88 }) const material = new MeshPhongMaterial({ color: 0x44aa88 }) //åˆ›å»ºç½‘æ ¼ const cube = new Mesh(geometry, material) scene.add(cube)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­ //åˆ›å»ºå…‰æº const light = new DirectionalLight(0xFFFFFF, 1) light.position.set(-1, 2, 4) scene.add(light)//å°†å…‰æºæ·»åŠ åˆ°åœºæ™¯ä¸­ï¼Œè‹¥åœºæ™¯ä¸­æ²¡æœ‰ä»»ä½•å…‰æºï¼Œåˆ™å¯åå…‰æè´¨çš„ç‰©ä½“æ¸²æŸ“å‡ºçš„ç»“æœæ˜¯ä¸€ç‰‡æ¼†é»‘ï¼Œä»€ä¹ˆä¹Ÿçœ‹ä¸è§ //è®¾ç½®é€è§†é•œå¤´çš„Zè½´è·ç¦»ï¼Œä»¥ä¾¿æˆ‘ä»¬ä»¥æŸä¸ªè·ç¦»æ¥è§‚å¯Ÿå‡ ä½•ä½“ //ä¹‹å‰åˆå§‹åŒ–é€è§†é•œå¤´æ—¶ï¼Œè®¾ç½®çš„è¿‘å¹³é¢ä¸º 0.1ï¼Œè¿œå¹³é¢ä¸º 5 //å› æ­¤ camera.position.z çš„å€¼ä¸€å®šè¦åœ¨ 0.1 - 5 çš„èŒƒå›´å†…ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´åˆ™ç”»é¢ä¸ä¼šè¢«æ¸²æŸ“ camera.position.z = 2 //æ¸²æŸ“å™¨æ ¹æ®åœºæ™¯ã€é€è§†é•œå¤´æ¥æ¸²æŸ“ç”»é¢ï¼Œå¹¶å°†è¯¥ç”»é¢å†…å®¹å¡«å……åˆ° DOM çš„ canvas å…ƒç´ ä¸­ //renderer.render(scene, camera)//ç”±äºåé¢æˆ‘ä»¬æ·»åŠ äº†è‡ªåŠ¨æ¸²æŸ“æ¸²æŸ“åŠ¨ç”»ï¼Œæ‰€ä»¥æ­¤å¤„çš„æ¸²æŸ“å¯ä»¥æ³¨é‡Šæ‰ //æ·»åŠ è‡ªåŠ¨æ—‹è½¬æ¸²æŸ“åŠ¨ç”» const render = (time: number) =\u003e { time = time * 0.001 //åŸæœ¬ time ä¸ºæ¯«ç§’ï¼Œæˆ‘ä»¬è¿™é‡Œå¯¹ time è¿›è¡Œè½¬åŒ–ï¼Œä¿®æ”¹æˆ ç§’ï¼Œä»¥ä¾¿äºæˆ‘ä»¬åŠ¨ç”»æ—‹è½¬è§’åº¦çš„é€’å¢ cube.rotation.x = time cube.rotation.y = time renderer.render(scene, camera) window.requestAnimationFrame(render) } window.requestAnimationFrame(render) } }, [canvasRef]) return ( ) } export default HelloThreejs ç¬¬2æ­¥ï¼šæ·»åŠ å¯¹HelloThreejsç»„ä»¶çš„ä½¿ç”¨ ä¿®æ”¹ src/app.tsx å¯¹åº”çš„ä»£ç ï¼š\nimport './App.scss' import HelloThreejs from '@/components/hello-threejs'; const App = () =\u003e { return ( ) } export default App; ç¬¬3æ­¥ï¼šæŸ¥çœ‹è¿è¡Œæ•ˆæœ yarn start è‹¥æ— æ„å¤–ï¼Œä½ ä¼šåœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ä¸€ä¸ª é«˜150åƒç´ ï¼Œå®½300åƒç´ çš„ é»‘è‰²åœºæ™¯ï¼Œè¯¥åœºæ™¯ä¸Šä¸€ç›´æœ‰ä¸€ä¸ª 3D ç«‹æ–¹ä½“åœ¨æ—‹è½¬ã€‚\nè‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Three.js ç¤ºä¾‹å®Œæˆã€‚\nå¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ é¦–å…ˆå›å¿†ä¸€ä¸‹ â€œ01 Three.jsç®€ä»‹.mdâ€ ä¸­ â€œThree.jsä¸­çš„æŠ€æœ¯åè¯â€ ä¸­å…³äº ç½‘æ ¼çš„ä»‹ç»ã€‚\nç½‘æ ¼ï¼šä¸€ç§ç‰¹å®šçš„ å‡ ä½•ä½“å’Œæè´¨ ç»˜åˆ¶å‡ºçš„ä¸€ä¸ªç‰¹å®šçš„å‡ ä½•ä½“ç³»ã€‚\nç½‘æ ¼åŒ…å«çš„å†…å®¹ä¸ºï¼šå‡ ä½•ä½“ã€å‡ ä½•ä½“çš„æè´¨ã€å‡ ä½•ä½“çš„è‡ªèº«ç½‘æ ¼åæ ‡ä½“ç³»\nåœ¨ Three.js ä¸­ï¼Œè¦ç‰¢è®°ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š\nä¸€ä¸ªå‡ ä½•ä½“æˆ–æè´¨ï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ªç½‘æ ¼ä½¿ç”¨(å¼•ç”¨) ä¸€ä¸ªåœºæ™¯å†…ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç½‘æ ¼ é‚£å’Œè®©åœºæ™¯ä¸­æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ\nç­”ï¼šä½¿ç”¨ç›¸åŒæˆ–ä¸åŒçš„å‡ ä½•ä½“(ç«‹æ–¹ä½“)ï¼Œä»¥åŠç›¸åŒæˆ–ä¸åŒçš„æè´¨ï¼Œå»åˆ›å»ºå¤šä¸ªç½‘æ ¼(ç‰¹å®šçš„å‡ ä½•ä½“)ï¼Œç„¶åå°†å¤šä¸ªç½‘æ ¼æ·»åŠ åˆ°åŒä¸€ä¸ªåœºæ™¯ä¸­ã€‚\næ³¨æ„ï¼šä¸ºäº†ä¸åŒçš„ç«‹æ–¹ä½“åœ¨åœºæ™¯ä¸­ä¸å åŠ åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦å°†ç½‘æ ¼(ç‰¹å®šçš„å‡ ä½•ä½“)çš„ä½ç½®è®¾ç½®æˆä¸åŒçš„å€¼ã€‚\nå…·ä½“ä»£ç çš„ä¿®æ”¹ 1ã€æˆ‘ä»¬å‡å®šç»§ç»­ä½¿ç”¨åŸæœ‰ç¤ºä¾‹ä¸­çš„ç«‹æ–¹ä½“ï¼Œå› æ­¤åˆ›å»ºå‡ ä½•ä½“çš„ä»£ç ä¸å˜ã€‚\n2ã€ä¸ºäº†å‡¸æ˜¾ç«‹æ–¹ä½“çš„åŒºåˆ«ï¼Œæˆ‘ä»¬å°†åˆ›å»º 3 ä¸ªä¸åŒé¢œè‰²çš„æè´¨ã€‚\n- //åˆ›å»ºçº¹ç† - const material = new MeshBasicMaterial({ color: 0x44aa88 }) + //åˆ›å»º 3 ä¸ªçº¹ç† + const material1 = new MeshPhongMaterial({ color: 0x44aa88 }) + const material2 = new MeshPhongMaterial({ color: 0xc50d0d }) + const material3 = new MeshPhongMaterial({ color: 0x39b20a }) 3ã€åˆ›å»º 3 ä¸ªç½‘æ ¼ï¼Œæ¯ä¸ªç½‘æ ¼çš„æ°´å¹³ä½ç½®ä¸åŒ\n- //åˆ›å»ºç½‘æ ¼ - const cube = new Mesh(geometry, material)~~ - scene.add(cube) + //åˆ›å»º 3 ä¸ªç½‘æ ¼ + const cube1 = new Mesh(geometry, material1) + cube1.position.x = -2 + scene.add(cube1)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­ + const cube2 = new Mesh(geometry, material2) + cube2.position.x = 0 + scene.add(cube2)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­ + const cube3 = new Mesh(geometry, material3) + cube3.position.x = 2 + scene.add(cube3)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­ 4ã€ä¸ºäº†ä¾¿äºåé¢å¯¹äºä¸åŒç½‘æ ¼çš„å¾ªç¯ä¿®æ”¹ï¼Œæˆ‘ä»¬å°†åˆ›å»ºåŒ…å« 3 ä¸ªç½‘æ ¼çš„ä¸€ä¸ªæ•°ç»„\nconst cubes = [cube1, cube2, cube3] 5ã€ä¿®æ”¹è‡ªåŠ¨æ—‹è½¬æ¸²æŸ“åŠ¨ç”»çš„ç›¸å…³ä»£ç \n- cube.rotation.x = time - cube.rotation.y = time + //é€šè¿‡ cube.map å¾ªç¯éå†ä¿®æ”¹ç½‘æ ¼ç›¸å…³å±æ€§ + cubes.map(cube =\u003e { + cube.rotation.x = time + cube.rotation.y = time + }) 6ã€ä¿å­˜å¹¶é‡æ–°æ‰§è¡Œ yarn startï¼Œè‹¥ä¸€åˆ‡æ­£å¸¸æ­¤æ—¶å°±ä¼šçœ‹åˆ° ç”»é¢ä¸­æœ‰ 3 ä¸ªä¸åŒé¢œè‰²çš„ç«‹æ–¹ä½“åŒæ—¶åœ¨åšæ—‹è½¬åŠ¨ç”»ã€‚\nç›®å‰ 3 ä¸ªç«‹æ–¹ä½“ä»…ä»…æ˜¯é¢œè‰²å’Œä½ç½®ä¸åŒï¼Œä½ å¯ä»¥å°è¯•å°†ç«‹æ–¹ä½“è®¾ç½®ä¸ºä¸åŒçš„å°ºå¯¸ï¼Œä¸åŒçš„æ—‹è½¬é¢‘ç‡ç­‰ç­‰ï¼Œè‡ªå·±å‘æŒ¥å§ã€‚\næ˜¯ä¸æ˜¯æ„Ÿè§‰è‡ªå·±å¯¹ Three.js åœºæ™¯æœ‰è¿›ä¸€æ­¥æœ‰æ‰€æŒæ¡ ^_^ã€‚\nä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ”¹è¿›è¿™ä¸ªç¤ºä¾‹ä»£ç ã€‚\n","wordCount":"3039","inLanguage":"en","datePublished":"2023-12-19T17:11:35+08:00","dateModified":"2023-12-19T17:11:35+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/threejs/03-%E7%BC%96%E5%86%99hellothreejs/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>03 ç¼–å†™HelloThreejs</h1><div class=post-meta><div class=post-tags-meta><a href=https://bablvsj.github.io/tags/three.js/>Three.js</a></div>7 min&nbsp;Â·&nbsp;<span title='2023-12-19 17:11:35 +0800 +0800'>2023/12/19</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e4%bb%8e%e5%bc%95%e5%85%a5three%e5%88%b0%e5%88%9b%e5%bb%ba%e7%a4%ba%e4%be%8b%e7%9a%84%e8%bf%87%e7%a8%8b aria-label=ä»å¼•å…¥Threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹>ä»å¼•å…¥Threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹</a><ul><li><a href=#%e7%ac%ac1%e7%8e%af%e8%8a%82%e5%bc%95%e5%85%a5threejs aria-label=ç¬¬1ç¯èŠ‚ï¼šå¼•å…¥Three.js>ç¬¬1ç¯èŠ‚ï¼šå¼•å…¥Three.js</a></li><li><a href=#%e7%ac%ac2%e7%8e%af%e8%8a%82%e5%b0%86dom%e4%b8%ad%e7%9a%84canvas%e4%b8%8ethreejs%e4%b8%ad%e7%9a%84%e6%b8%b2%e6%9f%93%e5%99%a8%e8%bf%9b%e8%a1%8c%e6%8c%82%e9%92%a9 aria-label=ç¬¬2ç¯èŠ‚ï¼šå°†DOMä¸­çš„canvasä¸Threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’©>ç¬¬2ç¯èŠ‚ï¼šå°†DOMä¸­çš„canvasä¸Threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’©</a></li><li><a href=#%e7%ac%ac3%e7%8e%af%e8%8a%82%e5%88%9b%e5%bb%bathreejs%e5%9f%ba%e7%a1%803%e5%a4%a7%e5%85%83%e7%b4%a0%e5%9c%ba%e6%99%af%e5%8f%af%e8%a7%81%e5%85%83%e7%b4%a0 aria-label=ç¬¬3ç¯èŠ‚ï¼šåˆ›å»ºThree.jsåŸºç¡€3å¤§å…ƒç´ ã€åœºæ™¯å¯è§å…ƒç´ >ç¬¬3ç¯èŠ‚ï¼šåˆ›å»ºThree.jsåŸºç¡€3å¤§å…ƒç´ ã€åœºæ™¯å¯è§å…ƒç´ </a></li><li><a href=#%e7%ac%ac4%e7%8e%af%e8%8a%82%e4%bd%bf%e7%94%a8%e6%b8%b2%e6%9f%93%e5%99%a8%e6%b8%b2%e6%9f%93%e5%87%ba%e7%94%bb%e9%9d%a2 aria-label=ç¬¬4ç¯èŠ‚ï¼šä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢>ç¬¬4ç¯èŠ‚ï¼šä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢</a></li><li><a href=#%e8%a1%a5%e5%85%85%e8%af%b4%e6%98%8e3d%e5%8a%a8%e7%94%bb%e6%98%af%e6%80%8e%e4%b9%88%e5%8a%a8%e8%b5%b7%e6%9d%a5%e7%9a%84 aria-label=è¡¥å……è¯´æ˜ï¼š3DåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„ï¼Ÿ>è¡¥å……è¯´æ˜ï¼š3DåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„ï¼Ÿ</a></li></ul></li><li><a href=#%e7%a4%ba%e4%be%8b%e4%bb%a3%e7%a0%81 aria-label=ç¤ºä¾‹ä»£ç >ç¤ºä¾‹ä»£ç </a><ul><ul><li><a href=#%e7%ac%ac1%e6%ad%a5%e5%88%9b%e5%bb%ba%e5%b9%b6%e7%bc%96%e5%86%99indextsx%e4%bb%a3%e7%a0%81%e5%86%85%e5%ae%b9 aria-label=ç¬¬1æ­¥ï¼šåˆ›å»ºå¹¶ç¼–å†™index.tsxä»£ç å†…å®¹>ç¬¬1æ­¥ï¼šåˆ›å»ºå¹¶ç¼–å†™index.tsxä»£ç å†…å®¹</a></li><li><a href=#%e7%ac%ac2%e6%ad%a5%e6%b7%bb%e5%8a%a0%e5%af%b9hellothreejs%e7%bb%84%e4%bb%b6%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=ç¬¬2æ­¥ï¼šæ·»åŠ å¯¹HelloThreejsç»„ä»¶çš„ä½¿ç”¨>ç¬¬2æ­¥ï¼šæ·»åŠ å¯¹HelloThreejsç»„ä»¶çš„ä½¿ç”¨</a></li><li><a href=#%e7%ac%ac3%e6%ad%a5%e6%9f%a5%e7%9c%8b%e8%bf%90%e8%a1%8c%e6%95%88%e6%9e%9c aria-label=ç¬¬3æ­¥ï¼šæŸ¥çœ‹è¿è¡Œæ•ˆæœ>ç¬¬3æ­¥ï¼šæŸ¥çœ‹è¿è¡Œæ•ˆæœ</a></li></ul></ul></li><li><a href=#%e5%a6%82%e4%bd%95%e8%ae%a9%e5%9c%ba%e6%99%af%e6%9c%89%e5%a4%9a%e4%b8%aa%e7%ab%8b%e6%96%b9%e4%bd%93 aria-label=å¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ>å¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ</a><ul><ul><li><a href=#%e5%85%b7%e4%bd%93%e4%bb%a3%e7%a0%81%e7%9a%84%e4%bf%ae%e6%94%b9 aria-label=å…·ä½“ä»£ç çš„ä¿®æ”¹>å…·ä½“ä»£ç çš„ä¿®æ”¹</a></li></ul></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>ç»ˆäºè¦çœŸæ­£ç¬¬ä¸€æ¬¡äº²å¯†æ¥è§¦ Three.js äº†ã€‚</p><p>æˆ‘ä»¬å…ˆæ¢³ç†ä¸€ä¸‹åˆ›å»ºä¸€ä¸ª Three.js ç¤ºä¾‹æ‰€éœ€è¦çš„è¿‡ç¨‹ï¼Œè®¤çœŸé˜…è¯»å¹¶ç†è§£æ•´ä¸ªè¿‡ç¨‹ï¼Œä¼šæ›´åŠ å®¹æ˜“è®©ä½ è¯»æ‡‚æˆ‘åé¢çš„ç¤ºä¾‹ä»£ç ã€‚</p><h2 id=ä»å¼•å…¥threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹>ä»å¼•å…¥Threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹<a hidden class=anchor aria-hidden=true href=#ä»å¼•å…¥threeåˆ°åˆ›å»ºç¤ºä¾‹çš„è¿‡ç¨‹>#</a></h2><h3 id=ç¬¬1ç¯èŠ‚å¼•å…¥threejs>ç¬¬1ç¯èŠ‚ï¼šå¼•å…¥Three.js<a hidden class=anchor aria-hidden=true href=#ç¬¬1ç¯èŠ‚å¼•å…¥threejs>#</a></h3><p><strong>å¼•å…¥æ–¹å¼1ï¼šå°† THREE ä¸€æ¬¡å…¨éƒ¨å¼•å…¥</strong></p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import THREE from &#39;three&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//å½“éœ€è¦ä½¿ç”¨æŸä¸ªå…·ä½“çš„æ¨¡å—æ—¶ï¼Œä¾‹å¦‚åˆ›å»ºåœºæ™¯ï¼Œåˆ™ä»£ç å¦‚ä¸‹
</span></span><span style=display:flex><span>const scene = new THREE.Scene()
</span></span></code></pre></div><blockquote><p>è¿™ç§æ–¹å¼ä¼šå°†æ‰€æœ‰ Three.js ç›¸å…³æ¨¡å—éƒ½å¼•å…¥è¿›æ¥ï¼Œè™½ç„¶å¼•å…¥ä»£ç ç®€ä»‹ï¼Œä½†æ˜¯ä¼šé€ æˆé¡¹ç›®æ‰“åŒ…è¾“å‡ºæ—¶æ–‡ä»¶è¿‡å¤§ï¼Œå› æ­¤å¹¶ä¸å»ºè®®è¿™æ ·å¼•å…¥ã€‚</p></blockquote><p><strong>è¯·æ³¨æ„ï¼šé»˜è®¤ three æ¨¡å—å¯¼å‡ºçš„åå­—å°±æ˜¯å…¨éƒ¨å¤§å†™çš„ â€œTHREEâ€ã€‚æˆ‘ä¸ªäººéå¸¸ä¸ä¹ æƒ¯ æ¨¡å—åç§° å…¨éƒ¨å¤§å†™ï¼Œæˆ‘çš„ä»£ç ä¹ æƒ¯æ˜¯ä½¿ç”¨ â€œThreeâ€ã€‚</strong></p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import * as Three from &#39;three&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>const scene = new Three.Scene()
</span></span></code></pre></div><blockquote><p><strong>æœ¬ç³»åˆ—æ–‡ç« ä¸­ä½¿ç”¨çš„ç¤ºä¾‹ï¼Œä»£ç ç»å¤§å¤šæ•°éƒ½é‡‡ç”¨è¿™ç§å¼•å…¥å½¢å¼ï¼Œä½¿ç”¨ Three è€Œ ä¸ä½¿ç”¨ THREEã€‚<br>æ‰€ä»¥ç½‘ä¸Šä¸€äº›æ•™ç¨‹ä¸­å¯èƒ½æè¿°æŸä¸ªç±»æ—¶ä½¿ç”¨çš„æ˜¯ THREE.Xxxxï¼Œè€Œæˆ‘åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­éƒ½ä¼šä½¿ç”¨ Three.Xxxx è¿™ç§æ–¹å¼ã€‚</strong></p></blockquote><p><strong>å¼•å…¥æ–¹å¼2ï¼šæŒ‰éœ€å¼•å…¥æ¨¡å—</strong></p><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ Scene æ¨¡å—ï¼Œåˆ™ä»…å¼•å…¥è¯¥æ¨¡å—å³å¯</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import { Scene } from &#39;three&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>//å½“éœ€è¦ä½¿ç”¨æŸä¸ªå…·ä½“çš„æ¨¡å—æ—¶ï¼Œä¾‹å¦‚åˆ›å»ºåœºæ™¯ï¼Œåˆ™ä»£ç å¦‚ä¸‹
</span></span><span style=display:flex><span>const scene = new Scene()
</span></span></code></pre></div><blockquote><p>æœ¬æ–‡ç¤ºä¾‹ä»£ç ï¼Œéƒ½å°†é‡‡ç”¨æŒ‰éœ€å¼•å…¥çš„æ–¹å¼ã€‚</p></blockquote><h3 id=ç¬¬2ç¯èŠ‚å°†domä¸­çš„canvasä¸threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’©>ç¬¬2ç¯èŠ‚ï¼šå°†DOMä¸­çš„canvasä¸Threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’©<a hidden class=anchor aria-hidden=true href=#ç¬¬2ç¯èŠ‚å°†domä¸­çš„canvasä¸threejsä¸­çš„æ¸²æŸ“å™¨è¿›è¡ŒæŒ‚é’©>#</a></h3><p><strong>é‡‡ç”¨ React çš„ useEffect + useRef æ¥å®ç°æ‰€è°“ â€œæŒ‚é’©â€ ã€‚</strong></p><blockquote><p>å…·ä½“å‚è§ç¤ºä¾‹ä»£ç </p></blockquote><h3 id=ç¬¬3ç¯èŠ‚åˆ›å»ºthreejsåŸºç¡€3å¤§å…ƒç´ åœºæ™¯å¯è§å…ƒç´ >ç¬¬3ç¯èŠ‚ï¼šåˆ›å»ºThree.jsåŸºç¡€3å¤§å…ƒç´ ã€åœºæ™¯å¯è§å…ƒç´ <a hidden class=anchor aria-hidden=true href=#ç¬¬3ç¯èŠ‚åˆ›å»ºthreejsåŸºç¡€3å¤§å…ƒç´ åœºæ™¯å¯è§å…ƒç´ >#</a></h3><p><strong>åŸºç¡€3å¤§å…ƒç´ ï¼š</strong></p><ol><li>æ¸²æŸ“å™¨ > æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ¸²æŸ“å™¨æ˜¯ WebGLRenderer</li><li>é€è§†é•œå¤´ > æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ PerspectiveCamera</li><li>åœºæ™¯ > Scen</li></ol><p><strong>åœºæ™¯å¯è§å…ƒç´ ï¼š</strong></p><ol><li>å‡ ä½•ä½“ > æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ BoxGeometry(ç«‹æ–¹ä½“)</li><li>å‡ ä½•ä½“çš„æè´¨(é¢œè‰²ã€å…‰äº®ç¨‹åº¦) > æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ MeshBasicMaterial æˆ– MeshPhongMaterial</li><li>ç½‘æ ¼ > Mesh</li><li>å…‰æº > æœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯ DirectionalLight(å¹³è¡Œå…‰æº)</li></ol><p><strong>è¡¥å……è¯´æ˜ï¼š</strong></p><p>ä½ åº”è¯¥å‘ç°ï¼Œé™¤äº† åœºæ™¯(Scen)ã€ç½‘æ ¼(Mesh) ä¹‹å¤–ï¼Œå…¶ä»–çš„å…ƒç´ æˆ‘éƒ½æ³¨æ˜ â€œæœ¬æ–‡ç¤ºä¾‹é‡‡ç”¨çš„æ˜¯&mldr;â€ã€‚</p><p>å› ä¸ºæ— è®ºæ¸²æŸ“å™¨ï¼Œè¿˜æ˜¯å‡ ä½•ä½“ï¼Œä»¥åŠå…¶ä»–å…ƒç´ ï¼ŒThree.js éƒ½å†…ç½®äº†éå¸¸å¤šä¸åŒç§ç±»çš„å…ƒç´ æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªä¼šåœ¨ä»¥åå­¦ä¹ ä¸­é€æ¸è¯¦ç»†è¯´æ˜ä¸¾ä¾‹ã€‚</p><h3 id=ç¬¬4ç¯èŠ‚ä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢>ç¬¬4ç¯èŠ‚ï¼šä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢<a hidden class=anchor aria-hidden=true href=#ç¬¬4ç¯èŠ‚ä½¿ç”¨æ¸²æŸ“å™¨æ¸²æŸ“å‡ºç”»é¢>#</a></h3><p><strong>æ¸²æŸ“ç”»é¢</strong></p><p>å°±æ˜¯æ ¹æ®ç¬¬3ç¯èŠ‚ä¸­æ‰€åˆ›å»ºå‡ºçš„ 3D åœºæ™¯ï¼Œæ¸²æŸ“å‡ºç”»é¢ï¼Œå¹¶å°†ç”»é¢å†…å®¹å¡«å……åˆ° canvas ä¸­ã€‚</p><p>æœ¬æ–‡ç¤ºä¾‹ä¸­ï¼Œä¸ºäº†å‘ˆç° 3D åŠ¨ç”»ï¼Œä½¿ç”¨åˆ°äº†æµè§ˆå™¨ä¸­ window.requestAnimationFrame() è¿™ä¸ªå‡½æ•°ã€‚</p><blockquote><p>å…³äº window.requestAnimationFrame() çš„ç”¨æ³•è¯·å‚è€ƒï¼š<a href=https://developer.mozilla.org/zh-CN/docs/Web/API/window/requestAnimationFrame>https://developer.mozilla.org/zh-CN/docs/Web/API/window/requestAnimationFrame</a></p></blockquote><h3 id=è¡¥å……è¯´æ˜3dåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„>è¡¥å……è¯´æ˜ï¼š3DåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#è¡¥å……è¯´æ˜3dåŠ¨ç”»æ˜¯æ€ä¹ˆåŠ¨èµ·æ¥çš„>#</a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¸²æŸ“å‡ºçš„ 3D åœºæ™¯éƒ½æ˜¯é™æ­¢çš„ï¼Œæ‰€è°“ 3D åŠ¨ç”»ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸º â€œåœºæ™¯â€ ä¸Šå‘ç”Ÿäº† â€œå˜åŒ–â€ è¢«æ¸²æŸ“å™¨ä¸æ–­é‡æ–°æ¸²æŸ“ã€‚</p><p>å¼•èµ·è¿™äº›æ‰€è°“ â€œå˜åŒ–â€ï¼Œç®€å•å¯å½’çº³ä¸ºä»¥ä¸‹å‡ ç§åŸå› ï¼š</p><ol><li>é•œå¤´ä¸å˜ï¼Œä½†å¯è§åœºæ™¯å…ƒç´ å‘ç”Ÿäº†å˜åŒ–ï¼Œä¾‹å¦‚å‡ ä½•ä½“å‘ç”Ÿäº†å˜åŒ–ã€ç½‘æ ¼è§’åº¦å‘ç”Ÿäº†å˜åŒ–ç­‰</li><li>å¯è§åœºæ™¯å…ƒç´ ä¸å˜ï¼Œä½†æ˜¯é•œå¤´å‘ç”Ÿäº†å˜åŒ–ï¼Œä¾‹å¦‚é•œå¤´çš„æ¨è¿‘ã€æ‹‰è¿œç­‰</li><li>é•œå¤´å˜åŒ–äº†ï¼ŒåŒæ—¶åœºæ™¯å…ƒç´ ä¹Ÿå˜åŒ–äº†&mldr;&mldr;</li></ol><h2 id=ç¤ºä¾‹ä»£ç >ç¤ºä¾‹ä»£ç <a hidden class=anchor aria-hidden=true href=#ç¤ºä¾‹ä»£ç >#</a></h2><h4 id=ç¬¬1æ­¥åˆ›å»ºå¹¶ç¼–å†™indextsxä»£ç å†…å®¹>ç¬¬1æ­¥ï¼šåˆ›å»ºå¹¶ç¼–å†™index.tsxä»£ç å†…å®¹<a hidden class=anchor aria-hidden=true href=#ç¬¬1æ­¥åˆ›å»ºå¹¶ç¼–å†™indextsxä»£ç å†…å®¹>#</a></h4><p>åœ¨ src/components/hello-threejs ç›®å½•ä¸‹ï¼Œåˆ›å»º index.tsx ä½œä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚</p><p>ç¼–å†™è¯¥ç»„ä»¶å¯¹åº”çš„ä»£ç å†…å®¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import React, { useRef, useEffect } from &#39;react&#39;
</span></span><span style=display:flex><span>import { WebGLRenderer, PerspectiveCamera, Scene, BoxGeometry, Mesh, DirectionalLight, MeshPhongMaterial } from &#39;three&#39;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>const HelloThreejs: React.FC = () =&gt; {
</span></span><span style=display:flex><span>    const canvasRef = useRef&lt;HTMLCanvasElement&gt;(null)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    useEffect(() =&gt; {
</span></span><span style=display:flex><span>        if (canvasRef.current) {
</span></span><span style=display:flex><span>            //åˆ›å»ºæ¸²æŸ“å™¨
</span></span><span style=display:flex><span>            const renderer = new WebGLRenderer({ canvas: canvasRef.current })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºé•œå¤´
</span></span><span style=display:flex><span>            //PerspectiveCamera() ä¸­çš„ 4 ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼š
</span></span><span style=display:flex><span>            //1ã€fov(field of view çš„ç¼©å†™)ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 50ï¼ŒæŒ‡å‚ç›´æ–¹å‘ä¸Šçš„è§’åº¦ï¼Œæ³¨æ„è¯¥å€¼æ˜¯åº¦æ•°è€Œä¸æ˜¯å¼§åº¦
</span></span><span style=display:flex><span>            //2ã€aspectï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œç”»å¸ƒçš„å®½é«˜æ¯”(å®½/é«˜)ï¼Œä¾‹å¦‚ç”»å¸ƒå®½300åƒç´ ï¼Œé«˜150åƒç´ ï¼Œé‚£ä¹ˆæ„å‘³ç€å®½é«˜æ¯”ä¸º 2
</span></span><span style=display:flex><span>            //3ã€nearï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 0.1ï¼Œè¿‘å¹³é¢ï¼Œé™åˆ¶æ‘„åƒæœºå¯ç»˜åˆ¶æœ€è¿‘çš„è·ç¦»ï¼Œè‹¥å°äºè¯¥è·ç¦»åˆ™ä¸ä¼šç»˜åˆ¶(ç›¸å½“äºè¢«è£åˆ‡æ‰)
</span></span><span style=display:flex><span>            //4ã€farï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 2000ï¼Œè¿œå¹³é¢ï¼Œé™åˆ¶æ‘„åƒæœºå¯ç»˜åˆ¶æœ€è¿œçš„è·ç¦»ï¼Œè‹¥è¶…å‡ºè¯¥è·ç¦»åˆ™ä¸ä¼šç»˜åˆ¶(ç›¸å½“äºè¢«è£åˆ‡æ‰)
</span></span><span style=display:flex><span>            //ä»¥ä¸Š 4 ä¸ªå‚æ•°åœ¨ä¸€èµ·ï¼Œæ„æˆäº†ä¸€ä¸ª â€œè§†æ¤â€ï¼Œå…³äºè§†æ¤çš„æ¦‚å¿µç†è§£ï¼Œæš‚æ—¶å…ˆä¸ä½œè¯¦ç»†æè¿°ã€‚
</span></span><span style=display:flex><span>            const camera = new PerspectiveCamera(75, 2, 0.1, 5)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºåœºæ™¯
</span></span><span style=display:flex><span>            const scene = new Scene()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºå‡ ä½•ä½“
</span></span><span style=display:flex><span>            const geometry = new BoxGeometry(1, 1, 1)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºæè´¨
</span></span><span style=display:flex><span>            //æˆ‘ä»¬éœ€è¦è®©ç«‹æ–¹ä½“èƒ½å¤Ÿåå°„å…‰ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨MeshBasicMaterialï¼Œè€Œæ˜¯æ”¹ç”¨MeshPhongMaterial
</span></span><span style=display:flex><span>            //const material = new MeshBasicMaterial({ color: 0x44aa88 })
</span></span><span style=display:flex><span>            const material = new MeshPhongMaterial({ color: 0x44aa88 })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºç½‘æ ¼
</span></span><span style=display:flex><span>            const cube = new Mesh(geometry, material)
</span></span><span style=display:flex><span>            scene.add(cube)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //åˆ›å»ºå…‰æº
</span></span><span style=display:flex><span>            const light = new DirectionalLight(0xFFFFFF, 1)
</span></span><span style=display:flex><span>            light.position.set(-1, 2, 4)
</span></span><span style=display:flex><span>            scene.add(light)//å°†å…‰æºæ·»åŠ åˆ°åœºæ™¯ä¸­ï¼Œè‹¥åœºæ™¯ä¸­æ²¡æœ‰ä»»ä½•å…‰æºï¼Œåˆ™å¯åå…‰æè´¨çš„ç‰©ä½“æ¸²æŸ“å‡ºçš„ç»“æœæ˜¯ä¸€ç‰‡æ¼†é»‘ï¼Œä»€ä¹ˆä¹Ÿçœ‹ä¸è§
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //è®¾ç½®é€è§†é•œå¤´çš„Zè½´è·ç¦»ï¼Œä»¥ä¾¿æˆ‘ä»¬ä»¥æŸä¸ªè·ç¦»æ¥è§‚å¯Ÿå‡ ä½•ä½“
</span></span><span style=display:flex><span>            //ä¹‹å‰åˆå§‹åŒ–é€è§†é•œå¤´æ—¶ï¼Œè®¾ç½®çš„è¿‘å¹³é¢ä¸º 0.1ï¼Œè¿œå¹³é¢ä¸º 5
</span></span><span style=display:flex><span>            //å› æ­¤ camera.position.z çš„å€¼ä¸€å®šè¦åœ¨ 0.1 - 5 çš„èŒƒå›´å†…ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´åˆ™ç”»é¢ä¸ä¼šè¢«æ¸²æŸ“
</span></span><span style=display:flex><span>            camera.position.z = 2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //æ¸²æŸ“å™¨æ ¹æ®åœºæ™¯ã€é€è§†é•œå¤´æ¥æ¸²æŸ“ç”»é¢ï¼Œå¹¶å°†è¯¥ç”»é¢å†…å®¹å¡«å……åˆ° DOM çš„ canvas å…ƒç´ ä¸­
</span></span><span style=display:flex><span>            //renderer.render(scene, camera)//ç”±äºåé¢æˆ‘ä»¬æ·»åŠ äº†è‡ªåŠ¨æ¸²æŸ“æ¸²æŸ“åŠ¨ç”»ï¼Œæ‰€ä»¥æ­¤å¤„çš„æ¸²æŸ“å¯ä»¥æ³¨é‡Šæ‰
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            //æ·»åŠ è‡ªåŠ¨æ—‹è½¬æ¸²æŸ“åŠ¨ç”»
</span></span><span style=display:flex><span>            const render = (time: number) =&gt; {
</span></span><span style=display:flex><span>                time = time * 0.001 //åŸæœ¬ time ä¸ºæ¯«ç§’ï¼Œæˆ‘ä»¬è¿™é‡Œå¯¹ time è¿›è¡Œè½¬åŒ–ï¼Œä¿®æ”¹æˆ ç§’ï¼Œä»¥ä¾¿äºæˆ‘ä»¬åŠ¨ç”»æ—‹è½¬è§’åº¦çš„é€’å¢
</span></span><span style=display:flex><span>                cube.rotation.x = time
</span></span><span style=display:flex><span>                cube.rotation.y = time
</span></span><span style=display:flex><span>                renderer.render(scene, camera)
</span></span><span style=display:flex><span>                window.requestAnimationFrame(render)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            window.requestAnimationFrame(render)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }, [canvasRef])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    return (
</span></span><span style=display:flex><span>        &lt;canvas ref={canvasRef} /&gt;
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export default HelloThreejs
</span></span></code></pre></div><h4 id=ç¬¬2æ­¥æ·»åŠ å¯¹hellothreejsç»„ä»¶çš„ä½¿ç”¨>ç¬¬2æ­¥ï¼šæ·»åŠ å¯¹HelloThreejsç»„ä»¶çš„ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#ç¬¬2æ­¥æ·»åŠ å¯¹hellothreejsç»„ä»¶çš„ä½¿ç”¨>#</a></h4><p>ä¿®æ”¹ src/app.tsx å¯¹åº”çš„ä»£ç ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>import &#39;./App.scss&#39;
</span></span><span style=display:flex><span>import HelloThreejs from &#39;@/components/hello-threejs&#39;;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>const App = () =&gt; {
</span></span><span style=display:flex><span>  return (
</span></span><span style=display:flex><span>    &lt;HelloThreejs /&gt;
</span></span><span style=display:flex><span>  )
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export default App;
</span></span></code></pre></div><h4 id=ç¬¬3æ­¥æŸ¥çœ‹è¿è¡Œæ•ˆæœ>ç¬¬3æ­¥ï¼šæŸ¥çœ‹è¿è¡Œæ•ˆæœ<a hidden class=anchor aria-hidden=true href=#ç¬¬3æ­¥æŸ¥çœ‹è¿è¡Œæ•ˆæœ>#</a></h4><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>yarn start
</span></span></code></pre></div><p>è‹¥æ— æ„å¤–ï¼Œä½ ä¼šåœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ä¸€ä¸ª é«˜150åƒç´ ï¼Œå®½300åƒç´ çš„ é»‘è‰²åœºæ™¯ï¼Œè¯¥åœºæ™¯ä¸Šä¸€ç›´æœ‰ä¸€ä¸ª 3D ç«‹æ–¹ä½“åœ¨æ—‹è½¬ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Three.js ç¤ºä¾‹å®Œæˆã€‚</p><h2 id=å¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“>å¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#å¦‚ä½•è®©åœºæ™¯æœ‰å¤šä¸ªç«‹æ–¹ä½“>#</a></h2><p>é¦–å…ˆå›å¿†ä¸€ä¸‹ &ldquo;01 Three.jsç®€ä»‹.md&rdquo; ä¸­ â€œThree.jsä¸­çš„æŠ€æœ¯åè¯â€ ä¸­å…³äº ç½‘æ ¼çš„ä»‹ç»ã€‚</p><p><strong>ç½‘æ ¼ï¼šä¸€ç§ç‰¹å®šçš„ å‡ ä½•ä½“å’Œæè´¨ ç»˜åˆ¶å‡ºçš„ä¸€ä¸ªç‰¹å®šçš„å‡ ä½•ä½“ç³»ã€‚</strong></p><p><strong>ç½‘æ ¼åŒ…å«çš„å†…å®¹ä¸ºï¼šå‡ ä½•ä½“ã€å‡ ä½•ä½“çš„æè´¨ã€å‡ ä½•ä½“çš„è‡ªèº«ç½‘æ ¼åæ ‡ä½“ç³»</strong></p><p><strong>åœ¨ Three.js ä¸­ï¼Œè¦ç‰¢è®°ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š</strong></p><ul><li>ä¸€ä¸ªå‡ ä½•ä½“æˆ–æè´¨ï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ªç½‘æ ¼ä½¿ç”¨(å¼•ç”¨)</li><li>ä¸€ä¸ªåœºæ™¯å†…ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç½‘æ ¼</li></ul><p><strong>é‚£å’Œè®©åœºæ™¯ä¸­æœ‰å¤šä¸ªç«‹æ–¹ä½“ï¼Ÿ</strong></p><p>ç­”ï¼šä½¿ç”¨ç›¸åŒæˆ–ä¸åŒçš„å‡ ä½•ä½“(ç«‹æ–¹ä½“)ï¼Œä»¥åŠç›¸åŒæˆ–ä¸åŒçš„æè´¨ï¼Œå»åˆ›å»ºå¤šä¸ªç½‘æ ¼(ç‰¹å®šçš„å‡ ä½•ä½“)ï¼Œç„¶åå°†å¤šä¸ªç½‘æ ¼æ·»åŠ åˆ°åŒä¸€ä¸ªåœºæ™¯ä¸­ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸ºäº†ä¸åŒçš„ç«‹æ–¹ä½“åœ¨åœºæ™¯ä¸­ä¸å åŠ åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦å°†ç½‘æ ¼(ç‰¹å®šçš„å‡ ä½•ä½“)çš„ä½ç½®è®¾ç½®æˆä¸åŒçš„å€¼ã€‚</p></blockquote><h4 id=å…·ä½“ä»£ç çš„ä¿®æ”¹>å…·ä½“ä»£ç çš„ä¿®æ”¹<a hidden class=anchor aria-hidden=true href=#å…·ä½“ä»£ç çš„ä¿®æ”¹>#</a></h4><p>1ã€æˆ‘ä»¬å‡å®šç»§ç»­ä½¿ç”¨åŸæœ‰ç¤ºä¾‹ä¸­çš„ç«‹æ–¹ä½“ï¼Œå› æ­¤åˆ›å»ºå‡ ä½•ä½“çš„ä»£ç ä¸å˜ã€‚</p><p>2ã€ä¸ºäº†å‡¸æ˜¾ç«‹æ–¹ä½“çš„åŒºåˆ«ï¼Œæˆ‘ä»¬å°†åˆ›å»º 3 ä¸ªä¸åŒé¢œè‰²çš„æè´¨ã€‚</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- //åˆ›å»ºçº¹ç†
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- const material = new MeshBasicMaterial({ color: 0x44aa88 })
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006></span>
</span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ //åˆ›å»º 3 ä¸ªçº¹ç†
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const material1 = new MeshPhongMaterial({ color: 0x44aa88 })
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const material2 = new MeshPhongMaterial({ color: 0xc50d0d })
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const material3 = new MeshPhongMaterial({ color: 0x39b20a })
</span></span></span></code></pre></div><p>3ã€åˆ›å»º 3 ä¸ªç½‘æ ¼ï¼Œæ¯ä¸ªç½‘æ ¼çš„æ°´å¹³ä½ç½®ä¸åŒ</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- //åˆ›å»ºç½‘æ ¼
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- const cube = new Mesh(geometry, material)~~
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- scene.add(cube)
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006></span>
</span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ //åˆ›å»º 3 ä¸ªç½‘æ ¼
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const cube1 = new Mesh(geometry, material1)
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ cube1.position.x = -2
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ scene.add(cube1)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e></span>
</span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const cube2 = new Mesh(geometry, material2)
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ cube2.position.x = 0
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ scene.add(cube2)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e></span>
</span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ const cube3 = new Mesh(geometry, material3)
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ cube3.position.x = 2
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ scene.add(cube3)//å°†ç½‘æ ¼æ·»åŠ åˆ°åœºæ™¯ä¸­
</span></span></span></code></pre></div><p>4ã€ä¸ºäº†ä¾¿äºåé¢å¯¹äºä¸åŒç½‘æ ¼çš„å¾ªç¯ä¿®æ”¹ï¼Œæˆ‘ä»¬å°†åˆ›å»ºåŒ…å« 3 ä¸ªç½‘æ ¼çš„ä¸€ä¸ªæ•°ç»„</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>const cubes = [cube1, cube2, cube3]
</span></span></code></pre></div><p>5ã€ä¿®æ”¹è‡ªåŠ¨æ—‹è½¬æ¸²æŸ“åŠ¨ç”»çš„ç›¸å…³ä»£ç </p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- cube.rotation.x = time
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006>- cube.rotation.y = time
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#9d0006></span>    
</span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ //é€šè¿‡ cube.map å¾ªç¯éå†ä¿®æ”¹ç½‘æ ¼ç›¸å…³å±æ€§
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ cubes.map(cube =&gt; {
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+     cube.rotation.x = time
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+     cube.rotation.y = time
</span></span></span><span style=display:flex><span><span style=color:#282828;background-color:#79740e>+ })
</span></span></span></code></pre></div><p>6ã€ä¿å­˜å¹¶é‡æ–°æ‰§è¡Œ yarn startï¼Œè‹¥ä¸€åˆ‡æ­£å¸¸æ­¤æ—¶å°±ä¼šçœ‹åˆ° ç”»é¢ä¸­æœ‰ 3 ä¸ªä¸åŒé¢œè‰²çš„ç«‹æ–¹ä½“åŒæ—¶åœ¨åšæ—‹è½¬åŠ¨ç”»ã€‚</p><blockquote><p>ç›®å‰ 3 ä¸ªç«‹æ–¹ä½“ä»…ä»…æ˜¯é¢œè‰²å’Œä½ç½®ä¸åŒï¼Œä½ å¯ä»¥å°è¯•å°†ç«‹æ–¹ä½“è®¾ç½®ä¸ºä¸åŒçš„å°ºå¯¸ï¼Œä¸åŒçš„æ—‹è½¬é¢‘ç‡ç­‰ç­‰ï¼Œè‡ªå·±å‘æŒ¥å§ã€‚</p></blockquote><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰è‡ªå·±å¯¹ Three.js åœºæ™¯æœ‰è¿›ä¸€æ­¥æœ‰æ‰€æŒæ¡ ^_^ã€‚</p><p><strong>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥æ”¹è¿›è¿™ä¸ªç¤ºä¾‹ä»£ç ã€‚</strong></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/three.js/>Three.js</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/threejs/02-%E5%88%9D%E5%A7%8B%E5%8C%96three.js%E9%A1%B9%E7%9B%AE/><span class=title>Â« Prev</span><br><span>02 åˆå§‹åŒ–Three.jsé¡¹ç›®</span></a>
<a class=next href=https://bablvsj.github.io/posts/threejs/04-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%BA%9B%E8%87%AA%E9%80%82%E5%BA%94/><span class=title>Next Â»</span><br><span>04 æ·»åŠ ä¸€äº›è‡ªé€‚åº”</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>