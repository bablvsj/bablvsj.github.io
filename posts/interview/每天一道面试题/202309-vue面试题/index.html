<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>vueé¢è¯•é¢˜ | Bablvsj's Blog</title><meta name=keywords content="æ¯å¤©ä¸€é“é¢è¯•é¢˜,vue3"><meta name=description content="Vue å“åº”å¼ç³»ç»Ÿçš„åŸç† Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚ Observer"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/202309-vue%E9%9D%A2%E8%AF%95%E9%A2%98/><link crossorigin=anonymous href=/assets/css/stylesheet.b33b75c69bb2ec0d4accfeaad1d3ba05b272f180583f687c640a522d6492076f.css integrity="sha256-szt1xpuy7A1KzP6q0dO6BbJy8YBYP2h8ZApSLWSSB28=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=stylesheet href=/css/syntax.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="vueé¢è¯•é¢˜"><meta property="og:description" content="Vue å“åº”å¼ç³»ç»Ÿçš„åŸç† Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚ Observer"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/202309-vue%E9%9D%A2%E8%AF%95%E9%A2%98/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-21T13:46:19+08:00"><meta property="article:modified_time" content="2023-09-21T13:46:19+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="vueé¢è¯•é¢˜"><meta name=twitter:description content="Vue å“åº”å¼ç³»ç»Ÿçš„åŸç† Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚ Observer"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"vueé¢è¯•é¢˜","item":"https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/202309-vue%E9%9D%A2%E8%AF%95%E9%A2%98/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"vueé¢è¯•é¢˜","name":"vueé¢è¯•é¢˜","description":"Vue å“åº”å¼ç³»ç»Ÿçš„åŸç† Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚ Observer","keywords":["æ¯å¤©ä¸€é“é¢è¯•é¢˜","vue3"],"articleBody":"Vue å“åº”å¼ç³»ç»Ÿçš„åŸç† Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚\nObserver\nè§‚å¯Ÿè€…ã€‚Vue é€šè¿‡ Observer å¯¹æ•°æ®å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¿›è¡Œç›‘å¬ï¼Œå½“æŠŠä¸€ä¸ªæ™®é€šå¯¹è±¡ä¼ ç»™ Vue å®ä¾‹çš„ data é€‰é¡¹æ—¶ï¼ŒObserver å°†éå†å®ƒçš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ä¸ºå…¶æ·»åŠ  getter å’Œ setterã€‚getter å°†æ”¶é›†æ­¤å±æ€§æ‰€æœ‰çš„è®¢é˜…è€…ï¼Œsetter å°†åœ¨å±æ€§å‘ç”Ÿå˜åŠ¨çš„æ—¶å€™ï¼Œé‡æ–°ä¸ºæ­¤å±æ€§èµ‹å€¼ï¼Œå¹¶é€šçŸ¥è®¢é˜…è€…è°ƒç”¨å…¶å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚\nåœ¨ Vue 2 ä¸­æ˜¯é€šè¿‡ ES5 çš„ Object.defineProperty() æ–¹æ³•å®ç°ã€‚\nåœ¨ Vue 3 ä¸­æ˜¯é€šè¿‡ ES6 çš„ new Proxy() å®ç°çš„ã€‚\nCompiler\næ¨¡æ¿ç¼–è¯‘å™¨ã€‚å®ƒçš„ä½œç”¨æ˜¯å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤ v- å’Œæ¨¡æ¿è¯­æ³• {{}} è¿›è¡Œæ‰«æï¼Œæ›¿æ¢å¯¹åº”çš„çœŸå®æ•°æ®ï¼Œæˆ–ç»‘å®šç›¸åº”çš„äº‹ä»¶å‡½æ•°ã€‚\nWatcher\nå‘å¸ƒè€…/è®¢é˜…è€…ã€‚Watcher ä½œä¸ºè¿æ¥ Observer å’Œ Compiler çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ã€‚Compiler åœ¨ç¼–è¯‘æ—¶é€šè¿‡ Watcher ç»‘å®šå¯¹åº”çš„æ•°æ®æ›´æ–°å›è°ƒå‡½æ•°ï¼ŒObserver åœ¨ç›‘å¬åˆ°æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œæ­¤å›è°ƒã€‚åœ¨ Observer ä¸­ï¼ŒWatcher å°±æ˜¯è®¢é˜…è€…ï¼Œåœ¨ Compiler ä¸­ï¼ŒWatcher å°±æ˜¯å‘å¸ƒè€…ã€‚\nä¸ºä»€ä¹ˆ Vue 3.x é‡‡ç”¨äº† Proxy æŠ›å¼ƒäº† Object.defineProperty() ï¼Ÿ Proxy å¯ä»¥ä»£ç†ä»»ä½•å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°ç»„ï¼Œè€Œ Vue 2 ä¸­æ˜¯é€šè¿‡é‡å†™æ•°ç»„çš„ä»¥ä¸‹ä¸ƒç§æ–¹æ³•å®ç°çš„ã€‚\npush()ï¼ˆå°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ï¼‰ pop()ï¼ˆç§»é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ unshift()ï¼ˆå°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ï¼‰ shift()ï¼ˆç§»é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ splice()ï¼ˆåˆ é™¤æ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶è¿”å›ï¼‰ sort()ï¼ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼‰ reverse()ï¼ˆå¯¹æ•°ç»„è¿›è¡Œåè½¬ï¼‰ Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡è€Œéå±æ€§ï¼Œè€Œ Object.defineProperty() åªèƒ½å…ˆéå†å¯¹è±¡å±æ€§å†å»è¿›è¡Œç›‘å¬ã€‚ç›¸æ¯”ä¹‹ä¸‹ Proxy æ›´åŠ ç®€æ´ï¼Œæ›´åŠ é«˜æ•ˆï¼Œæ›´åŠ å®‰å…¨ã€‚\nProxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„ã€‚\nconst cat = { name: 'Tom', } const myCat = new Proxy(cat, { get(target, property) { console.log(`æˆ‘çš„ ${property} è¢«è¯»å–äº†`) return property in target ? target[property] : undefined }, set(target, property, value) { console.log(`æˆ‘çš„ ${property} è¢«è®¾ç½®æˆäº† ${value}`) target[property] = value return true }, }) myCat.name // expected output: æˆ‘è¢«è¯»å–äº†ï¼šname myCat.name = 'Kitty' // expected output: æˆ‘çš„ name è¢«è®¾ç½®æˆäº† Kitty Object.defineProperty() çš„æœ¬è´¨æ˜¯åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªç°æœ‰å±æ€§ã€‚ const cat = { name: 'Tom', } Object.defineProperty(cat, 'name', { get() { console.log(`æˆ‘è¢«è¯»å–äº†`) }, set(value) { console.log(`æˆ‘è¢«è®¾ç½®æˆäº† ${value}`) }, }) cat.name // expected output: æˆ‘è¢«è¯»å–äº† cat.name = 'Kitty' // expected output: æˆ‘è¢«è®¾ç½®æˆäº† Kitty è€Œ Proxy å¤©ç”Ÿç”¨äºä»£ç†ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæœ‰ 13 ç§åŸºæœ¬æ“ä½œçš„æ‹¦æˆªæ–¹æ³•ï¼Œæ˜¯ Object.defineProperty() ä¸å…·å¤‡çš„ã€‚\napply()ï¼ˆæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ï¼‰ construct()ï¼ˆæ‹¦æˆªæ„é€ å‡½æ•°çš„è°ƒç”¨ï¼‰ defineProperty()ï¼ˆæ‹¦æˆªå±æ€§çš„å®šä¹‰ï¼‰ deleteProperty()ï¼ˆæ‹¦æˆªå±æ€§çš„åˆ é™¤ï¼‰ get()ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼‰ getOwnPropertyDescriptor()ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„æè¿°ï¼‰ getPrototypeOf()ï¼ˆæ‹¦æˆªå¯¹è±¡çš„åŸå‹ï¼‰ has()ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„æ£€æŸ¥ï¼‰ isExtensible()ï¼ˆæ‹¦æˆªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„æ£€æŸ¥ï¼‰ ownKeys()ï¼ˆæ‹¦æˆªå¯¹è±¡çš„å±æ€§åˆ—è¡¨ï¼‰ preventExtensions()ï¼ˆæ‹¦æˆªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„è®¾ç½®ï¼‰ set()ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼‰ setPrototypeOf()ï¼ˆæ‹¦æˆªå¯¹è±¡çš„åŸå‹çš„è®¾ç½®ï¼‰ Vue 3 å¯¹ diff ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ– åœ¨ Vue 2 ä¸­ï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿ DOM æ ‘ï¼Œå¹¶å¯¹æ•´ä¸ªè™šæ‹Ÿ DOM æ ‘è¿›è¡Œé€’å½’æ¯”è¾ƒï¼Œå³ä½¿å…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹æ˜¯é™æ€çš„ï¼Œæœ€åå†æ‰¾åˆ°ä¸åŒçš„èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œæ›´æ–°ã€‚\nVue 3 å¼•å…¥äº†é™æ€æ ‡è®°çš„æ¦‚å¿µï¼Œé€šè¿‡é™æ€æ ‡è®°ï¼ŒVue 3 å¯ä»¥å°†æ¨¡æ¿ä¸­çš„é™æ€å†…å®¹å’ŒåŠ¨æ€å†…å®¹åŒºåˆ†å¼€æ¥ã€‚è¿™æ ·ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼ŒVue 3 åªä¼šå…³æ³¨åŠ¨æ€éƒ¨åˆ†çš„æ¯”è¾ƒï¼Œè€Œå¯¹äºé™æ€å†…å®¹ï¼Œå®ƒå°†è·³è¿‡æ¯”è¾ƒçš„æ­¥éª¤ï¼Œä»è€Œé¿å…äº†ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæé«˜äº†æ€§èƒ½å’Œæ•ˆç‡ã€‚\n\u003cdiv\u003e \u003cdiv\u003efoo\u003c/div\u003e \u003cdiv\u003ebar\u003c/div\u003e \u003cdiv\u003e{{ dynamic }}\u003c/div\u003e \u003c/div\u003e æ‰‹å†™ä»£ç  æ‰‹å†™å®ç°åŒå‘ç»‘å®š Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿv-model çš„åŸç†ï¼Ÿ Vue ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ v-model æŒ‡ä»¤ä»¥å®ç°åŒå‘ç»‘å®šã€‚\nv-model æ˜¯ vue çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒç”¨äºç›‘å¬æ•°æ®çš„æ”¹å˜å¹¶å°†æ•°æ®æ›´æ–°ã€‚ä»¥ input å…ƒç´ ä¸ºä¾‹ï¼š\n\u003ctemplate\u003e \u003cdiv\u003e \u003cinput type=\"text\" :value=\"message\" @input=\"updateMessage($event.target.value)\"\u003e {{ message }} \u003c/div\u003e \u003c/template\u003e \u003cscript\u003e export default { data() { return { message: '' }; }, methods: { updateMessage(value) { this.message = value; } } }; \u003c/script\u003e å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç° v-model ï¼Ÿ // çˆ¶ç»„ä»¶ \u003cFather v-model=\"message\" /\u003e // ç­‰ä»·äº \u003cFather :value=\"messge\" @input=\"message=$event.target.value\" /\u003e // å­ç»„ä»¶ \u003cinput :value=\"messgae\" @input=\"onMessage\" /\u003e \u003cscript\u003e // vue2 props:{ value: message } const onMessage = (e) =\u003e { $emit('input', e.target.value); } //vue3, ç»„åˆå¼ API å®ç°Â `v-model`ï¼Œéœ€è¦å®šä¹‰Â `modelValue`Â å‚æ•°ï¼Œå’ŒÂ `emits`Â æ–¹æ³• defineProps({ modelValue: { type: String, default: '' }, }) const emits = defineEmits(['update:modelValue']) function onInput(val) { emits('update:modelValue', val) } \u003c/script\u003e ","wordCount":"1749","inLanguage":"en","datePublished":"2023-09-21T13:46:19+08:00","dateModified":"2023-09-21T13:46:19+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/202309-vue%E9%9D%A2%E8%AF%95%E9%A2%98/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>vueé¢è¯•é¢˜</h1><div class=post-meta><div class=post-tags-meta><a href=https://bablvsj.github.io/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/>æ¯å¤©ä¸€é“é¢è¯•é¢˜</a>
<a href=https://bablvsj.github.io/tags/vue3/>Â· Vue3</a></div>4 min&nbsp;Â·&nbsp;<span title='2023-09-21 13:46:19 +0800 +0800'>2023/09/21</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><ul><li><a href=#vue-%e5%93%8d%e5%ba%94%e5%bc%8f%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%8e%9f%e7%90%86 aria-label="Vue å“åº”å¼ç³»ç»Ÿçš„åŸç†">Vue å“åº”å¼ç³»ç»Ÿçš„åŸç†</a></li><li><a href=#%e4%b8%ba%e4%bb%80%e4%b9%88-vue-3x-%e9%87%87%e7%94%a8%e4%ba%86-proxy-%e6%8a%9b%e5%bc%83%e4%ba%86-objectdefineproperty- aria-label="ä¸ºä»€ä¹ˆ Vue 3.x é‡‡ç”¨äº† Proxy æŠ›å¼ƒäº† Object.defineProperty() ï¼Ÿ">ä¸ºä»€ä¹ˆ Vue 3.x é‡‡ç”¨äº† Proxy æŠ›å¼ƒäº† <code>Object.defineProperty()</code> ï¼Ÿ</a></li><li><a href=#vue-3-%e5%af%b9-diff-%e7%ae%97%e6%b3%95%e8%bf%9b%e8%a1%8c%e4%ba%86%e5%93%aa%e4%ba%9b%e4%bc%98%e5%8c%96 aria-label="Vue 3 å¯¹ diff ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–">Vue 3 å¯¹ diff ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–</a></li></ul><li><a href=#%e6%89%8b%e5%86%99%e4%bb%a3%e7%a0%81 aria-label=æ‰‹å†™ä»£ç >æ‰‹å†™ä»£ç </a><ul><li><a href=#%e6%89%8b%e5%86%99%e5%ae%9e%e7%8e%b0%e5%8f%8c%e5%90%91%e7%bb%91%e5%ae%9a aria-label=æ‰‹å†™å®ç°åŒå‘ç»‘å®š>æ‰‹å†™å®ç°åŒå‘ç»‘å®š</a><ul><li><a href=#vue-%e6%98%af%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e6%95%b0%e6%8d%ae%e5%8f%8c%e5%90%91%e7%bb%91%e5%ae%9a%e7%9a%84v-model-%e7%9a%84%e5%8e%9f%e7%90%86 aria-label="Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿv-model çš„åŸç†ï¼Ÿ">Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿv-model çš„åŸç†ï¼Ÿ</a></li><li><a href=#%e5%a6%82%e4%bd%95%e5%9c%a8%e7%bb%84%e4%bb%b6%e4%b8%ad%e5%ae%9e%e7%8e%b0-v-model- aria-label="å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç° v-model ï¼Ÿ">å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç° v-model ï¼Ÿ</a></li></ul></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h4 id=vue-å“åº”å¼ç³»ç»Ÿçš„åŸç†>Vue å“åº”å¼ç³»ç»Ÿçš„åŸç†<a hidden class=anchor aria-hidden=true href=#vue-å“åº”å¼ç³»ç»Ÿçš„åŸç†>#</a></h4><p>Vue å®ç°å“åº”å¼ä¸»è¦æ˜¯é‡‡ç”¨<strong>æ•°æ®åŠ«æŒ</strong>ç»“åˆ<strong>å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼</strong>çš„æ–¹å¼ã€‚å…·ä½“å®ç°å°±æ˜¯æ•´åˆ Observerï¼ŒCompiler å’Œ Watcher ä¸‰è€…ã€‚</p><ul><li><p>Observer</p><p>è§‚å¯Ÿè€…ã€‚Vue é€šè¿‡ Observer å¯¹æ•°æ®å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¿›è¡Œç›‘å¬ï¼Œå½“æŠŠä¸€ä¸ªæ™®é€šå¯¹è±¡ä¼ ç»™ Vue å®ä¾‹çš„ <code>data</code> é€‰é¡¹æ—¶ï¼ŒObserver å°†éå†å®ƒçš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ä¸ºå…¶æ·»åŠ  <code>getter</code> å’Œ <code>setter</code>ã€‚<code>getter</code> å°†æ”¶é›†æ­¤å±æ€§æ‰€æœ‰çš„è®¢é˜…è€…ï¼Œ<code>setter</code> å°†åœ¨å±æ€§å‘ç”Ÿå˜åŠ¨çš„æ—¶å€™ï¼Œé‡æ–°ä¸ºæ­¤å±æ€§èµ‹å€¼ï¼Œå¹¶é€šçŸ¥è®¢é˜…è€…è°ƒç”¨å…¶å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚</p><p>åœ¨ Vue 2 ä¸­æ˜¯é€šè¿‡ ES5 çš„ <code>Object.defineProperty()</code> æ–¹æ³•å®ç°ã€‚</p><p>åœ¨ Vue 3 ä¸­æ˜¯é€šè¿‡ ES6 çš„ <code>new Proxy()</code> å®ç°çš„ã€‚</p></li><li><p>Compiler</p><p>æ¨¡æ¿ç¼–è¯‘å™¨ã€‚å®ƒçš„ä½œç”¨æ˜¯å¯¹æ¯ä¸ªå…ƒç´ èŠ‚ç‚¹çš„æŒ‡ä»¤ <code>v-</code> å’Œæ¨¡æ¿è¯­æ³• <code>{{}}</code> è¿›è¡Œæ‰«æï¼Œæ›¿æ¢å¯¹åº”çš„çœŸå®æ•°æ®ï¼Œæˆ–ç»‘å®šç›¸åº”çš„äº‹ä»¶å‡½æ•°ã€‚</p></li><li><p>Watcher</p><p>å‘å¸ƒè€…/è®¢é˜…è€…ã€‚Watcher ä½œä¸ºè¿æ¥ Observer å’Œ Compiler çš„æ¡¥æ¢ï¼Œèƒ½å¤Ÿè®¢é˜…å¹¶æ”¶åˆ°æ¯ä¸ªå±æ€§å˜åŠ¨çš„é€šçŸ¥ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ã€‚Compiler åœ¨ç¼–è¯‘æ—¶é€šè¿‡ Watcher ç»‘å®šå¯¹åº”çš„æ•°æ®æ›´æ–°å›è°ƒå‡½æ•°ï¼ŒObserver åœ¨ç›‘å¬åˆ°æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œæ­¤å›è°ƒã€‚åœ¨ Observer ä¸­ï¼ŒWatcher å°±æ˜¯è®¢é˜…è€…ï¼Œåœ¨ Compiler ä¸­ï¼ŒWatcher å°±æ˜¯å‘å¸ƒè€…ã€‚</p></li></ul><h4 id=ä¸ºä»€ä¹ˆ-vue-3x-é‡‡ç”¨äº†-proxy-æŠ›å¼ƒäº†-objectdefineproperty->ä¸ºä»€ä¹ˆ Vue 3.x é‡‡ç”¨äº† Proxy æŠ›å¼ƒäº† <code>Object.defineProperty()</code> ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#ä¸ºä»€ä¹ˆ-vue-3x-é‡‡ç”¨äº†-proxy-æŠ›å¼ƒäº†-objectdefineproperty->#</a></h4><ul><li><p>Proxy å¯ä»¥ä»£ç†ä»»ä½•å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°ç»„ï¼Œè€Œ Vue 2 ä¸­æ˜¯é€šè¿‡é‡å†™æ•°ç»„çš„ä»¥ä¸‹ä¸ƒç§æ–¹æ³•å®ç°çš„ã€‚</p><ul><li><code>push()</code>ï¼ˆå°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ï¼‰</li><li><code>pop()</code>ï¼ˆç§»é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰</li><li><code>unshift()</code>ï¼ˆå°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ï¼‰</li><li><code>shift()</code>ï¼ˆç§»é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰</li><li><code>splice()</code>ï¼ˆåˆ é™¤æ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶è¿”å›ï¼‰</li><li><code>sort()</code>ï¼ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼‰</li><li><code>reverse()</code>ï¼ˆå¯¹æ•°ç»„è¿›è¡Œåè½¬ï¼‰</li></ul></li><li><p>Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•´ä¸ªå¯¹è±¡è€Œéå±æ€§ï¼Œè€Œ <code>Object.defineProperty()</code> åªèƒ½å…ˆéå†å¯¹è±¡å±æ€§å†å»è¿›è¡Œç›‘å¬ã€‚ç›¸æ¯”ä¹‹ä¸‹ Proxy æ›´åŠ ç®€æ´ï¼Œæ›´åŠ é«˜æ•ˆï¼Œæ›´åŠ å®‰å…¨ã€‚</p></li><li><p>Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„ã€‚</p></li></ul><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#af3a03>const</span> cat <span style=color:#af3a03>=</span> {
</span></span><span style=display:flex><span>  name<span style=color:#af3a03>:</span> <span style=color:#79740e>&#39;Tom&#39;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>const</span> myCat <span style=color:#af3a03>=</span> <span style=color:#af3a03>new</span> <span style=color:#b57614>Proxy</span>(cat, {
</span></span><span style=display:flex><span>  get(target, property) {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>`æˆ‘çš„ </span><span style=color:#79740e>${</span>property<span style=color:#79740e>}</span><span style=color:#79740e> è¢«è¯»å–äº†`</span>)
</span></span><span style=display:flex><span>    <span style=color:#af3a03>return</span> property <span style=color:#af3a03>in</span> target <span style=color:#af3a03>?</span> target[property] <span style=color:#af3a03>:</span> <span style=color:#af3a03>undefined</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  set(target, property, value) {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>`æˆ‘çš„ </span><span style=color:#79740e>${</span>property<span style=color:#79740e>}</span><span style=color:#79740e> è¢«è®¾ç½®æˆäº† </span><span style=color:#79740e>${</span>value<span style=color:#79740e>}</span><span style=color:#79740e>`</span>)
</span></span><span style=display:flex><span>    target[property] <span style=color:#af3a03>=</span> value
</span></span><span style=display:flex><span>    <span style=color:#af3a03>return</span> <span style=color:#af3a03>true</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>myCat.name <span style=color:#928374;font-style:italic>// expected output: æˆ‘è¢«è¯»å–äº†ï¼šname
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>myCat.name <span style=color:#af3a03>=</span> <span style=color:#79740e>&#39;Kitty&#39;</span> <span style=color:#928374;font-style:italic>// expected output: æˆ‘çš„ name è¢«è®¾ç½®æˆäº† Kitty
</span></span></span></code></pre></div><ul><li><code>Object.defineProperty()</code> çš„æœ¬è´¨æ˜¯åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªç°æœ‰å±æ€§ã€‚</li></ul><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#af3a03>const</span> cat <span style=color:#af3a03>=</span> {
</span></span><span style=display:flex><span>  name<span style=color:#af3a03>:</span> <span style=color:#79740e>&#39;Tom&#39;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b57614>Object</span>.defineProperty(cat, <span style=color:#79740e>&#39;name&#39;</span>, {
</span></span><span style=display:flex><span>  get() {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>`æˆ‘è¢«è¯»å–äº†`</span>)
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  set(value) {
</span></span><span style=display:flex><span>    console.log(<span style=color:#79740e>`æˆ‘è¢«è®¾ç½®æˆäº† </span><span style=color:#79740e>${</span>value<span style=color:#79740e>}</span><span style=color:#79740e>`</span>)
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat.name <span style=color:#928374;font-style:italic>// expected output: æˆ‘è¢«è¯»å–äº†
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>cat.name <span style=color:#af3a03>=</span> <span style=color:#79740e>&#39;Kitty&#39;</span> <span style=color:#928374;font-style:italic>// expected output: æˆ‘è¢«è®¾ç½®æˆäº† Kitty
</span></span></span></code></pre></div><ul><li><p>è€Œ Proxy å¤©ç”Ÿç”¨äºä»£ç†ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæœ‰ 13 ç§åŸºæœ¬æ“ä½œçš„æ‹¦æˆªæ–¹æ³•ï¼Œæ˜¯ <code>Object.defineProperty()</code> ä¸å…·å¤‡çš„ã€‚</p><ul><li><code>apply()</code>ï¼ˆæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ï¼‰</li><li><code>construct()</code>ï¼ˆæ‹¦æˆªæ„é€ å‡½æ•°çš„è°ƒç”¨ï¼‰</li><li><code>defineProperty()</code>ï¼ˆæ‹¦æˆªå±æ€§çš„å®šä¹‰ï¼‰</li><li><code>deleteProperty()</code>ï¼ˆæ‹¦æˆªå±æ€§çš„åˆ é™¤ï¼‰</li><li><code>get()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼‰</li><li><code>getOwnPropertyDescriptor()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„æè¿°ï¼‰</li><li><code>getPrototypeOf()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡çš„åŸå‹ï¼‰</li><li><code>has()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„æ£€æŸ¥ï¼‰</li><li><code>isExtensible()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„æ£€æŸ¥ï¼‰</li><li><code>ownKeys()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡çš„å±æ€§åˆ—è¡¨ï¼‰</li><li><code>preventExtensions()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„è®¾ç½®ï¼‰</li><li><code>set()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼‰</li><li><code>setPrototypeOf()</code>ï¼ˆæ‹¦æˆªå¯¹è±¡çš„åŸå‹çš„è®¾ç½®ï¼‰</li></ul></li></ul><h4 id=vue-3-å¯¹-diff-ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–>Vue 3 å¯¹ diff ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–<a hidden class=anchor aria-hidden=true href=#vue-3-å¯¹-diff-ç®—æ³•è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–>#</a></h4><p>åœ¨ Vue 2 ä¸­ï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿ DOM æ ‘ï¼Œå¹¶å¯¹æ•´ä¸ªè™šæ‹Ÿ DOM æ ‘è¿›è¡Œé€’å½’æ¯”è¾ƒï¼Œå³ä½¿å…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹æ˜¯é™æ€çš„ï¼Œæœ€åå†æ‰¾åˆ°ä¸åŒçš„èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œæ›´æ–°ã€‚</p><p>Vue 3 å¼•å…¥äº†<strong>é™æ€æ ‡è®°</strong>çš„æ¦‚å¿µï¼Œé€šè¿‡é™æ€æ ‡è®°ï¼ŒVue 3 å¯ä»¥å°†æ¨¡æ¿ä¸­çš„é™æ€å†…å®¹å’ŒåŠ¨æ€å†…å®¹åŒºåˆ†å¼€æ¥ã€‚è¿™æ ·ï¼Œåœ¨æ›´æ–°è¿‡ç¨‹ä¸­ï¼ŒVue 3 åªä¼šå…³æ³¨åŠ¨æ€éƒ¨åˆ†çš„æ¯”è¾ƒï¼Œè€Œå¯¹äºé™æ€å†…å®¹ï¼Œå®ƒå°†è·³è¿‡æ¯”è¾ƒçš„æ­¥éª¤ï¼Œä»è€Œé¿å…äº†ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæé«˜äº†æ€§èƒ½å’Œæ•ˆç‡ã€‚</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#928374;font-style:italic>&lt;!-- éœ€é™æ€æå‡ --&gt;</span>
</span></span><span style=display:flex><span>  &lt;<span style=color:#9d0006>div</span>&gt;foo&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#928374;font-style:italic>&lt;!-- éœ€é™æ€æå‡ --&gt;</span>
</span></span><span style=display:flex><span>  &lt;<span style=color:#9d0006>div</span>&gt;bar&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#9d0006>div</span>&gt;{{ dynamic }}&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>div</span>&gt;
</span></span></code></pre></div><h3 id=æ‰‹å†™ä»£ç >æ‰‹å†™ä»£ç <a hidden class=anchor aria-hidden=true href=#æ‰‹å†™ä»£ç >#</a></h3><h4 id=æ‰‹å†™å®ç°åŒå‘ç»‘å®š>æ‰‹å†™å®ç°åŒå‘ç»‘å®š<a hidden class=anchor aria-hidden=true href=#æ‰‹å†™å®ç°åŒå‘ç»‘å®š>#</a></h4><h5 id=vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„v-model-çš„åŸç†>Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿv-model çš„åŸç†ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#vue-æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„v-model-çš„åŸç†>#</a></h5><p>Vue ç»„ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>v-model</code> æŒ‡ä»¤ä»¥å®ç°åŒå‘ç»‘å®šã€‚</p><p><code>v-model</code> æ˜¯ vue çš„ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒç”¨äºç›‘å¬æ•°æ®çš„æ”¹å˜å¹¶å°†æ•°æ®æ›´æ–°ã€‚ä»¥ input å…ƒç´ ä¸ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#9d0006>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#9d0006>input</span> <span style=color:#79740e;font-weight:700>type</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;text&#34;</span> <span style=color:#79740e;font-weight:700>:value</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;message&#34;</span> @<span style=color:#79740e;font-weight:700>input</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;updateMessage($event.target.value)&#34;</span>&gt;
</span></span><span style=display:flex><span>    {{ message }}
</span></span><span style=display:flex><span>  &lt;/<span style=color:#9d0006>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>template</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#af3a03>export</span> <span style=color:#af3a03>default</span> {
</span></span><span style=display:flex><span>  data() {
</span></span><span style=display:flex><span>    <span style=color:#af3a03>return</span> {
</span></span><span style=display:flex><span>      message<span style=color:#af3a03>:</span> <span style=color:#79740e>&#39;&#39;</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  methods<span style=color:#af3a03>:</span> {
</span></span><span style=display:flex><span>    updateMessage(value) {
</span></span><span style=display:flex><span>      <span style=color:#af3a03>this</span>.message <span style=color:#af3a03>=</span> value;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span></code></pre></div><h5 id=å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç°-v-model->å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç° v-model ï¼Ÿ<a hidden class=anchor aria-hidden=true href=#å¦‚ä½•åœ¨ç»„ä»¶ä¸­å®ç°-v-model->#</a></h5><div class=highlight><pre tabindex=0 style=color:#3c3836;background-color:#fbf1c7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>// çˆ¶ç»„ä»¶
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>Father</span> <span style=color:#79740e;font-weight:700>v-model</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;message&#34;</span> /&gt;
</span></span><span style=display:flex><span>// ç­‰ä»·äº
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>Father</span> <span style=color:#79740e;font-weight:700>:value</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;messge&#34;</span> @<span style=color:#79740e;font-weight:700>input</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;message=$event.target.value&#34;</span> /&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// å­ç»„ä»¶
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>input</span> <span style=color:#79740e;font-weight:700>:value</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;messgae&#34;</span> @<span style=color:#79740e;font-weight:700>input</span><span style=color:#af3a03>=</span><span style=color:#79740e>&#34;onMessage&#34;</span> /&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#9d0006>script</span>&gt;
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// vue2 
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>props<span style=color:#af3a03>:</span>{
</span></span><span style=display:flex><span>    value<span style=color:#af3a03>:</span> message
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#af3a03>const</span> onMessage <span style=color:#af3a03>=</span> (e) =&gt; {
</span></span><span style=display:flex><span>    $emit(<span style=color:#79740e>&#39;input&#39;</span>, e.target.value);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>//vue3, ç»„åˆå¼ API å®ç°Â `v-model`ï¼Œéœ€è¦å®šä¹‰Â `modelValue`Â å‚æ•°ï¼Œå’ŒÂ `emits`Â æ–¹æ³•
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span>defineProps({
</span></span><span style=display:flex><span>  modelValue<span style=color:#af3a03>:</span> { type<span style=color:#af3a03>:</span> <span style=color:#b57614>String</span>, <span style=color:#af3a03>default</span><span style=color:#af3a03>:</span> <span style=color:#79740e>&#39;&#39;</span> },
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>const</span> emits <span style=color:#af3a03>=</span> defineEmits([<span style=color:#79740e>&#39;update:modelValue&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#af3a03>function</span> onInput(val) {
</span></span><span style=display:flex><span>  emits(<span style=color:#79740e>&#39;update:modelValue&#39;</span>, val)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#9d0006>script</span>&gt;
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/>æ¯å¤©ä¸€é“é¢è¯•é¢˜</a></li><li><a href=https://bablvsj.github.io/tags/vue3/>Vue3</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/exams/java/><span class=title>Â« Prev</span><br><span>Java</span></a>
<a class=next href=https://bablvsj.github.io/posts/exams/sql%E4%B9%8B%E6%AF%8D/><span class=title>Next Â»</span><br><span>SQLä¹‹æ¯</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>