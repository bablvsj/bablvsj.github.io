<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JSåŸºç¡€ | Bablvsj's Blog</title><meta name=keywords content="æ¯å¤©ä¸€é“é¢è¯•é¢˜"><meta name=description content="1.åˆ¤æ–­æ•°æ®ç±»å‹ **typeof 1 2 3 4 5 6 7 8 9 10 typeof 'seymoe' // 'string' typeof true // 'boolean' typeof 10 // 'number' typeof Symbol() // 'symbol' typeof null // 'object' `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null ` typeof undefined // 'undefined' typeof {} // 'object' typeof [] // 'object' typeof(() => {}) // 'function' å¼Šç«¯ï¼š null"><meta name=author content="Lvsj"><link rel=canonical href=https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/js%E5%9F%BA%E7%A1%80/><link crossorigin=anonymous href=/assets/css/stylesheet.26af23b8b1c472aadb220beab8420315b9b18975751422bfb4256bd5bcdce878.css integrity="sha256-Jq8juLHEcqrbIgvquEIDFbmxiXV1FCK/tCVr1bzc6Hg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="JSåŸºç¡€"><meta property="og:description" content="1.åˆ¤æ–­æ•°æ®ç±»å‹ **typeof 1 2 3 4 5 6 7 8 9 10 typeof 'seymoe' // 'string' typeof true // 'boolean' typeof 10 // 'number' typeof Symbol() // 'symbol' typeof null // 'object' `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null ` typeof undefined // 'undefined' typeof {} // 'object' typeof [] // 'object' typeof(() => {}) // 'function' å¼Šç«¯ï¼š null"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/js%E5%9F%BA%E7%A1%80/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-16T13:46:19+08:00"><meta property="article:modified_time" content="2023-08-16T13:46:19+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="JSåŸºç¡€"><meta name=twitter:description content="1.åˆ¤æ–­æ•°æ®ç±»å‹ **typeof 1 2 3 4 5 6 7 8 9 10 typeof 'seymoe' // 'string' typeof true // 'boolean' typeof 10 // 'number' typeof Symbol() // 'symbol' typeof null // 'object' `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null ` typeof undefined // 'undefined' typeof {} // 'object' typeof [] // 'object' typeof(() => {}) // 'function' å¼Šç«¯ï¼š null"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"æ–‡ç« ","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"JSåŸºç¡€","item":"https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/js%E5%9F%BA%E7%A1%80/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JSåŸºç¡€","name":"JSåŸºç¡€","description":"1.åˆ¤æ–­æ•°æ®ç±»å‹ **typeof 1 2 3 4 5 6 7 8 9 10 typeof \u0026#39;seymoe\u0026#39; // \u0026#39;string\u0026#39; typeof true // \u0026#39;boolean\u0026#39; typeof 10 // \u0026#39;number\u0026#39; typeof Symbol() // \u0026#39;symbol\u0026#39; typeof null // \u0026#39;object\u0026#39; `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null ` typeof undefined // \u0026#39;undefined\u0026#39; typeof {} // \u0026#39;object\u0026#39; typeof [] // \u0026#39;object\u0026#39; typeof(() =\u0026gt; {}) // \u0026#39;function\u0026#39; å¼Šç«¯ï¼š null","keywords":["æ¯å¤©ä¸€é“é¢è¯•é¢˜"],"articleBody":"1.åˆ¤æ–­æ•°æ®ç±»å‹ **typeof\n1 2 3 4 5 6 7 8 9 10 typeof 'seymoe' // 'string' typeof true // 'boolean' typeof 10 // 'number' typeof Symbol() // 'symbol' typeof null // 'object' `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null ` typeof undefined // 'undefined' typeof {} // 'object' typeof [] // 'object' typeof(() =\u003e {}) // 'function' å¼Šç«¯ï¼š\nnullÂ çš„åˆ¤å®šæœ‰è¯¯å·® æ•°ç»„ã€å¯¹è±¡éƒ½åˆ¤å®šä¸º object **instanceof\n1 2 3 4 5 6 7 8 9 10 {} instanceof Object //true [] instanceof Array //true (()=\u003e{}) instanceof Function //true `instanceof ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„` let arr = [] let obj = {} arr instanceof Array // true arr instanceof Object // true obj instanceof Object // true **Object.prototype.toString()Â å¯ä»¥è¯´æ˜¯åˆ¤å®šÂ JavaScriptÂ ä¸­æ•°æ®ç±»å‹çš„ç»ˆæè§£å†³æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Object.prototype.toString.call({}) // '[object Object]' Object.prototype.toString.call([]) // '[object Array]' Object.prototype.toString.call(() =\u003e {}) // '[object Function]' Object.prototype.toString.call('seymoe') // '[object String]' Object.prototype.toString.call(1) // '[object Number]' Object.prototype.toString.call(true) // '[object Boolean]' Object.prototype.toString.call(Symbol()) // '[object Symbol]' Object.prototype.toString.call(null) // '[object Null]' Object.prototype.toString.call(undefined) // '[object Undefined]' Object.prototype.toString.call(new Date()) // '[object Date]' Object.prototype.toString.call(Math) // '[object Math]' Object.prototype.toString.call(new Set()) // '[object Set]' Object.prototype.toString.call(new WeakSet()) // '[object WeakSet]' Object.prototype.toString.call(new Map()) // '[object Map]' Object.prototype.toString.call(new WeakMap()) // '[object WeakMap]' 2.toStringå’ŒStringçš„åŒºåˆ« toString()å¯ä»¥å°†æ•°æ®éƒ½è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯nullå’Œundefinedä¸å¯ä»¥è½¬æ¢ã€‚\n1 2 console.log(null.toString()) //æŠ¥é”™ TypeError: Cannot read property 'toString' of null console.log(undefined.toString())//æŠ¥é”™ TypeError: Cannot read property 'toString' of undefined toString()æ‹¬å·ä¸­å¯ä»¥å†™æ•°å­—ï¼Œä»£è¡¨è¿›åˆ¶\n1 2 3 4 äºŒè¿›åˆ¶ï¼š.toString(2); å…«è¿›åˆ¶ï¼š.toString(8); åè¿›åˆ¶ï¼š.toString(10); åå…­è¿›åˆ¶ï¼š.toString(16); String()å¯ä»¥å°†nullå’Œundefinedè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ²¡æ³•è½¬è¿›åˆ¶å­—ç¬¦ä¸²\n1 2 console.log(String(null));// null console.log(String(undefined));// undefined 3.JS é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜ é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°\nå½¢æˆé—­åŒ…çš„åŸå›  å†…éƒ¨çš„å‡½æ•°å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨å°±ä¼šå¯¼è‡´é—­åŒ…ã€‚\n1 2 3 4 5 6 7 8 9 var a = 0 function foo(){ var b =14 function fo(){ console.log(a, b) } fo() } foo() å˜é‡æå‡ é—®é¢˜ï¼šè¯´ä¸€ä¸‹ä½ å¯¹JavaScriptå˜é‡æå‡çš„ç†è§£ã€‚\nå®šä¹‰ï¼š\nåœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå£°æ˜å˜é‡ï¼Œä¼šæŠŠè¯¥å˜é‡æå‡åˆ°å‡½æ•°ä½“çš„æœ€é¡¶ç«¯ã€‚æ³¨æ„ï¼šåªæå‡å˜é‡å£°æ˜ï¼Œä¸èµ‹å€¼ã€‚\nä»£ç 1ï¼š\n1 2 3 4 5 fn(); function fn() { var x = 1; var y = 2; } ä¸Šæ–¹ä»£ç ä¸­ï¼š\nï¼ˆ1ï¼‰ç»™fnåˆ›å»ºå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œæ‰¾åˆ°fnä¸­æ‰€æœ‰ç”¨varå£°æ˜çš„å˜é‡ï¼ˆå³xå’Œyï¼‰ï¼› ï¼ˆ2ï¼‰å°†è¿™äº›å˜é‡åˆå§‹åŒ–ä¸ºundefinedï¼› ï¼ˆ3ï¼‰å°†xèµ‹å€¼ä¸º1ï¼Œå°†yèµ‹å€¼ä¸º2ã€‚\nä»£ç 2ï¼š\n1 2 3 4 fn2(); function fn2() { console.log(2); } ä¸Šæ–¹ä»£ç ä¸­ï¼š\nï¼ˆ1ï¼‰åˆ›å»ºå…¨å±€ä¸Šä¸‹æ–‡ï¼Œæ‰¾åˆ°æ‰€æœ‰ç”¨functionå£°æ˜çš„å˜é‡ï¼Œåœ¨ç¯å¢ƒä¸­â€œåˆ›å»ºâ€è¿™äº›å˜é‡ã€‚ ï¼ˆ2ï¼‰å°†è¿™äº›å˜é‡åˆå§‹åŒ–ï¼Œå¹¶èµ‹å€¼ä¸º function(){ console.log(2) }ï¼ˆå¹¶ä¸æ˜¯undefinedï¼‰ ï¼ˆ3ï¼‰å¼€å§‹æ‰§è¡Œä»£ç fn2();\nä»£ç 3ï¼šï¼ˆletçš„å‡ºç°ï¼‰\n1 2 3 4 { let x = 1 x = 2 } ä¸Šæ–¹ä»£ç ä¸­ï¼š\nï¼ˆ1ï¼‰æ‰¾åˆ°æ‰€æœ‰ç”¨ let å£°æ˜çš„å˜é‡ï¼Œåœ¨ç¯å¢ƒä¸­ã€Œåˆ›å»ºã€è¿™äº›å˜é‡ ï¼ˆ2ï¼‰å¼€å§‹æ‰§è¡Œä»£ç ï¼ˆæ³¨æ„ç°åœ¨è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼‰ ï¼ˆ3ï¼‰æ‰§è¡Œ x = 1ï¼Œå°† x ã€Œåˆå§‹åŒ–ã€ä¸º 1ï¼ˆè¿™å¹¶ä¸æ˜¯ä¸€æ¬¡èµ‹å€¼ï¼Œå¦‚æœä»£ç æ˜¯ let xï¼Œå°±å°† x åˆå§‹åŒ–ä¸º undefinedï¼‰ ï¼ˆ4ï¼‰æ‰§è¡Œ x = 2ï¼Œå¯¹ x è¿›è¡Œã€Œèµ‹å€¼ã€\nä»£ç 4ï¼š\n1 2 3 4 5 let x = 'global' { console.log(x) // Uncaught ReferenceError: x is not defined let x = 1 } åŸå› æœ‰ä¸¤ä¸ªï¼š\nconsole.log(x) ä¸­çš„ x æŒ‡çš„æ˜¯ä¸‹é¢çš„ xï¼Œè€Œä¸æ˜¯å…¨å±€çš„ x\næ‰§è¡Œ log æ—¶ x è¿˜æ²¡ã€Œåˆå§‹åŒ–ã€ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„æš‚æ—¶æ­»åŒºï¼‰\nçœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥æ˜ç™½äº† let åˆ°åº•æœ‰æ²¡æœ‰æå‡ï¼š\nlet çš„ã€Œåˆ›å»ºã€è¿‡ç¨‹è¢«æå‡äº†ï¼Œä½†æ˜¯åˆå§‹åŒ–æ²¡æœ‰æå‡ã€‚\nvar çš„ã€Œåˆ›å»ºã€å’Œã€Œåˆå§‹åŒ–ã€éƒ½è¢«æå‡äº†ã€‚\nfunction çš„ã€Œåˆ›å»ºã€ã€Œåˆå§‹åŒ–ã€å’Œã€Œèµ‹å€¼ã€éƒ½è¢«æå‡äº†ã€‚\nå‚è€ƒé“¾æ¥ï¼š\næˆ‘ç”¨äº†ä¸¤ä¸ªæœˆçš„æ—¶é—´æ‰ç†è§£ let this é—®é¢˜ï¼šä¸‹æ–¹ä»£ç çš„æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ\n1 2 3 4 5 6 7 8 9 10 11 12 function A() { this.name = 'smyhvae'; } A.prototype.test = function () { setTimeout(function () { console.log(this.name); }, 1) } var a = new A(); a.test(); æ‰“å°ç»“æœæ˜¯window.nameï¼Œä½†å®é™…çš„ç»“æœæ˜¯ç©ºçš„ã€‚\næ€»ç»“1ï¼šthisæ°¸è¿œæŒ‡å‘å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°è¢«åˆ›å»ºæ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚å³ï¼šè°è°ƒç”¨ï¼ŒæŒ‡å‘è°ã€‚\nä¸¾ä¾‹ï¼š\n1 2 3 4 5 6 7 8 var name = 'å…¨å±€'; function getName() { var name = 'å±€éƒ¨'; return this.name; }; alert(getName()); ä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœæ˜¯ï¼šå…¨å±€ã€‚\nåˆ†æï¼šgetName()è¿™ä¸ªå‡½æ•°å…¶å®æ˜¯windowè°ƒç”¨çš„ï¼Œæ‰€ä»¥thisæŒ‡å‘çš„windowï¼Œå› ä¸ºå¤–éƒ¨æœ‰nameè¿™ä¸ªå˜é‡ï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸ºå…¨å±€ã€‚\næ€»ç»“2ï¼šæ²¡æœ‰æ˜ç¡®çš„å½“å‰å¯¹è±¡æ—¶ï¼Œthisæ°¸è¿œæŒ‡å‘windowã€‚è¿™ä¸ªåœ¨setTimeouté‡Œæ¯”è¾ƒå¸¸è§ã€‚\nJS çš„ new æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ… new æ“ä½œç¬¦æ–°å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeï¼Œæ‰§è¡Œæ„é€ å‡½æ•°åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚\nJS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ å¿…è¦æ€§ï¼šç”±äºå­—ç¬¦ä¸²ã€å¯¹è±¡å’Œæ•°ç»„æ²¡æœ‰å›ºå®šå¤§å°ï¼Œæ‰€æœ‰å½“ä»–ä»¬çš„å¤§å°å·²çŸ¥æ—¶ï¼Œæ‰èƒ½å¯¹ä»–ä»¬è¿›è¡ŒåŠ¨æ€çš„å­˜å‚¨åˆ†é…ã€‚JavaScript ç¨‹åºæ¯æ¬¡åˆ›å»ºå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–å¯¹è±¡æ—¶ï¼Œè§£é‡Šå™¨éƒ½å¿… é¡»åˆ†é…å†…å­˜æ¥å­˜å‚¨é‚£ä¸ªå®ä½“ã€‚åªè¦åƒè¿™æ ·åŠ¨æ€åœ°åˆ†é…äº†å†…å­˜ï¼Œæœ€ç»ˆéƒ½è¦é‡Šæ”¾è¿™äº›å†…å­˜ä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿè¢«å†ç”¨ï¼Œå¦åˆ™ï¼ŒJavaScript çš„è§£é‡Šå™¨å°†ä¼šæ¶ˆè€—å®Œç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„å†…å­˜ï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚\nè¿™æ®µè¯è§£é‡Šäº†ä¸ºä»€ä¹ˆéœ€è¦ç³»ç»Ÿéœ€è¦åƒåœ¾å›æ”¶ï¼ŒJS ä¸åƒ C/C++ï¼Œä»–æœ‰è‡ªå·±çš„ä¸€å¥—åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰ã€‚JavaScript çš„è§£é‡Šå™¨å¯ä»¥æ£€æµ‹åˆ°ä½•æ—¶ç¨‹åºä¸å†ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡äº†ï¼Œå½“ä»–ç¡®å®šäº†ä¸€ä¸ªå¯¹è±¡æ˜¯æ— ç”¨çš„æ—¶ å€™ï¼Œä»–å°±çŸ¥é“ä¸å†éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æŠŠå®ƒæ‰€å ç”¨çš„å†…å­˜é‡Šæ”¾æ‰äº†ã€‚ä¾‹å¦‚ï¼š\n1 var a=\"hello world\"; var b=\"world\";var a=b;//è¿™æ—¶ï¼Œä¼šé‡Šæ”¾æ‰\"hello world\"ï¼Œ **é‡Šæ”¾å†…å­˜ä»¥ä¾¿å†å¼•ç”¨åƒåœ¾å›æ”¶çš„æ–¹æ³•ï¼š\næ ‡è®°æ¸…é™¤ã€è®¡æ•°å¼•ç”¨ã€‚\n**æ ‡è®°æ¸…é™¤\nè¿™æ˜¯æœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°è¿™ä¸ªå˜é‡ä¸ºâ€è¿›å…¥ç¯å¢ƒâ€œ,ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å çš„å†…å­˜ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒå˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œåªè¦æ‰§è¡Œæµç¨‹è¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯ èƒ½ç”¨åˆ°ä»–ä»¬ã€‚å½“ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°ä¸ºç¦»å¼€ç¯å¢ƒã€‚ åƒåœ¾å›æ”¶å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼ˆæ‰€æœ‰éƒ½åŠ ï¼‰ï¼Œç„¶åå»æ‰ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡ï¼Œä»¥åŠè¢«ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡æ‰€å¼•ç”¨çš„å˜é‡ï¼ˆæ¡ä»¶æ€§å»é™¤æ ‡è®°ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰è¢«æ ‡è®°çš„å˜é‡ï¼Œåˆ é™¤çš„å˜é‡æ— æ³•åœ¨ç¯å¢ƒå˜é‡ä¸­è¢«è®¿é—®æ‰€ä»¥ä¼šè¢«åˆ é™¤ï¼Œæœ€ååƒåœ¾å›æ”¶å™¨ï¼Œå®Œæˆäº†å†…å­˜çš„æ¸…é™¤å·¥ä½œï¼Œå¹¶å›æ”¶ä»–ä»¬æ‰€å ç”¨çš„å†…å­˜ã€‚\n**å¼•ç”¨è®¡æ•°æ³•\nå¼•ç”¨è®¡æ•°æ³•çš„æ„æ€å°±æ˜¯æ¯ä¸ªå€¼æ²¡å¼•ç”¨çš„æ¬¡æ•°ï¼Œ å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå¹¶ç”¨ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼èµ‹å€¼ç»™æ”¹å˜é‡ï¼Œ åˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º 1,ï¼›ç›¸åçš„ï¼Œå¦‚æœåŒ…å«äº†å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™åŸå…ˆçš„å¼•ç”¨å€¼å¼•ç”¨æ¬¡æ•°å°±å‡ 1ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º 0 çš„æ—¶å€™ï¼Œè¯´æ˜æ²¡æœ‰åŠæ³•å†è®¿é—®è¿™ä¸ªå€¼äº†ï¼Œå› æ­¤å°±æŠŠæ‰€å çš„å†…å­˜ç»™å›æ”¶è¿›æ¥ï¼Œè¿™æ ·åƒåœ¾æ”¶é›†å™¨å†æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šé‡Šæ”¾å¼•ç”¨æ¬¡æ•°ä¸º 0 çš„è¿™äº›å€¼ã€‚ ç”¨å¼•ç”¨è®¡æ•°æ³•ä¼šå­˜åœ¨å†…å­˜æ³„éœ²ï¼Œä¸‹é¢æ¥çœ‹åŸå› ï¼š\n1 2 3 4 function problem() { var objA = new Object(); var objB = new Object(); objA.someOtherObject = objB; objB.anotherObject = objA; } åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼ŒobjA å’Œ objB é€šè¿‡å„è‡ªçš„å±æ€§ç›¸äº’å¼•ç”¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°éƒ½ä¸º 2ï¼Œåœ¨é‡‡ç”¨å¼•ç”¨è®¡æ•°çš„ç­–ç•¥ä¸­ï¼Œç”±äºå‡½æ•°æ‰§è¡Œä¹‹åï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½ç¦»å¼€äº†ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œå› ä¸ºè®¡æ•°ä¸ä¸º 0ï¼Œè¿™æ ·çš„ç›¸äº’å¼•ç”¨å¦‚æœå¤§é‡å­˜åœ¨å°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚ç‰¹ åˆ« æ˜¯ åœ¨ DOMå¯¹ è±¡ ä¸­ ï¼Œ ä¹Ÿ å®¹ æ˜“ å­˜ åœ¨ è¿™ ç§ é—® é¢˜ ï¼š\n1 2 3 varelement=document.getElementById ï¼ˆ â€™â€˜ ï¼‰ï¼› var myObj=new Object(); myObj.element=element; element.someObject=myObj; è¿™æ ·å°±ä¸ä¼šæœ‰åƒåœ¾å›æ”¶çš„è¿‡ç¨‹ã€‚\næ‰‹å†™åŒºåŸŸ 1.è‡ªå·±å®ç°ä¸€ä¸ª bind å‡½æ•° åŸç†ï¼šé€šè¿‡ apply æˆ–è€… call æ–¹æ³•æ¥å®ç°ã€‚\n(1)åˆå§‹ç‰ˆæœ¬\n1 2 3 4 5 6 7 8 Function.prototype.bind=function(obj,arg){ var arg = Array.prototype.slice.call(arguments,1); var context = this; return function(newArg){ arg = arg.concat(Array.prototype.slice.call(newArg)); return context.apply(obj,arg); } } (2) è€ƒè™‘åˆ°åŸå‹é“¾ ä¸ºä»€ä¹ˆè¦è€ƒè™‘ï¼Ÿå› ä¸ºåœ¨ new ä¸€ä¸ª bind è¿‡ç”Ÿæˆçš„æ–°å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»çš„æ¡ä»¶æ˜¯è¦ç»§æ‰¿åŸå‡½æ•°çš„åŸå‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 Function.prototype.bind=function(obj,arg){ var arg = Array.prototype.slice.call(arguments,1); var context = this; var bound = function(newArg){ arg=arg.concat(Array.prototype.slice.call(newArg)); return context.apply(obj,arg); } var F=function(){} //è¿™é‡Œéœ€è¦ä¸€ä¸ªå¯„ç”Ÿç»„åˆç»§æ‰¿ F.prototype=context.prototype; bound.prototype=new F(); return bound; } 2.å®ç° JS ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼ˆåŒ…è£…å¯¹è±¡ï¼ŒDate å¯¹è±¡ï¼Œæ­£ åˆ™å¯¹è±¡ï¼‰\né€šè¿‡é€’å½’å¯ä»¥ç®€å•å®ç°å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä¸ç®¡æ˜¯ ES6è¿˜æ˜¯ ES5 å®ç°ï¼Œéƒ½æœ‰åŒæ ·çš„ç¼ºé™·ï¼Œå°±æ˜¯åªèƒ½å®ç°ç‰¹å®šçš„ object çš„æ·±åº¦å¤åˆ¶ï¼ˆæ¯”å¦‚æ•°ç»„å’Œå‡½æ•°ï¼‰ï¼Œä¸èƒ½å®ç°åŒ…è£…å¯¹è±¡ Numberï¼ŒString ï¼ŒBooleanï¼Œä»¥åŠ Date å¯¹è±¡ï¼ŒRegExp å¯¹è±¡çš„å¤åˆ¶ã€‚ (1) å‰æ–‡çš„æ–¹æ³•\n1 2 3 4 5 6 7 function deepClone(obj){ var newObj= obj instanceof Array?[]:{}; for(var i in obj){ newObj[i]=typeof obj[i]=='object'? deepClone(obj[i]) : obj[i]; } return newObj; } è¿™ç§æ–¹æ³•å¯ä»¥å®ç°ä¸€èˆ¬å¯¹è±¡å’Œæ•°ç»„å¯¹è±¡çš„å…‹éš†ï¼Œæ¯”å¦‚ï¼š\n1 2 3 4 5 6 var arr=[1,2,3]; var newArr=deepClone(arr); //newArr-\u003e[1,2,3] var obj={x:1,y:2} var newObj=deepClone(obj); // newObj={x:1,y:2} ä½†æ˜¯ä¸èƒ½å®ç°ä¾‹å¦‚åŒ…è£…å¯¹è±¡ Number,String,Boolean,ä»¥åŠæ­£åˆ™å¯¹è±¡ RegExp å’Œ Date å¯¹è±¡çš„å…‹éš†ï¼Œæ¯”å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 //Number åŒ…è£…å¯¹è±¡ var num = new Number(1); typeof num // \"object\" var newNum=deepClone(num); //newNum -\u003e {} ç©ºå¯¹è±¡ //String åŒ…è£…å¯¹è±¡ var str=new String(\"hello\"); typeof str //\"object\" var newStr=deepClone(str); //newStr-\u003e {0:'h',1:'e',2:'l',3:'l',4:'o'}; //Boolean åŒ…è£…å¯¹è±¡ var bol=new Boolean(true); typeof bol //\"object\" var newBol=deepClone(bol); // newBol -\u003e{} ç©ºå¯¹è±¡ (2) valueof()å‡½æ•° æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ valueOf æ–¹æ³•ï¼ŒvalueOf æ–¹æ³•å¯¹äºï¼šå¦‚æœå­˜åœ¨ä»»æ„åŸå§‹å€¼ï¼Œå®ƒå°±é»˜è®¤å°†å¯¹è±¡è½¬æ¢ä¸ºè¡¨ç¤ºå®ƒçš„åŸå§‹å€¼ã€‚å¯¹è±¡æ˜¯å¤åˆå€¼ï¼Œè€Œä¸”å¤§å¤šæ•°å¯¹è±¡æ— æ³•çœŸæ­£è¡¨ç¤ºä¸ºä¸€ä¸ªåŸå§‹å€¼ï¼Œ å› æ­¤é»˜è®¤çš„ valueOf()æ–¹æ³•ç®€å•åœ°è¿”å›å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªåŸå§‹å€¼ã€‚æ•°ç»„ã€å‡½æ•°å’Œæ­£åˆ™è¡¨è¾¾å¼ç®€å•åœ°ç»§æ‰¿äº†è¿™ä¸ªé»˜è®¤æ–¹æ³•ï¼Œè°ƒç”¨è¿™äº›ç±»å‹çš„å®ä¾‹çš„ valueOf()æ–¹æ³•åªæ˜¯ç®€å•è¿”å›è¿™ä¸ªå¯¹è±¡æœ¬èº«ã€‚ å¯¹ äº åŸ å§‹ å€¼ æˆ– è€… åŒ… è£… ç±» ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function baseClone(base){ return base.valueOf(); } //Number var num = new Number(1); var newNum = baseClone(num); //newNum-\u003e1 //String var str = new String('hello'); var newStr = baseClone(str); // newStr-\u003e\"hello\" //Boolean var bol = new Boolean(true); var newBol = baseClone(bol); //newBol-\u003e true å…¶å®å¯¹äºåŒ…è£…ç±»ï¼Œå®Œå…¨å¯ä»¥ç”¨=å·æ¥è¿›è¡Œå…‹éš†ï¼Œå…¶å®æ²¡æœ‰æ·±åº¦å…‹éš†ä¸€è¯´ï¼Œ è¿™é‡Œç”¨ valueOf å®ç°ï¼Œè¯­æ³•ä¸Šæ¯”è¾ƒç¬¦åˆ è§„èŒƒã€‚\nå¯¹äº Date ç±»å‹ï¼š å› ä¸º valueOf æ–¹æ³•ï¼Œæ—¥æœŸç±»å®šä¹‰çš„ valueOf()æ–¹æ³•ä¼šè¿”å›å®ƒçš„ä¸€ä¸ªå†…éƒ¨è¡¨ç¤ºï¼š1970 å¹´ 1 æœˆ 1 æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°.å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Dateçš„åŸå‹ä¸Šå®šä¹‰å…‹éš†çš„æ–¹æ³•ï¼š\n1 2 3 4 5 6 Date.prototype.clone = function(){ return new Date(this.valueOf()); } var date=new Date('2010'); var newDate=date.clone(); // newDate-\u003e Fri Jan 01 2010 08:00:00 GMT+0800 å¯¹ äº æ­£ åˆ™ å¯¹ è±¡\n1 2 3 4 5 6 7 8 9 10 11 12 RegExpï¼šRegExp.prototype.clone = function() { var pattern = this.valueOf(); var flags = ''; flags += pattern.global ? 'g' : ''; flags += pattern.ignoreCase ? 'i' : ''; flags += pattern.multiline ? 'm' : ''; return new RegExp(pattern.source, flags); }; var reg = new RegExp('/111/'); var newReg = reg.clone(); //newReg-\u003e /\\/111\\// ","wordCount":"3669","inLanguage":"en","datePublished":"2023-08-16T13:46:19+08:00","dateModified":"2023-08-16T13:46:19+08:00","author":{"@type":"Person","name":"Lvsj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/js%E5%9F%BA%E7%A1%80/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=ä¸»é¡µ><span>ä¸»é¡µ</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=æ—¶é—´è½´><span>æ—¶é—´è½´</span></a></li><li><a href=https://bablvsj.github.io/tags title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://bablvsj.github.io/about title=å…³äº><span>å…³äº</span></a></li><li><a href=https://bablvsj.github.io/search title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>JSåŸºç¡€</h1><div class=post-meta><span title='2023-08-16 13:46:19 +0800 +0800'>2023/08/16</span>&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;Lvsj<ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/>æ¯å¤©ä¸€é“é¢è¯•é¢˜</a></ul></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><ul><ul><li><a href=#1%e5%88%a4%e6%96%ad%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label=1.åˆ¤æ–­æ•°æ®ç±»å‹>1.åˆ¤æ–­æ•°æ®ç±»å‹</a></li><li><a href=#2tostring%e5%92%8cstring%e7%9a%84%e5%8c%ba%e5%88%ab aria-label=2.toStringå’ŒStringçš„åŒºåˆ«>2.<code>toString</code>å’Œ<code>String</code>çš„åŒºåˆ«</a></li><li><a href=#3js-%e9%97%ad%e5%8c%85%e7%bb%8f%e5%85%b8%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af%e5%92%8c%e5%90%ab%e9%97%ad%e5%8c%85%e5%bf%85%e5%88%b7%e9%a2%98 aria-label="3.JS é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜">3.JS é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜</a><ul><li><a href=#%e9%97%ad%e5%8c%85%e6%98%af%e4%bb%80%e4%b9%88 aria-label=é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ>é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href=#%e5%bd%a2%e6%88%90%e9%97%ad%e5%8c%85%e7%9a%84%e5%8e%9f%e5%9b%a0 aria-label=å½¢æˆé—­åŒ…çš„åŸå› >å½¢æˆé—­åŒ…çš„åŸå› </a></li></ul></li></ul><li><a href=#%e5%8f%98%e9%87%8f%e6%8f%90%e5%8d%87 aria-label=å˜é‡æå‡>å˜é‡æå‡</a></li><li><a href=#this aria-label=this>this</a></li><li><a href=#js-%e7%9a%84-new-%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%81%9a%e4%ba%86%e5%93%aa%e4%ba%9b%e4%ba%8b%e6%83%85 aria-label="JS çš„ new æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ…">JS çš„ new æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ…</a></li><li><a href=#js-%e4%b8%ad%e7%9a%84%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e6%9c%ba%e5%88%b6 aria-label="JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶">JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶</a></li></ul><li><a href=#%e6%89%8b%e5%86%99%e5%8c%ba%e5%9f%9f aria-label=æ‰‹å†™åŒºåŸŸ>æ‰‹å†™åŒºåŸŸ</a><ul><li><a href=#1%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa-bind-%e5%87%bd%e6%95%b0 aria-label="1.è‡ªå·±å®ç°ä¸€ä¸ª bind å‡½æ•°">1.è‡ªå·±å®ç°ä¸€ä¸ª bind å‡½æ•°</a></li><li><a href=#2%e5%ae%9e%e7%8e%b0-js-%e4%b8%ad%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e7%9a%84%e6%b7%b1%e5%ba%a6%e5%85%8b%e9%9a%86%e5%8c%85%e8%a3%85%e5%af%b9%e8%b1%a1date-%e5%af%b9%e8%b1%a1%e6%ad%a3 aria-label="2.å®ç° JS ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼ˆåŒ…è£…å¯¹è±¡ï¼ŒDate å¯¹è±¡ï¼Œæ­£">2.å®ç° JS ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼ˆåŒ…è£…å¯¹è±¡ï¼ŒDate å¯¹è±¡ï¼Œæ­£</a></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h4 id=1åˆ¤æ–­æ•°æ®ç±»å‹>1.åˆ¤æ–­æ•°æ®ç±»å‹<a hidden class=anchor aria-hidden=true href=#1åˆ¤æ–­æ•°æ®ç±»å‹>#</a></h4><p>**typeof</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>typeof</span> <span style=color:#0ff;font-weight:700>&#39;seymoe&#39;</span>    <span style=color:#007f7f>// &#39;string&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> <span style=color:#fff;font-weight:700>true</span>        <span style=color:#007f7f>// &#39;boolean&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> <span style=color:#ff0;font-weight:700>10</span>          <span style=color:#007f7f>// &#39;number&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> Symbol()    <span style=color:#007f7f>// &#39;symbol&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> <span style=color:#fff;font-weight:700>null</span>        <span style=color:#007f7f>// &#39;object&#39; `æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null `
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> <span style=color:#fff;font-weight:700>undefined</span>   <span style=color:#007f7f>// &#39;undefined&#39;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>typeof</span> {}          <span style=color:#007f7f>// &#39;object&#39;  
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span> []          <span style=color:#007f7f>// &#39;object&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>typeof</span>(() =&gt; {})   <span style=color:#007f7f>// &#39;function&#39;
</span></span></span></code></pre></td></tr></table></div></div><p>å¼Šç«¯ï¼š</p><ul><li><code>null</code>Â çš„åˆ¤å®šæœ‰è¯¯å·®</li><li>æ•°ç»„ã€å¯¹è±¡éƒ½åˆ¤å®šä¸º object</li></ul><p>**instanceof</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>{} <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Object</span>           <span style=color:#007f7f>//true
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>[] <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Array</span>            <span style=color:#007f7f>//true
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>(()=&gt;{}) <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Function</span>   <span style=color:#007f7f>//true
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#0ff;font-weight:700>`instanceof ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„`</span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>let</span> arr = [] 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>let</span> obj = {} 
</span></span><span style=display:flex><span>arr <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Array</span> <span style=color:#007f7f>// true 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>arr <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Object</span> <span style=color:#007f7f>// true 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>obj <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Object</span> <span style=color:#007f7f>// true
</span></span></span></code></pre></td></tr></table></div></div><p>**<code>Object.prototype.toString()</code>Â å¯ä»¥è¯´æ˜¯åˆ¤å®šÂ <code>JavaScript</code>Â ä¸­æ•°æ®ç±»å‹çš„ç»ˆæè§£å†³æ–¹æ³•ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call({}) <span style=color:#007f7f>// &#39;[object Object]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call([]) <span style=color:#007f7f>// &#39;[object Array]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(() =&gt; {}) <span style=color:#007f7f>// &#39;[object Function]&#39;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#0ff;font-weight:700>&#39;seymoe&#39;</span>) <span style=color:#007f7f>// &#39;[object String]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#ff0;font-weight:700>1</span>) <span style=color:#007f7f>// &#39;[object Number]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>true</span>) <span style=color:#007f7f>// &#39;[object Boolean]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(Symbol()) <span style=color:#007f7f>// &#39;[object Symbol]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>null</span>) <span style=color:#007f7f>// &#39;[object Null]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>undefined</span>) <span style=color:#007f7f>// &#39;[object Undefined]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Date</span>()) <span style=color:#007f7f>// &#39;[object Date]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>Math</span>) <span style=color:#007f7f>// &#39;[object Math]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>new</span> Set()) <span style=color:#007f7f>// &#39;[object Set]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>new</span> WeakSet()) <span style=color:#007f7f>// &#39;[object WeakSet]&#39;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>new</span> Map()) <span style=color:#007f7f>// &#39;[object Map]&#39; 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>Object</span>.prototype.toString.call(<span style=color:#fff;font-weight:700>new</span> WeakMap()) <span style=color:#007f7f>// &#39;[object WeakMap]&#39;
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2tostringå’Œstringçš„åŒºåˆ«>2.<code>toString</code>å’Œ<code>String</code>çš„åŒºåˆ«<a hidden class=anchor aria-hidden=true href=#2tostringå’Œstringçš„åŒºåˆ«>#</a></h4><p><code>toString()</code>å¯ä»¥å°†æ•°æ®éƒ½è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯<code>null</code>å’Œ<code>undefined</code>ä¸å¯ä»¥è½¬æ¢ã€‚</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>console.log(<span style=color:#fff;font-weight:700>null</span>.toString()) <span style=color:#007f7f>//æŠ¥é”™ TypeError: Cannot read property &#39;toString&#39; of null
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>console.log(<span style=color:#fff;font-weight:700>undefined</span>.toString())<span style=color:#007f7f>//æŠ¥é”™ TypeError: Cannot read property &#39;toString&#39; of undefined
</span></span></span></code></pre></td></tr></table></div></div><p><code>toString()</code>æ‹¬å·ä¸­å¯ä»¥å†™æ•°å­—ï¼Œä»£è¡¨è¿›åˆ¶</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>äºŒè¿›åˆ¶<span style=color:red>ï¼š</span>.toString(<span style=color:#ff0;font-weight:700>2</span>);
</span></span><span style=display:flex><span>å…«è¿›åˆ¶<span style=color:red>ï¼š</span>.toString(<span style=color:#ff0;font-weight:700>8</span>);
</span></span><span style=display:flex><span>åè¿›åˆ¶<span style=color:red>ï¼š</span>.toString(<span style=color:#ff0;font-weight:700>10</span>);
</span></span><span style=display:flex><span>åå…­è¿›åˆ¶<span style=color:red>ï¼š</span>.toString(<span style=color:#ff0;font-weight:700>16</span>);
</span></span></code></pre></td></tr></table></div></div><p><code>String()</code>å¯ä»¥å°†<code>null</code>å’Œ<code>undefined</code>è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ²¡æ³•è½¬è¿›åˆ¶å­—ç¬¦ä¸²</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>console.log(<span style=color:#fff;font-weight:700>String</span>(<span style=color:#fff;font-weight:700>null</span>));<span style=color:#007f7f>// null
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>console.log(<span style=color:#fff;font-weight:700>String</span>(<span style=color:#fff;font-weight:700>undefined</span>));<span style=color:#007f7f>// undefined
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3js-é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜>3.JS é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜<a hidden class=anchor aria-hidden=true href=#3js-é—­åŒ…ç»å…¸ä½¿ç”¨åœºæ™¯å’Œå«é—­åŒ…å¿…åˆ·é¢˜>#</a></h4><h5 id=é—­åŒ…æ˜¯ä»€ä¹ˆ>é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ<a hidden class=anchor aria-hidden=true href=#é—­åŒ…æ˜¯ä»€ä¹ˆ>#</a></h5><p><strong>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°</strong></p><h5 id=å½¢æˆé—­åŒ…çš„åŸå› >å½¢æˆé—­åŒ…çš„åŸå› <a hidden class=anchor aria-hidden=true href=#å½¢æˆé—­åŒ…çš„åŸå› >#</a></h5><p><strong>å†…éƒ¨çš„å‡½æ•°å­˜åœ¨å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨å°±ä¼šå¯¼è‡´é—­åŒ…</strong>ã€‚</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> a = <span style=color:#ff0;font-weight:700>0</span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>function</span> foo(){
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>var</span> b =<span style=color:#ff0;font-weight:700>14</span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>function</span> fo(){
</span></span><span style=display:flex><span>        console.log(a, b)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    fo()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>foo()
</span></span></code></pre></td></tr></table></div></div><h3 id=å˜é‡æå‡>å˜é‡æå‡<a hidden class=anchor aria-hidden=true href=#å˜é‡æå‡>#</a></h3><p><strong>é—®é¢˜</strong>ï¼šè¯´ä¸€ä¸‹ä½ å¯¹JavaScriptå˜é‡æå‡çš„ç†è§£ã€‚</p><p><strong>å®šä¹‰</strong>ï¼š</p><p>åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œå£°æ˜å˜é‡ï¼Œä¼šæŠŠè¯¥å˜é‡æå‡åˆ°å‡½æ•°ä½“çš„æœ€é¡¶ç«¯ã€‚æ³¨æ„ï¼š<strong>åªæå‡å˜é‡å£°æ˜ï¼Œä¸èµ‹å€¼</strong>ã€‚</p><p><strong>ä»£ç 1</strong>ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    fn();
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>function</span> fn() {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> x = <span style=color:#ff0;font-weight:700>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> y = <span style=color:#ff0;font-weight:700>2</span>;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç ä¸­ï¼š</p><p>ï¼ˆ1ï¼‰ç»™fnåˆ›å»ºå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œæ‰¾åˆ°fnä¸­<strong>æ‰€æœ‰</strong>ç”¨varå£°æ˜çš„å˜é‡ï¼ˆå³xå’Œyï¼‰ï¼›
ï¼ˆ2ï¼‰å°†è¿™äº›å˜é‡åˆå§‹åŒ–ä¸ºundefinedï¼›
ï¼ˆ3ï¼‰å°†xèµ‹å€¼ä¸º1ï¼Œå°†yèµ‹å€¼ä¸º2ã€‚</p><p><strong>ä»£ç 2</strong>ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    fn2();
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>function</span> fn2() {
</span></span><span style=display:flex><span>        console.log(<span style=color:#ff0;font-weight:700>2</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç ä¸­ï¼š</p><p>ï¼ˆ1ï¼‰åˆ›å»ºå…¨å±€ä¸Šä¸‹æ–‡ï¼Œæ‰¾åˆ°æ‰€æœ‰ç”¨functionå£°æ˜çš„å˜é‡ï¼Œåœ¨ç¯å¢ƒä¸­â€œåˆ›å»ºâ€è¿™äº›å˜é‡ã€‚
ï¼ˆ2ï¼‰å°†è¿™äº›å˜é‡<strong>åˆå§‹åŒ–</strong>ï¼Œå¹¶<strong>èµ‹å€¼</strong>ä¸º <code>function(){ console.log(2) }</code>ï¼ˆå¹¶ä¸æ˜¯undefinedï¼‰
ï¼ˆ3ï¼‰å¼€å§‹æ‰§è¡Œä»£ç <code>fn2();</code></p><p><strong>ä»£ç 3</strong>ï¼šï¼ˆletçš„å‡ºç°ï¼‰</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fff;font-weight:700>let</span> x = <span style=color:#ff0;font-weight:700>1</span>
</span></span><span style=display:flex><span>  x = <span style=color:#ff0;font-weight:700>2</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç ä¸­ï¼š</p><p>ï¼ˆ1ï¼‰æ‰¾åˆ°æ‰€æœ‰ç”¨ let å£°æ˜çš„å˜é‡ï¼Œåœ¨ç¯å¢ƒä¸­ã€Œåˆ›å»ºã€è¿™äº›å˜é‡
ï¼ˆ2ï¼‰å¼€å§‹æ‰§è¡Œä»£ç ï¼ˆæ³¨æ„ç°åœ¨è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼‰
ï¼ˆ3ï¼‰æ‰§è¡Œ x = 1ï¼Œå°† x ã€Œåˆå§‹åŒ–ã€ä¸º 1ï¼ˆè¿™å¹¶ä¸æ˜¯ä¸€æ¬¡èµ‹å€¼ï¼Œå¦‚æœä»£ç æ˜¯ let xï¼Œå°±å°† x åˆå§‹åŒ–ä¸º undefinedï¼‰
ï¼ˆ4ï¼‰æ‰§è¡Œ x = 2ï¼Œå¯¹ x è¿›è¡Œã€Œèµ‹å€¼ã€</p><p>ä»£ç 4ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#fff;font-weight:700>let</span> x = <span style=color:#0ff;font-weight:700>&#39;global&#39;</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  console.log(x) <span style=color:#007f7f>// Uncaught ReferenceError: x is not defined
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>  <span style=color:#fff;font-weight:700>let</span> x = <span style=color:#ff0;font-weight:700>1</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>åŸå› æœ‰ä¸¤ä¸ªï¼š</p><ul><li><p>console.log(x) ä¸­çš„ x æŒ‡çš„æ˜¯ä¸‹é¢çš„ xï¼Œè€Œä¸æ˜¯å…¨å±€çš„ x</p></li><li><p>æ‰§è¡Œ log æ—¶ x è¿˜æ²¡ã€Œåˆå§‹åŒ–ã€ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„æš‚æ—¶æ­»åŒºï¼‰</p></li></ul><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥æ˜ç™½äº† let åˆ°åº•æœ‰æ²¡æœ‰æå‡ï¼š</p><ul><li><p>let çš„ã€Œåˆ›å»ºã€è¿‡ç¨‹è¢«æå‡äº†ï¼Œä½†æ˜¯åˆå§‹åŒ–æ²¡æœ‰æå‡ã€‚</p></li><li><p>var çš„ã€Œåˆ›å»ºã€å’Œã€Œåˆå§‹åŒ–ã€éƒ½è¢«æå‡äº†ã€‚</p></li><li><p>function çš„ã€Œåˆ›å»ºã€ã€Œåˆå§‹åŒ–ã€å’Œã€Œèµ‹å€¼ã€éƒ½è¢«æå‡äº†ã€‚</p></li></ul><p>å‚è€ƒé“¾æ¥ï¼š</p><ul><li><a href=https://zhuanlan.zhihu.com/p/28140450>æˆ‘ç”¨äº†ä¸¤ä¸ªæœˆçš„æ—¶é—´æ‰ç†è§£ let</a></li></ul><h3 id=this>this<a hidden class=anchor aria-hidden=true href=#this>#</a></h3><p>é—®é¢˜ï¼šä¸‹æ–¹ä»£ç çš„æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    <span style=color:#fff;font-weight:700>function</span> A() {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>this</span>.name = <span style=color:#0ff;font-weight:700>&#39;smyhvae&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    A.prototype.test = <span style=color:#fff;font-weight:700>function</span> () {
</span></span><span style=display:flex><span>        setTimeout(<span style=color:#fff;font-weight:700>function</span> () {
</span></span><span style=display:flex><span>            console.log(<span style=color:#fff;font-weight:700>this</span>.name);
</span></span><span style=display:flex><span>        }, <span style=color:#ff0;font-weight:700>1</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>var</span> a = <span style=color:#fff;font-weight:700>new</span> A();
</span></span><span style=display:flex><span>    a.test();
</span></span></code></pre></td></tr></table></div></div><p>æ‰“å°ç»“æœæ˜¯window.nameï¼Œä½†å®é™…çš„ç»“æœæ˜¯ç©ºçš„ã€‚</p><p><strong>æ€»ç»“1</strong>ï¼šthisæ°¸è¿œæŒ‡å‘<strong>å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡</strong>ï¼Œè€Œä¸æ˜¯å‡½æ•°è¢«åˆ›å»ºæ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚å³ï¼š<strong>è°è°ƒç”¨</strong>ï¼ŒæŒ‡å‘è°ã€‚</p><p><strong>ä¸¾ä¾‹</strong>ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    <span style=color:#fff;font-weight:700>var</span> name = <span style=color:#0ff;font-weight:700>&#39;å…¨å±€&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fff;font-weight:700>function</span> getName() {
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>var</span> name = <span style=color:#0ff;font-weight:700>&#39;å±€éƒ¨&#39;</span>;
</span></span><span style=display:flex><span>        <span style=color:#fff;font-weight:700>return</span> <span style=color:#fff;font-weight:700>this</span>.name;
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    alert(getName());
</span></span></code></pre></td></tr></table></div></div><p>ä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœæ˜¯ï¼š<code>å…¨å±€</code>ã€‚</p><p>åˆ†æï¼š<code>getName()</code>è¿™ä¸ªå‡½æ•°å…¶å®æ˜¯windowè°ƒç”¨çš„ï¼Œæ‰€ä»¥thisæŒ‡å‘çš„windowï¼Œå› ä¸ºå¤–éƒ¨æœ‰nameè¿™ä¸ªå˜é‡ï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸º<code>å…¨å±€</code>ã€‚</p><p><strong>æ€»ç»“2</strong>ï¼šæ²¡æœ‰æ˜ç¡®çš„å½“å‰å¯¹è±¡æ—¶ï¼Œthisæ°¸è¿œæŒ‡å‘windowã€‚è¿™ä¸ªåœ¨setTimeouté‡Œæ¯”è¾ƒå¸¸è§ã€‚</p><h3 id=js-çš„-new-æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ…>JS çš„ new æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ…<a hidden class=anchor aria-hidden=true href=#js-çš„-new-æ“ä½œç¬¦åšäº†å“ªäº›äº‹æƒ…>#</a></h3><p>new æ“ä½œç¬¦æ–°å»ºäº†ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeï¼Œæ‰§è¡Œæ„é€ å‡½æ•°åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚</p><h3 id=js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶>JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶<a hidden class=anchor aria-hidden=true href=#js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶>#</a></h3><p>å¿…è¦æ€§ï¼šç”±äºå­—ç¬¦ä¸²ã€å¯¹è±¡å’Œæ•°ç»„æ²¡æœ‰å›ºå®šå¤§å°ï¼Œæ‰€æœ‰å½“ä»–ä»¬çš„å¤§å°å·²çŸ¥æ—¶ï¼Œæ‰èƒ½å¯¹ä»–ä»¬è¿›è¡ŒåŠ¨æ€çš„å­˜å‚¨åˆ†é…ã€‚JavaScript ç¨‹åºæ¯æ¬¡åˆ›å»ºå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–å¯¹è±¡æ—¶ï¼Œè§£é‡Šå™¨éƒ½å¿… é¡»åˆ†é…å†…å­˜æ¥å­˜å‚¨é‚£ä¸ªå®ä½“ã€‚åªè¦åƒè¿™æ ·åŠ¨æ€åœ°åˆ†é…äº†å†…å­˜ï¼Œæœ€ç»ˆéƒ½è¦é‡Šæ”¾è¿™äº›å†…å­˜ä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿè¢«å†ç”¨ï¼Œå¦åˆ™ï¼ŒJavaScript çš„è§£é‡Šå™¨å°†ä¼šæ¶ˆè€—å®Œç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„å†…å­˜ï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚</p><p>è¿™æ®µè¯è§£é‡Šäº†ä¸ºä»€ä¹ˆéœ€è¦ç³»ç»Ÿéœ€è¦åƒåœ¾å›æ”¶ï¼ŒJS ä¸åƒ C/C++ï¼Œä»–æœ‰è‡ªå·±çš„ä¸€å¥—åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰ã€‚JavaScript çš„è§£é‡Šå™¨å¯ä»¥æ£€æµ‹åˆ°ä½•æ—¶ç¨‹åºä¸å†ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡äº†ï¼Œå½“ä»–ç¡®å®šäº†ä¸€ä¸ªå¯¹è±¡æ˜¯æ— ç”¨çš„æ—¶
å€™ï¼Œä»–å°±çŸ¥é“ä¸å†éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æŠŠå®ƒæ‰€å ç”¨çš„å†…å­˜é‡Šæ”¾æ‰äº†ã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> a=<span style=color:#0ff;font-weight:700>&#34;hello world&#34;</span>; <span style=color:#fff;font-weight:700>var</span> b=<span style=color:#0ff;font-weight:700>&#34;world&#34;</span>;<span style=color:#fff;font-weight:700>var</span> a=b;<span style=color:#007f7f>//è¿™æ—¶ï¼Œä¼šé‡Šæ”¾æ‰&#34;hello world&#34;ï¼Œ
</span></span></span></code></pre></td></tr></table></div></div><p>**é‡Šæ”¾å†…å­˜ä»¥ä¾¿å†å¼•ç”¨åƒåœ¾å›æ”¶çš„æ–¹æ³•ï¼š</p><p>æ ‡è®°æ¸…é™¤ã€è®¡æ•°å¼•ç”¨ã€‚</p><p>**æ ‡è®°æ¸…é™¤</p><p>è¿™æ˜¯æœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°è¿™ä¸ªå˜é‡ä¸ºâ€è¿›å…¥ç¯å¢ƒâ€œ,ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å çš„å†…å­˜ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒå˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œåªè¦æ‰§è¡Œæµç¨‹è¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯
èƒ½ç”¨åˆ°ä»–ä»¬ã€‚å½“ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°ä¸ºç¦»å¼€ç¯å¢ƒã€‚
åƒåœ¾å›æ”¶å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼ˆæ‰€æœ‰éƒ½åŠ ï¼‰ï¼Œç„¶åå»æ‰ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡ï¼Œä»¥åŠè¢«ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡æ‰€å¼•ç”¨çš„å˜é‡ï¼ˆæ¡ä»¶æ€§å»é™¤æ ‡è®°ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰è¢«æ ‡è®°çš„å˜é‡ï¼Œåˆ é™¤çš„å˜é‡æ— æ³•åœ¨ç¯å¢ƒå˜é‡ä¸­è¢«è®¿é—®æ‰€ä»¥ä¼šè¢«åˆ é™¤ï¼Œæœ€ååƒåœ¾å›æ”¶å™¨ï¼Œå®Œæˆäº†å†…å­˜çš„æ¸…é™¤å·¥ä½œï¼Œå¹¶å›æ”¶ä»–ä»¬æ‰€å ç”¨çš„å†…å­˜ã€‚</p><p>**å¼•ç”¨è®¡æ•°æ³•</p><p>å¼•ç”¨è®¡æ•°æ³•çš„æ„æ€å°±æ˜¯æ¯ä¸ªå€¼æ²¡å¼•ç”¨çš„æ¬¡æ•°ï¼Œ å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå¹¶ç”¨ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼èµ‹å€¼ç»™æ”¹å˜é‡ï¼Œ
åˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º 1,ï¼›ç›¸åçš„ï¼Œå¦‚æœåŒ…å«äº†å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™åŸå…ˆçš„å¼•ç”¨å€¼å¼•ç”¨æ¬¡æ•°å°±å‡ 1ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º 0 çš„æ—¶å€™ï¼Œè¯´æ˜æ²¡æœ‰åŠæ³•å†è®¿é—®è¿™ä¸ªå€¼äº†ï¼Œå› æ­¤å°±æŠŠæ‰€å çš„å†…å­˜ç»™å›æ”¶è¿›æ¥ï¼Œè¿™æ ·åƒåœ¾æ”¶é›†å™¨å†æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šé‡Šæ”¾å¼•ç”¨æ¬¡æ•°ä¸º 0 çš„è¿™äº›å€¼ã€‚
ç”¨å¼•ç”¨è®¡æ•°æ³•ä¼šå­˜åœ¨å†…å­˜æ³„éœ²ï¼Œä¸‹é¢æ¥çœ‹åŸå› ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>function</span> problem() {
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> objA = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Object</span>(); <span style=color:#fff;font-weight:700>var</span> objB = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Object</span>();
</span></span><span style=display:flex><span>	objA.someOtherObject = objB; objB.anotherObject = objA;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼ŒobjA å’Œ objB é€šè¿‡å„è‡ªçš„å±æ€§ç›¸äº’å¼•ç”¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°éƒ½ä¸º 2ï¼Œåœ¨é‡‡ç”¨å¼•ç”¨è®¡æ•°çš„ç­–ç•¥ä¸­ï¼Œç”±äºå‡½æ•°æ‰§è¡Œä¹‹åï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½ç¦»å¼€äº†ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œå› ä¸ºè®¡æ•°ä¸ä¸º 0ï¼Œè¿™æ ·çš„ç›¸äº’å¼•ç”¨å¦‚æœå¤§é‡å­˜åœ¨å°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚ç‰¹ åˆ« æ˜¯ åœ¨ DOMå¯¹ è±¡ ä¸­ ï¼Œ ä¹Ÿ å®¹ æ˜“ å­˜ åœ¨ è¿™ ç§ é—® é¢˜ ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>varelement=<span style=color:#fff;font-weight:700>document</span>.getElementById <span style=color:red>ï¼ˆ</span> <span style=color:red>â€™â€˜</span> <span style=color:red>ï¼‰ï¼›</span>
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> myObj=<span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Object</span>();
</span></span><span style=display:flex><span>myObj.element=element; element.someObject=myObj;
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ ·å°±ä¸ä¼šæœ‰åƒåœ¾å›æ”¶çš„è¿‡ç¨‹ã€‚</p><h2 id=æ‰‹å†™åŒºåŸŸ>æ‰‹å†™åŒºåŸŸ<a hidden class=anchor aria-hidden=true href=#æ‰‹å†™åŒºåŸŸ>#</a></h2><h3 id=1è‡ªå·±å®ç°ä¸€ä¸ª-bind-å‡½æ•°>1.è‡ªå·±å®ç°ä¸€ä¸ª bind å‡½æ•°<a hidden class=anchor aria-hidden=true href=#1è‡ªå·±å®ç°ä¸€ä¸ª-bind-å‡½æ•°>#</a></h3><p>åŸç†ï¼šé€šè¿‡ apply æˆ–è€… call æ–¹æ³•æ¥å®ç°ã€‚</p><p>(1)åˆå§‹ç‰ˆæœ¬</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>Function</span>.prototype.bind=<span style=color:#fff;font-weight:700>function</span>(obj,arg){
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> arg = <span style=color:#fff;font-weight:700>Array</span>.prototype.slice.call(arguments,<span style=color:#ff0;font-weight:700>1</span>);
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> context = <span style=color:#fff;font-weight:700>this</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#fff;font-weight:700>function</span>(newArg){ 
</span></span><span style=display:flex><span>			arg = arg.concat(<span style=color:#fff;font-weight:700>Array</span>.prototype.slice.call(newArg));
</span></span><span style=display:flex><span>			<span style=color:#fff;font-weight:700>return</span> context.apply(obj,arg);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>(2) è€ƒè™‘åˆ°åŸå‹é“¾
ä¸ºä»€ä¹ˆè¦è€ƒè™‘ï¼Ÿå› ä¸ºåœ¨ new ä¸€ä¸ª bind è¿‡ç”Ÿæˆçš„æ–°å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»çš„æ¡ä»¶æ˜¯è¦ç»§æ‰¿åŸå‡½æ•°çš„åŸå‹</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>Function</span>.prototype.bind=<span style=color:#fff;font-weight:700>function</span>(obj,arg){
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> arg = <span style=color:#fff;font-weight:700>Array</span>.prototype.slice.call(arguments,<span style=color:#ff0;font-weight:700>1</span>); 
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> context = <span style=color:#fff;font-weight:700>this</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> bound = <span style=color:#fff;font-weight:700>function</span>(newArg){ 
</span></span><span style=display:flex><span>		arg=arg.concat(<span style=color:#fff;font-weight:700>Array</span>.prototype.slice.call(newArg)); 
</span></span><span style=display:flex><span>		<span style=color:#fff;font-weight:700>return</span> context.apply(obj,arg);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> F=<span style=color:#fff;font-weight:700>function</span>(){}
</span></span><span style=display:flex><span>	<span style=color:#007f7f>//è¿™é‡Œéœ€è¦ä¸€ä¸ªå¯„ç”Ÿç»„åˆç»§æ‰¿
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>	F.prototype=context.prototype;
</span></span><span style=display:flex><span>	bound.prototype=<span style=color:#fff;font-weight:700>new</span> F(); 
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> bound;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=2å®ç°-js-ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†åŒ…è£…å¯¹è±¡date-å¯¹è±¡æ­£>2.å®ç° JS ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼ˆåŒ…è£…å¯¹è±¡ï¼ŒDate å¯¹è±¡ï¼Œæ­£<a hidden class=anchor aria-hidden=true href=#2å®ç°-js-ä¸­æ‰€æœ‰å¯¹è±¡çš„æ·±åº¦å…‹éš†åŒ…è£…å¯¹è±¡date-å¯¹è±¡æ­£>#</a></h3><p>åˆ™å¯¹è±¡ï¼‰</p><p>é€šè¿‡é€’å½’å¯ä»¥ç®€å•å®ç°å¯¹è±¡çš„æ·±åº¦å…‹éš†ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä¸ç®¡æ˜¯ ES6è¿˜æ˜¯ ES5 å®ç°ï¼Œéƒ½æœ‰åŒæ ·çš„ç¼ºé™·ï¼Œå°±æ˜¯åªèƒ½å®ç°ç‰¹å®šçš„ object çš„æ·±åº¦å¤åˆ¶ï¼ˆæ¯”å¦‚æ•°ç»„å’Œå‡½æ•°ï¼‰ï¼Œä¸èƒ½å®ç°åŒ…è£…å¯¹è±¡ Numberï¼ŒString ï¼ŒBooleanï¼Œä»¥åŠ Date å¯¹è±¡ï¼ŒRegExp å¯¹è±¡çš„å¤åˆ¶ã€‚
(1) å‰æ–‡çš„æ–¹æ³•</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>function</span> deepClone(obj){
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> newObj= obj <span style=color:#fff;font-weight:700>instanceof</span> <span style=color:#fff;font-weight:700>Array</span>?[]:{};
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>for</span>(<span style=color:#fff;font-weight:700>var</span> i <span style=color:#fff;font-weight:700>in</span> obj){
</span></span><span style=display:flex><span>		newObj[i]=<span style=color:#fff;font-weight:700>typeof</span> obj[i]==<span style=color:#0ff;font-weight:700>&#39;object&#39;</span>? deepClone(obj[i]) : obj[i];
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> newObj;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>è¿™ç§æ–¹æ³•å¯ä»¥å®ç°ä¸€èˆ¬å¯¹è±¡å’Œæ•°ç»„å¯¹è±¡çš„å…‹éš†ï¼Œæ¯”å¦‚ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> arr=[<span style=color:#ff0;font-weight:700>1</span>,<span style=color:#ff0;font-weight:700>2</span>,<span style=color:#ff0;font-weight:700>3</span>];
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newArr=deepClone(arr);
</span></span><span style=display:flex><span><span style=color:#007f7f>//newArr-&gt;[1,2,3] 
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> obj={x:<span style=color:#ff0;font-weight:700>1</span>,y:<span style=color:#ff0;font-weight:700>2</span>}
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newObj=deepClone(obj);
</span></span><span style=display:flex><span><span style=color:#007f7f>// newObj={x:1,y:2}
</span></span></span></code></pre></td></tr></table></div></div><p>ä½†æ˜¯ä¸èƒ½å®ç°ä¾‹å¦‚åŒ…è£…å¯¹è±¡ Number,String,Boolean,ä»¥åŠæ­£åˆ™å¯¹è±¡ RegExp å’Œ Date å¯¹è±¡çš„å…‹éš†ï¼Œæ¯”å¦‚ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#007f7f>//Number åŒ…è£…å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> num = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Number</span>(<span style=color:#ff0;font-weight:700>1</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>typeof</span> num <span style=color:#007f7f>// &#34;object&#34;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> newNum=deepClone(num);
</span></span><span style=display:flex><span><span style=color:#007f7f>//newNum -&gt; {} ç©ºå¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>//String åŒ…è£…å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> str=<span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>String</span>(<span style=color:#0ff;font-weight:700>&#34;hello&#34;</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>typeof</span> str <span style=color:#007f7f>//&#34;object&#34;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> newStr=deepClone(str);
</span></span><span style=display:flex><span><span style=color:#007f7f>//newStr-&gt; {0:&#39;h&#39;,1:&#39;e&#39;,2:&#39;l&#39;,3:&#39;l&#39;,4:&#39;o&#39;};
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>//Boolean åŒ…è£…å¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> bol=<span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Boolean</span>(<span style=color:#fff;font-weight:700>true</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>typeof</span> bol <span style=color:#007f7f>//&#34;object&#34;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> newBol=deepClone(bol);
</span></span><span style=display:flex><span><span style=color:#007f7f>// newBol -&gt;{} ç©ºå¯¹è±¡
</span></span></span></code></pre></td></tr></table></div></div><p>(2) valueof()å‡½æ•°
æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ valueOf æ–¹æ³•ï¼ŒvalueOf æ–¹æ³•å¯¹äºï¼šå¦‚æœå­˜åœ¨ä»»æ„åŸå§‹å€¼ï¼Œå®ƒå°±é»˜è®¤å°†å¯¹è±¡è½¬æ¢ä¸ºè¡¨ç¤ºå®ƒçš„åŸå§‹å€¼ã€‚å¯¹è±¡æ˜¯å¤åˆå€¼ï¼Œè€Œä¸”å¤§å¤šæ•°å¯¹è±¡æ— æ³•çœŸæ­£è¡¨ç¤ºä¸ºä¸€ä¸ªåŸå§‹å€¼ï¼Œ å› æ­¤é»˜è®¤çš„ valueOf()æ–¹æ³•ç®€å•åœ°è¿”å›å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªåŸå§‹å€¼ã€‚æ•°ç»„ã€å‡½æ•°å’Œæ­£åˆ™è¡¨è¾¾å¼ç®€å•åœ°ç»§æ‰¿äº†è¿™ä¸ªé»˜è®¤æ–¹æ³•ï¼Œè°ƒç”¨è¿™äº›ç±»å‹çš„å®ä¾‹çš„ valueOf()æ–¹æ³•åªæ˜¯ç®€å•è¿”å›è¿™ä¸ªå¯¹è±¡æœ¬èº«ã€‚
å¯¹ äº åŸ å§‹ å€¼ æˆ– è€… åŒ… è£… ç±» ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>function</span> baseClone(base){ 
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> base.valueOf();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#007f7f>//Number
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> num = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Number</span>(<span style=color:#ff0;font-weight:700>1</span>);
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newNum = baseClone(num);
</span></span><span style=display:flex><span><span style=color:#007f7f>//newNum-&gt;1
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>//String
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> str = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>String</span>(<span style=color:#0ff;font-weight:700>&#39;hello&#39;</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newStr = baseClone(str);
</span></span><span style=display:flex><span><span style=color:#007f7f>// newStr-&gt;&#34;hello&#34;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span>
</span></span><span style=display:flex><span><span style=color:#007f7f>//Boolean
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#fff;font-weight:700>var</span> bol = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Boolean</span>(<span style=color:#fff;font-weight:700>true</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newBol = baseClone(bol);
</span></span><span style=display:flex><span><span style=color:#007f7f>//newBol-&gt; true
</span></span></span></code></pre></td></tr></table></div></div><p>å…¶å®å¯¹äºåŒ…è£…ç±»ï¼Œå®Œå…¨å¯ä»¥ç”¨=å·æ¥è¿›è¡Œå…‹éš†ï¼Œå…¶å®æ²¡æœ‰æ·±åº¦å…‹éš†ä¸€è¯´ï¼Œ è¿™é‡Œç”¨ valueOf å®ç°ï¼Œè¯­æ³•ä¸Šæ¯”è¾ƒç¬¦åˆ
è§„èŒƒã€‚</p><p>å¯¹äº Date ç±»å‹ï¼š
å› ä¸º valueOf æ–¹æ³•ï¼Œæ—¥æœŸç±»å®šä¹‰çš„ valueOf()æ–¹æ³•ä¼šè¿”å›å®ƒçš„ä¸€ä¸ªå†…éƒ¨è¡¨ç¤ºï¼š1970 å¹´ 1 æœˆ 1 æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°.å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Dateçš„åŸå‹ä¸Šå®šä¹‰å…‹éš†çš„æ–¹æ³•ï¼š</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>Date</span>.prototype.clone = <span style=color:#fff;font-weight:700>function</span>(){
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Date</span>(<span style=color:#fff;font-weight:700>this</span>.valueOf());
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> date=<span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>Date</span>(<span style=color:#0ff;font-weight:700>&#39;2010&#39;</span>); 
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newDate=date.clone();
</span></span><span style=display:flex><span><span style=color:#007f7f>// newDate-&gt; Fri Jan 01 2010 08:00:00 GMT+0800
</span></span></span></code></pre></td></tr></table></div></div><p>å¯¹ äº æ­£ åˆ™ å¯¹ è±¡</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#fff;font-weight:700>RegExp</span><span style=color:red>ï¼š</span><span style=color:#fff;font-weight:700>RegExp</span>.prototype.clone = <span style=color:#fff;font-weight:700>function</span>() { 
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> pattern = <span style=color:#fff;font-weight:700>this</span>.valueOf();
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>var</span> flags = <span style=color:#0ff;font-weight:700>&#39;&#39;</span>;
</span></span><span style=display:flex><span>	flags += pattern.global ? <span style=color:#0ff;font-weight:700>&#39;g&#39;</span> : <span style=color:#0ff;font-weight:700>&#39;&#39;</span>;
</span></span><span style=display:flex><span>	flags += pattern.ignoreCase ? <span style=color:#0ff;font-weight:700>&#39;i&#39;</span> : <span style=color:#0ff;font-weight:700>&#39;&#39;</span>;
</span></span><span style=display:flex><span>	flags += pattern.multiline ? <span style=color:#0ff;font-weight:700>&#39;m&#39;</span> : <span style=color:#0ff;font-weight:700>&#39;&#39;</span>;
</span></span><span style=display:flex><span>	<span style=color:#fff;font-weight:700>return</span> <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>RegExp</span>(pattern.source, flags);
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> reg = <span style=color:#fff;font-weight:700>new</span> <span style=color:#fff;font-weight:700>RegExp</span>(<span style=color:#0ff;font-weight:700>&#39;/111/&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#fff;font-weight:700>var</span> newReg = reg.clone();
</span></span><span style=display:flex><span><span style=color:#007f7f>//newReg-&gt;
</span></span></span><span style=display:flex><span><span style=color:#007f7f></span><span style=color:#0ff;font-weight:700>/\/111\//</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/>æ¯å¤©ä¸€é“é¢è¯•é¢˜</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AE%80%E8%BF%B0%E5%8E%9F%E5%9E%8B%E5%8E%9F%E5%9E%8B%E9%93%BE%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF/><span class=title>Â« Prev</span><br><span>ç®€è¿°åŸå‹ã€åŸå‹é“¾ã€(åŸå‹)ç»§æ‰¿</span></a>
<a class=next href=https://bablvsj.github.io/posts/interview/%E6%AF%8F%E5%A4%A9%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98/css/><span class=title>Next Â»</span><br><span>Cssåº“</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>æœ¬ç«™ç”±</span><img width=60 src=/images/upyun.png>æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>