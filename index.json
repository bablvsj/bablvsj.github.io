[{"categories":null,"contents":"é˜¿ç”˜æ­£ä¼ ï¼ˆâ€œæˆ‘å¦ˆå¦ˆç»å¸¸è¯´ï¼Œç”Ÿæ´»å°±åƒå·§å…‹åŠ›ï¼Œä½ æ°¸è¿œä¸çŸ¥é“ä¸‹ä¸€é¢—æ˜¯ä»€ä¹ˆå£å‘³ã€‚â€ï¼‰\rå®è²ç¯ï¼ˆåŠ¨ç”»ï¼Œä¸ªäººè®¤ä¸ºå·²ç»é€¼è¿‘è¿ªå£«å°¼æ°´å‡†äº†ï¼‰\ræš´åŠ›è¡—åŒº Banlieue 13 ï¼ˆè·‘é…·é¼»ç¥–å¤§å«è´å°”ä¸»æ¼”ï¼‰\rå˜ç›¸æ€ªæ°ï¼ˆé‡‘å‡¯ç‘çš„è„¸ç®€ç›´å°±åƒæ©¡çš®æ³¥ï¼‰\rä¸èƒ½è¯´çš„ç§˜å¯†ï¼ˆæ›²å­éƒ½æ˜¯ç²¾å“ï¼‰\råˆæ‹è¿™ä»¶å°äº‹ï¼ˆè¿™å°±æ˜¯åˆæ‹çš„æ„Ÿè§‰ï¼‰\ræ¥šé—¨çš„ä¸–ç•Œï¼ˆâ€œå¦‚æœå†ä¸èƒ½è§åˆ°ä½ ï¼Œç¥ä½ æ—©å®‰ã€åˆå®‰ã€æ™šå®‰â€ï¼‰\rå½“å¹¸ç¦æ¥æ•²é—¨ï¼ˆâ€œä¸è¦è®©åˆ«äººå‘Šè¯‰ä½ ï¼Œä½ ä¸èƒ½åšä»€ä¹ˆï¼â€ï¼‰\råœ°é“æˆ˜ï¼ˆæŠ—æ—¥äººæ°‘çš„è„‘æ´çœŸçš„å¾ˆå¤§ï¼‰\rå¤ºå®å¥‡å…µç³»åˆ—ï¼ˆçœ‹æ•Œäººåœ¨è€å¤§åˆ€ï¼Œæ— å¥ˆä¸€æªæ”¾å€’ï¼‰\ræ”¾ç‰›ç­çš„æ˜¥å¤©ï¼ˆå¤©ç±ä¹‹éŸ³ï¼‰\ré’¢é“ä¾  1 ï¼ˆä¸ªäººè®¤ä¸ºæ¼«å¨ç³»åˆ—æœ€ä½³ï¼‰\rå›½ç‹çš„æ¼”è®²ï¼ˆå¸¦è‹±å›½æŒºè¿‡äºŒæˆ˜çš„å›½ç‹æ˜¯ä¸ªå£åƒï¼Œè¶…é•¿å¾…æœºå¥³ç‹æ˜¯ä»–çš„é•¿å¥³ï¼‰\rå“ˆåˆ©æ³¢ç‰¹ 1 ã€2 ï¼ˆè®©æˆ‘å¯¹é­”æ³•ä¸–ç•Œæœ€æœ‰æ–°é²œæ„Ÿçš„ä¸¤éƒ¨ï¼Œåé¢å°±æœ‰ç‚¹æš—é»‘äº†ï¼‰\ræµ·ä¸Šé’¢ç´å¸ˆï¼ˆéŸ³ä¹å¾ˆæ£’ï¼‰\rå¥½æƒ³å‘Šè¯‰ä½ ï¼ˆç”µå½±+åŠ¨ç”»ï¼‰\ré»‘å®¢å¸å›½ç³»åˆ—ï¼ˆè§è¯äº†ä¸¤ä¸ªå¯¼æ¼”ä»å…„å¼Ÿå˜ä¸ºå§å¼Ÿåœ¨å˜ä¸ºå§å¦¹ï¼‰\ræ¨ªç©ºå‡ºä¸–ï¼ˆâ€œä½ æ„¿æ„éšå§“åŸ‹åä¸€è¾ˆå­å—ï¼Ÿâ€ï¼‰\rè™èƒ†é¾™å¨ç³»åˆ—ï¼ˆè‹±æ–‡å Die hard è¶…çº§è´´åˆ‡ï¼Œå°±å–œæ¬¢å¸ƒé²æ–¯å¨åˆ©æ–¯è¢«ä¸¤å¤´å‘çš„æ— å¥ˆè¡¨æƒ…ï¼‰\ræ­Œèˆé’æ˜¥ 1 ï¼ˆæ­ŒæŒºå¥½å¬çš„ï¼‰\rç¯å¤ªå¹³æ´‹ï¼ˆéŸ³ä¹èµ·ï¼ï¼‰\rå›åˆ°æœªæ¥ç³»åˆ—ï¼ˆè¢«è‡´æ•¬æ— æ•°æ¬¡çš„ç§‘å¹»ç»å…¸ï¼‰\ræœºå™¨ç®¡å®¶ï¼ˆä¸€ä¸ªæƒ³æˆä¸ºäººç±»çš„æœºå™¨äººçš„äººç”Ÿï¼‰\ræœºå™¨äººæ€»åŠ¨å‘˜ï¼ˆç“¦åŠ›è¶…ä¼šå–èŒï¼‰\rç–¾é€Ÿè¿½æ€ç³»åˆ—ï¼ˆâ€œA fuxxing pencil!â€ï¼‰\rç½—é©¬å‡æ—¥(ç”·å¥³ä¸»é¢œå€¼è¶…é«˜)\rç«ç‘°äººç”Ÿï¼ˆ Edith Piaf ä¼ è®°ï¼Œå–œæ¬¢å¥¹çš„æ­Œå¯ä»¥çœ‹ä¸€çœ‹ï¼‰\ræ€¦ç„¶å¿ƒåŠ¨ï¼ˆä¸¤ä¸ªäººçš„è§†è§’æ¥è®²è¿°ä¸€ä¸ªé’æ˜¥æ•…äº‹ï¼‰\rä¸ƒç£…ï¼ˆç‰‡åå‡ºè‡ªå¨å°¼æ–¯å•†äººï¼Œä¸»è§’çš„è¿˜â€œå€ºâ€å†ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è‡ªæˆ‘çš„æ•‘èµï¼‰\ræƒ…ä¹¦ï¼ˆå…‰è‰¯çš„ç«¥è¯ MV é‡Œé¢ä¸¤ä¸ªäººçœ‹çš„é‚£ä¸ªç”µå½±ï¼Œæ²»æ„ˆç³»ï¼‰\rè®©å­å¼¹é£ï¼ˆç”³é—ï¼ï¼‰\rå…¥æ®“å¸ˆï¼ˆæ²¡æœ‰ä»¤äººä¸é€‚çš„é•œå¤´ï¼Œå¯ä»¥æ”¾å¿ƒè§‚çœ‹ï¼Œæ²»æ„ˆç³»ï¼‰\rä¸‰å‚»å¤§é—¹å®è±åï¼ˆäººç‰©å†²çªå¤„ç†åˆ°æè‡´ï¼‰\ré€Ÿåº¦ä¸æ¿€æƒ… 3 ï¼ˆå¯èƒ½æˆ‘æ˜¯ä¸ªå¼‚ç±»ï¼Ÿï¼‰\rå¤©ä½¿çˆ±ç¾ä¸½ï¼ˆè‰²å½©ã€éŸ³ä¹éƒ½å¾ˆæ£’ï¼Œæ–‡è‰ºç‰‡ï¼‰\rå¤©å ‚ç”µå½±é™¢ï¼ˆä¸€æ®µå¿˜å¹´ä¹‹äº¤ï¼‰\rå¤´æ–‡å­— D ï¼ˆâ€œæ°¸è¿œä¸è¦æœ‰è·Ÿäººæ–—çš„å¿ƒï¼Œä½ è¦èµ¢çš„æ˜¯ä½ è‡ªå·±ã€‚â€ï¼‰\ré—»é¦™è¯†å¥³äººï¼ˆè¿™éƒ¨ç”µå½±çš„å°è¯çœŸå«ä¸€ä¸ªç»ï¼ï¼‰\ræˆ‘ï¼Œæœºå™¨äººï¼ˆå¨å°”å²å¯†æ–¯ä¸»æ¼”åŠ¨ä½œç”µå½±çš„å…¥å‘ä½œï¼Œå…¶ä»–åƒé»‘è¡£äººä¹‹ç±»çš„ä¹Ÿå¾ˆæ£’ï¼‰\ræˆ‘æ˜¯ä¼ å¥‡ 1 ï¼ˆæœ‰ç‚¹ä¸§å°¸ç‰ˆé²æ»¨é€Šæ¼‚æµè®°çš„æ„Ÿè§‰ï¼‰\ræ— é—´é“ï¼ˆæ¸¯ç‰ˆç»å…¸ï¼‰\rè¥¿è¥¿é‡Œçš„ç¾ä¸½ä¼ è¯´ï¼ˆåˆç¡¬åˆéš¾å—ï¼Œäººè¨€å¯ç•ï¼‰\ré€é¥æ³•å¤–ï¼ˆåˆå«çŒ«é¼ æ¸¸æˆï¼Œå°æå­å’Œæ±¤å§†æ±‰å…‹æ–¯ç‰ˆï¼‰\rå°é¬¼å½“å®¶ç³»åˆ—ï¼ˆè„‘æ´è¶…å¤§ï¼Œè¶…æç¬‘ï¼‰\rè‚–ç”³å…‹çš„æ•‘èµï¼ˆç»å…¸ä¸è§£é‡Šï¼‰\rçªˆçª•å¥¶çˆ¸ï¼ˆç½—å®¾å¨å»‰å§†æ–¯æ¼”æŠ€ã€å£æŠ€è¶…ä¸€æµï¼‰\räº‘å›¾ï¼ˆä¸€æ—¦çœ‹æ‡‚äº†ï¼Œå°±æŒºå¦™ï¼‰\ræˆ˜äº‰ä¹‹ç‹ï¼ˆç‚¹å­è¶…å¤šçš„å†›ç«å•†çš„ä¼ å¥‡æ•…äº‹ï¼‰\rè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·ï¼ˆåå·®èŒï¼‰\rèœ˜è››ä¾  1 ï¼ˆæ²¡çœ‹è¿‡æ¼«ç”»ï¼Œæ¯”è¾ƒå–œæ¬¢è€ç‰ˆç”µå½±ï¼‰\rç»ˆç»“è€… 2 ï¼ˆğŸ‘ï¼‰\ræœ€åçš„æ­¦å£«ï¼ˆæŒºæ‚²å£®çš„æ•…äº‹ï¼‰\rå®«å´éªä½œå“ï¼ˆæˆ‘æ˜¯æœ‰å°‘å¥³å¿ƒï¼Ÿï¼‰ï¼š\rå¤©ç©ºä¹‹åŸï¼ˆå…¥å‘ä½œï¼Œæˆ‘ä¸€ç›´æ„Ÿè§‰æ˜¯æ˜ å°„ä¾µåæˆ˜äº‰ï¼‰\ré¾™çŒ«ï¼ˆè¶…å¯çˆ±ï¼ï¼‰\rå¹½çµå…¬ä¸»ï¼ˆåˆå«é­”æ³•å°‘å¥³ï¼Œä¹…çŸ³è®©ä½œæ›²è¶…ç¾ï¼‰\ré­”å¥³å®…æ€¥ä¾¿ï¼ˆæˆ‘ä¹Ÿæƒ³å…»ä¸€åªé»‘çŒ«ï¼‰\råƒä¸åƒå¯»ï¼ˆå°±æŒºå¥‡å¹»çš„ï¼‰\rå“ˆå°”çš„ç§»åŠ¨åŸå ¡ï¼ˆå…¨ç¨‹æ³¨æ„åŠ›åœ¨èœå¤´ä¸Šï¼‰\rå‘¨æ˜Ÿé©°ä¸»æ¼”çš„ç»å…¸æ— å˜å¤´ï¼Œå’ŒçŒ«å’Œè€é¼ ä¸€æ ·ï¼Œå¯ä»¥ç”µè§†è½®æ’­å¶å°”çœ‹ä¸€çœ¼ï¼š\rå–œå‰§ä¹‹ç‹\rå”ä¼¯è™ç‚¹ç§‹é¦™\rç™¾å˜æ˜Ÿå›\rå¤§è¯è¥¿æ¸¸ç³»åˆ—\råŠŸå¤«\rå›½äº§å‡Œå‡Œæ¼†\rç†Ÿæ‚‰ JavaScript ï¼ŒES6\rç†Ÿæ‚‰ web3 æ¡†æ¶ï¼Œetherjs æˆ– web3js\rç†Ÿæ‚‰å‰ç«¯ç›¸å…³æ¡†æ¶ï¼Œäº†è§£ nodejs å·¥ä½œæµ\räº†è§£ DOM ä»¥åŠç°ä»£æµè§ˆå™¨å„ç§æŠ€æœ¯\rç†Ÿæ‚‰ webgl ï¼Œthree.js åŠ åˆ†\ræ‰‹å†™ HTML ï¼Œç†Ÿæ‚‰ CSS ç¼–å†™ï¼Œæœ‰ä¸€å®šå®¡ç¾\rä¸»åŠ¨å­¦ä¹ èƒ½åŠ›\r[ä»»èŒè¦æ±‚]\rå¤§å­¦ç›¸å…³ä¸“ä¸šæœ¬ç§‘æˆ–ç ”ç©¶ç”Ÿæ¯•ä¸š\rä¸¤å¹´ä»¥ä¸Šäº’è”ç½‘ /web3 è¡Œä¸šä¸€çº¿å·¥ä½œç»éªŒ\rè‹±æ–‡æ–‡æ¡£é˜…è¯»èƒ½åŠ›\rç†Ÿæ‚‰ Linux ï¼Œç†Ÿæ‚‰å¼€æºï¼Œç†Ÿæ‚‰ git ï¼Œgithub ï¼Œpull request å·¥ä½œæµ\ræœ‰åˆ†å¸ƒå¼åŠå…¬ç»éªŒï¼Œæœ‰ç‹¬ç«‹è§£å†³é—®é¢˜çš„èƒ½åŠ›\ræœ‰å¼€æºä½œå“åŠ åˆ†\rå‘é€ç®€å†è¯·é™„å¸¦ github åœ°å€ ","permalink":"https://bablvsj.github.io/home/%E4%B8%80%E4%BA%9B%E5%80%BC%E5%BE%97%E4%B8%80%E7%9C%8B%E7%9A%84%E7%94%B5%E5%BD%B1/","tags":null,"title":"ä¸€äº›å€¼å¾—ä¸€çœ‹çš„ç”µå½±"},{"categories":null,"contents":" å¤‡æ³¨ï¼š async/await çš„å†…å®¹è¿˜æœ‰å¾…å®Œå–„ã€‚\nasync/await ï¼ˆå¼‚æ­¥å‡½æ•°ï¼‰æ¦‚è¿° async/await æ˜¯åœ¨ ES7 ä¸­å¼•å…¥çš„æ–°è¯­æ³•ï¼Œå¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚\næœ¬è´¨ï¼š Generator çš„è¯­æ³•ç³–ã€‚\nasync çš„è¿”å›å€¼æ˜¯ Promise å®ä¾‹å¯¹è±¡ã€‚\nawait å¯ä»¥å¾—åˆ°å¼‚æ­¥ç»“æœã€‚\næˆ‘ä»¬åœ¨æ™®é€šçš„å‡½æ•°å‰é¢åŠ ä¸Š async å…³é”®å­—ï¼Œå°±æˆäº† async å‡½æ•°ã€‚\nasync/await çš„åŸºæœ¬ç”¨æ³• async åé¢å¯ä»¥è·Ÿä¸€ä¸ª Promise å®ä¾‹å¯¹è±¡ã€‚ä»£ç ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nconst request1 = function() { const promise = new Promise(resolve =\u0026gt; { request(\u0026#39;https://www.baidu.com\u0026#39;, function(response) { if (response.retCode == 200) { // è¿™é‡Œçš„ response æ˜¯æ¥å£1çš„è¿”å›ç»“æœ resolve(\u0026#39;request1 success\u0026#39;+ response); } else { reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }); }); return promise; }; async function queryData() { const response = await request1(); }); return response; } queryData().then(data =\u0026gt; { console.log(data); }); åŸºäº async/await å¤„ç†å¤šæ¬¡ Ajax è¯·æ±‚ã€é‡è¦ã€‘ å®é™…å¼€å‘ä¸­ï¼Œç°åœ¨æœ‰ä¸‰ä¸ªç½‘ç»œè¯·æ±‚ï¼Œè¯·æ±‚2å¿…é¡»ä¾èµ–è¯·æ±‚1çš„ç»“æœï¼Œè¯·æ±‚3å¿…é¡»ä¾èµ–è¯·æ±‚2çš„ç»“æœï¼Œå¦‚æœæŒ‰ç…§å¾€å¸¸çš„å†™æ³•ï¼Œä¼šæœ‰ä¸‰å±‚å›è°ƒï¼Œä¼šé™·å…¥â€œå›è°ƒåœ°ç‹±â€ã€‚\nè¿™ç§åœºæ™¯å…¶å®å°±æ˜¯æ¥å£çš„å¤šå±‚åµŒå¥—è°ƒç”¨ã€‚ä¹‹å‰å­¦è¿‡ Promiseï¼Œå®ƒå¯ä»¥æŠŠåŸæœ¬çš„å¤šå±‚åµŒå¥—è°ƒç”¨æ”¹è¿›ä¸ºé“¾å¼è°ƒç”¨ã€‚\nè€Œä»Šå¤©è¦å­¦ä¹ çš„ async/await ï¼Œå¯ä»¥æŠŠåŸæœ¬çš„â€œå¤šå±‚åµŒå¥—è°ƒç”¨â€æ”¹æˆç±»ä¼¼äºåŒæ­¥çš„å†™æ³•ï¼Œéå¸¸ä¼˜é›…ã€‚\nä»£ç ä¸¾ä¾‹ï¼š\næš‚ç•¥ã€‚\nPromiseã€async\u0026hellip;awaitã€Generatorçš„å¯¹æ¯” æˆ‘ä»¬åœ¨ä½¿ç”¨ Promiseã€async\u0026hellip;awaitã€Generator çš„æ—¶å€™ï¼Œè¿”å›çš„éƒ½æ˜¯ Promise çš„å®ä¾‹ã€‚\nå¦‚æœç›´æ¥ä½¿ç”¨ Promiseï¼Œåˆ™éœ€è¦é€šè¿‡ then æ¥è¿›è¡Œé“¾å¼è°ƒç”¨ï¼›å¦‚æœä½¿ç”¨ async\u0026hellip;awaitã€Generatorï¼Œå†™èµ·æ¥æ›´åƒåŒæ­¥çš„ä»£ç ã€‚\nå‚è€ƒé“¾æ¥ js async await ç»ˆæå¼‚æ­¥è§£å†³æ–¹æ¡ˆ\nç†è§£ JavaScript çš„ async/await\n","permalink":"https://bablvsj.github.io/home/12-es7async%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/","tags":null,"title":"asyncå‡½æ•°è¯¦è§£"},{"categories":null,"contents":"JSON å¯¹è±¡ 1ã€jså¯¹è±¡(æ•°ç»„) \u0026ndash;\u0026gt; jsonå¯¹è±¡(æ•°ç»„)ï¼š\nJSON.stringify(obj/arr) 2ã€jsonå¯¹è±¡(æ•°ç»„) \u0026ndash;\u0026gt; jså¯¹è±¡(æ•°ç»„)ï¼š\nJSON.parse(json) ä¸Šé¢è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯ES5ä¸­æä¾›çš„ã€‚\næˆ‘ä»¬è¦è®°ä½ï¼Œæˆ‘ä»¬é€šå¸¸è¯´çš„â€œjsonå­—ç¬¦ä¸²â€ï¼Œåªæœ‰ä¸¤ç§ï¼šjsonå¯¹è±¡ã€jsonæ•°ç»„ã€‚\ntypeof jsonå­—ç¬¦ä¸²çš„è¿”å›ç»“æœæ˜¯stringã€‚\nObjectçš„æ‰©å±• ES5ç»™Objectæ‰©å±•äº†ä¸€äº›é™æ€æ–¹æ³•ï¼Œå¸¸ç”¨çš„æœ‰2ä¸ªï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è®²è§£ã€‚\næ–¹æ³•ä¸€ Object.create(prototype, [descriptors]) ä½œç”¨: ä»¥æŒ‡å®šå¯¹è±¡ä¸ºåŸå‹ï¼Œåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚åŒæ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¸ºä¸ºæ–°çš„å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œå¹¶å¯¹æ­¤å±æ€§è¿›è¡Œæè¿°ã€‚\nä¸¾ä¾‹1ï¼šï¼ˆæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼‰\nvar obj1 = {username: \u0026#39;smyhvae\u0026#39;, age: 26}; var obj2 = {address:\u0026#39;shenzhen\u0026#39;}; obj2 = Object.create(obj1); console.log(obj2); æ‰“å°ç»“æœï¼š\næˆ‘ä»¬å‘ç°ï¼Œobj1æˆä¸ºäº†obj2çš„åŸå‹ã€‚\nä¸¾ä¾‹2ï¼šï¼ˆæœ‰ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼‰\nç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ç»™æ–°çš„å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ã€‚æˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„ä»£ç ï¼Œå°è¯•ç»™obj2æ·»åŠ æ–°å±æ€§sexï¼š\nvar obj1 = {username: \u0026#39;smyhvae\u0026#39;, age: 26}; var obj2 = {address: \u0026#39;shenzhen\u0026#39;}; obj2 = Object.create(obj1, { sex: {//ç»™obj2æ·»åŠ æ–°çš„å±æ€§`sex`ã€‚æ³¨æ„ï¼Œè¿™ä¸€è¡Œçš„å†’å·ä¸è¦æ¼æ‰ value: \u0026#39;ç”·\u0026#39;, //é€šè¿‡valueå…³é”®å­—è®¾ç½®sexçš„å±æ€§å€¼ writable: false, configurable: true, enumerable: true } }); console.log(obj2); ä¸Šæ–¹ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç¬¬5è¡Œçš„sexç»™obj2è®¾ç½®äº†ä¸€ä¸ªæ–°çš„å±æ€§sexï¼Œä½†æ˜¯è¦é€šè¿‡valueæ¥è®¾ç½®å±æ€§å€¼ï¼ˆç¬¬6è¡Œï¼‰ã€‚\nè®¾ç½®å®Œå±æ€§å€¼åï¼Œè¿™ä¸ªå±æ€§å€¼é»˜è®¤æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œè¦é€šè¿‡writableæ¥è®¾ç½®ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¿™å‡ ä¸ªå…³é”®å­—çš„è§£é‡Šå¦‚ä¸‹ï¼š\nvalueï¼šè®¾ç½®å±æ€§å€¼ã€‚\nwritableï¼šæ ‡è¯†å½“å‰å±æ€§å€¼æ˜¯å¦å¯ä¿®æ”¹ã€‚å¦‚æœä¸å†™çš„è¯ï¼Œé»˜è®¤ä¸ºfalseï¼Œä¸å¯ä¿®æ”¹ã€‚\nconfigurableï¼šæ ‡è¯†å½“å‰å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ã€‚é»˜è®¤ä¸ºfalseï¼Œä¸å¯åˆ é™¤ã€‚\nenumerableï¼šæ ‡è¯†å½“å‰å±æ€§æ˜¯å¦èƒ½ç”¨ for in æšä¸¾ã€‚ é»˜è®¤ä¸ºfalseï¼Œä¸å¯ã€‚\næ–¹æ³•äºŒ è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹éš¾ç†è§£ã€‚\nObject.defineProperties(object, descriptors) ä½œç”¨ï¼šä¸ºæŒ‡å®šå¯¹è±¡å®šä¹‰æ‰©å±•å¤šä¸ªå±æ€§ã€‚\nä»£ç ä¸¾ä¾‹ï¼š\nvar obj2 = { firstName : \u0026#39;smyh\u0026#39;, lastName : \u0026#39;vae\u0026#39; }; Object.defineProperties(obj2, { fullName : { get : function () { return this.firstName + \u0026#39;-\u0026#39; + this.lastName }, set : function (data) { //ç›‘å¬æ‰©å±•å±æ€§ï¼Œå½“æ‰©å±•å±æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œè‡ªåŠ¨è°ƒç”¨åå°†å˜åŒ–çš„å€¼ä½œä¸ºå®å‚æ³¨å…¥åˆ°setå‡½æ•° var names = data.split(\u0026#39;-\u0026#39;); this.firstName = names[0]; this.lastName = names[1]; } } }); console.log(obj2.fullName); obj2.firstName = \u0026#39;tim\u0026#39;; obj2.lastName = \u0026#39;duncan\u0026#39;; console.log(obj2.fullName); obj2.fullName = \u0026#39;kobe-bryant\u0026#39;; console.log(obj2.fullName); get ï¼šç”¨æ¥è·å–å½“å‰å±æ€§å€¼çš„å›è°ƒå‡½æ•°\nset ï¼šä¿®æ”¹å½“å‰å±æ€§å€¼å¾—è§¦å‘çš„å›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”å®å‚å³ä¸ºä¿®æ”¹åçš„å€¼\nå­˜å–å™¨å±æ€§ï¼šsetter,getterä¸€ä¸ªç”¨æ¥å­˜å€¼ï¼Œä¸€ä¸ªç”¨æ¥å–å€¼ã€‚\nObjectçš„æ‰©å±•ï¼ˆäºŒï¼‰ objå¯¹è±¡æœ¬èº«å°±è‡ªå¸¦äº†ä¸¤ä¸ªæ–¹æ³•ã€‚æ ¼å¼å¦‚ä¸‹ï¼š\nget å±æ€§å(){} ç”¨æ¥å¾—åˆ°å½“å‰å±æ€§å€¼çš„å›è°ƒå‡½æ•° set å±æ€§å(){} ç”¨æ¥ç›‘è§†å½“å‰å±æ€§å€¼å˜åŒ–çš„å›è°ƒå‡½æ•° ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nvar obj = { firstName : \u0026#39;kobe\u0026#39;, lastName : \u0026#39;bryant\u0026#39;, get fullName(){ return this.firstName + \u0026#39; \u0026#39; + this.lastName }, set fullName(data){ var names = data.split(\u0026#39; \u0026#39;); this.firstName = names[0]; this.lastName = names[1]; } }; console.log(obj.fullName); obj.fullName = \u0026#39;curry stephen\u0026#39;; console.log(obj.fullName); æ•°ç»„çš„æ‰©å±• ä¸‹é¢è®²çš„è¿™å‡ ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯ç»™æ•°ç»„çš„å®ä¾‹ç”¨çš„ã€‚\nä¸‹é¢æåˆ°çš„æ•°ç»„çš„è¿™äº”ä¸ªæ–¹æ³•ï¼Œæ›´è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥çœ‹ã€Š03-JavaScriptåŸºç¡€/15-æ•°ç»„çš„å¸¸è§æ–¹æ³•.mdã€‹\næ–¹æ³•1ï¼š\nArray.prototype.indexOf(value) ä½œç”¨ï¼šè·å– value åœ¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡ã€‚\næ–¹æ³•2ï¼š\nArray.prototype.lastIndexOf(value) ä½œç”¨ï¼šè·å– value åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚\næ–¹æ³•3ï¼šéå†æ•°ç»„\nArray.prototype.forEach(function(item, index){}) æ–¹æ³•4ï¼š\nArray.prototype.map(function(item, index){}) ä½œç”¨ï¼šéå†æ•°ç»„è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œè¿”å›çš„æ˜¯åŠ å·¥ä¹‹åçš„æ–°æ•°ç»„ã€‚\næ–¹æ³•5ï¼š\nArray.prototype.filter(function(item, index){}) ä½œç”¨ï¼šéå†è¿‡æ»¤å‡ºä¸€ä¸ªæ–°çš„å­æ•°ç»„ï¼Œè¿”å›æ¡ä»¶ä¸ºtrueçš„å€¼ã€‚\nå‡½æ•°functionçš„æ‰©å±•ï¼šbind() ES5ä¸­æ–°å¢äº†bind()å‡½æ•°æ¥æ”¹å˜thisçš„æŒ‡å‘ã€‚\nFunction.prototype.bind(obj) ä½œç”¨ï¼šå°†å‡½æ•°å†…çš„thisç»‘å®šä¸ºobj, å¹¶å°†å‡½æ•°è¿”å›ã€‚\né¢è¯•é¢˜: call()ã€apply()å’Œbind()çš„åŒºåˆ«ï¼š\néƒ½èƒ½æ”¹å˜thisçš„æŒ‡å‘\ncall()/apply()æ˜¯ç«‹å³è°ƒç”¨å‡½æ•°\nbind()ï¼šç»‘å®šå®Œthisåï¼Œä¸ä¼šç«‹å³è°ƒç”¨å½“å‰å‡½æ•°ï¼Œè€Œæ˜¯å°†å‡½æ•°è¿”å›ï¼Œå› æ­¤åé¢è¿˜éœ€è¦å†åŠ ()æ‰èƒ½è°ƒç”¨ã€‚\nPSï¼šbind()ä¼ å‚çš„æ–¹å¼å’Œcall()ä¸€æ ·ã€‚\nåˆ†æï¼š\nä¸ºä»€ä¹ˆES5ä¸­è¦åŠ å…¥bind()æ–¹æ³•æ¥æ”¹å˜thisçš„æŒ‡å‘å‘¢ï¼Ÿå› ä¸ºbind()ä¸ä¼šç«‹å³è°ƒç”¨å½“å‰å‡½æ•°ã€‚\nbind()é€šå¸¸ä½¿ç”¨åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œå› ä¸ºå›è°ƒå‡½æ•°å¹¶ä¸ä¼šç«‹å³è°ƒç”¨ã€‚å¦‚æœä½ å¸Œæœ›åœ¨å›è°ƒå‡½æ•°ä¸­æ”¹å˜thisï¼Œä¸å¦¨ä½¿ç”¨bind()ã€‚\n","permalink":"https://bablvsj.github.io/archives/es5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%89%A9%E5%B1%95.html/","tags":null,"title":"ES5çš„ä¸€äº›æ‰©å±•"},{"categories":null,"contents":"ES çš„å‡ ä¸ªé‡è¦ç‰ˆæœ¬ ES5 : 09 å¹´å‘å¸ƒã€‚\nES6(ES2015) : 2015 å¹´å‘å¸ƒï¼Œä¹Ÿç§°ä¸º ECMA2015ã€‚\nES7(ES2016) : 2016 å¹´å‘å¸ƒï¼Œä¹Ÿç§°ä¸º ECMA2016 (å˜åŒ–ä¸å¤§)ã€‚\nä¸¥æ ¼æ¨¡å¼çš„ç†è§£ æ¦‚å¿µ ç†è§£ï¼šé™¤äº†æ­£å¸¸è¿è¡Œæ¨¡å¼(æ··æ‚æ¨¡å¼)ï¼ŒES5 æ·»åŠ äº†ç¬¬äºŒç§è¿è¡Œæ¨¡å¼ï¼š\u0026ldquo;ä¸¥æ ¼æ¨¡å¼\u0026rdquo;ï¼ˆstrict modeï¼‰ã€‚\né¡¾åæ€ä¹‰ï¼Œè¿™ç§æ¨¡å¼ä½¿å¾— Javascript åœ¨æ›´ä¸¥æ ¼çš„è¯­æ³•æ¡ä»¶ä¸‹è¿è¡Œã€‚\nç›®çš„ï¼š\næ¶ˆé™¤ Javascript è¯­æ³•çš„ä¸€äº›ä¸åˆç†ã€ä¸ä¸¥è°¨ä¹‹å¤„ï¼Œå‡å°‘ä¸€äº›æ€ªå¼‚è¡Œä¸º\næ¶ˆé™¤ä»£ç è¿è¡Œçš„ä¸€äº›ä¸å®‰å…¨ä¹‹å¤„ï¼Œä¸ºä»£ç çš„å®‰å…¨è¿è¡Œä¿é©¾æŠ¤èˆª\nä¸ºæœªæ¥æ–°ç‰ˆæœ¬çš„ Javascript åšå¥½é“ºå«\nä½¿ç”¨ é’ˆå¯¹æ•´ä¸ªè„šæœ¬æ–‡ä»¶ï¼šå°†use strictæ”¾åœ¨è„šæœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œåˆ™æ•´ä¸ªè„šæœ¬æ–‡ä»¶å°†ä»¥ä¸¥æ ¼æ¨¡å¼è¿è¡Œã€‚\né’ˆå¯¹å•ä¸ªå‡½æ•°ï¼šå°†use strictæ”¾åœ¨å‡½æ•°ä½“çš„ç¬¬ä¸€è¡Œï¼Œåˆ™æ•´ä¸ªå‡½æ•°ä»¥ä¸¥æ ¼æ¨¡å¼è¿è¡Œã€‚\nPSï¼šå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒï¼Œåˆ™è¿™å¥è¯åªè§£æä¸ºä¸€æ¡ç®€å•çš„è¯­å¥, æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚\nè„šæœ¬æ–‡ä»¶çš„å˜é€šå†™æ³•ï¼šå› ä¸ºç¬¬ä¸€ç§è°ƒç”¨æ–¹æ³•ä¸åˆ©äºæ–‡ä»¶åˆå¹¶ï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯ï¼Œå€Ÿç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œå°†æ•´ä¸ªè„šæœ¬æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªç«‹å³æ‰§è¡Œçš„åŒ¿åå‡½æ•°ä¹‹ä¸­ã€‚\nè¯­æ³•å’Œè¡Œä¸ºæ”¹å˜ å¿…é¡»ç”¨ var å£°æ˜å˜é‡\nç¦æ­¢è‡ªå®šä¹‰çš„å‡½æ•°ä¸­çš„ this æŒ‡å‘ window\nåˆ›å»º eval ä½œç”¨åŸŸ\nå¯¹è±¡ä¸èƒ½æœ‰é‡åçš„å±æ€§\nä¸¥æ ¼æ¨¡å¼å’Œæ™®é€šæ¨¡å¼çš„åŒºåˆ« ä¸‹é¢åˆ—ä¸¾å‡ æ¡ä¸¥æ ¼æ¨¡å¼çš„å†…å®¹ã€‚\nå…¨å±€å˜é‡æ˜¾å¼å£°æ˜ åœ¨æ­£å¸¸æ¨¡å¼ä¸­ï¼Œå¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰å£°æ˜å°±èµ‹å€¼ï¼Œé»˜è®¤æ˜¯å…¨å±€å˜é‡ã€‚ä¸¥æ ¼æ¨¡å¼ç¦æ­¢è¿™ç§ç”¨æ³•ï¼Œå…¨å±€å˜é‡å¿…é¡»æ˜¾å¼å£°æ˜ã€‚\nç¦æ­¢ this å…³é”®å­—æŒ‡å‘å…¨å±€å¯¹è±¡ï¼š var foo = function () { console.log(this); }; foo(); ä¸Šæ–¹ä»£ç ä¸­ï¼Œæ™®é€šæ¨¡å¼æ‰“å°çš„æ˜¯ windowã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰“å°çš„æ˜¯ undefinedã€‚\nåˆ›è®¾ eval ä½œç”¨åŸŸ ç¦æ­¢ä½¿ç”¨ with è¯­å¥ å› ä¸º with è¯­å¥æ— æ³•åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šï¼Œå±æ€§åˆ°åº•å½’å±å“ªä¸ªå¯¹è±¡ã€‚\næ„é€ å‡½æ•°å¿…é¡»é€šè¿‡ new å®ä¾‹åŒ–å¯¹è±¡ æ„é€ å‡½æ•°å¿…é¡»é€šè¿‡ new å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦åˆ™æŠ¥é”™ã€‚å› ä¸º this ä¸º undefinedï¼Œæ­¤æ—¶æ— æ³•è®¾ç½®å±æ€§ã€‚\næ¯”å¦‚è¯´ï¼š\nvar Cat = function (name) {\rthis.name = name;\r}\rCat(\u0026#39;haha\u0026#39;); ä¸Šæ–¹ä»£ç ä¸­ï¼Œå¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚\nä¸ºäº†è®©ä»£ç æ›´å®‰å…¨ï¼Œç¦æ­¢å‡½æ•°å†…éƒ¨éå†è°ƒç”¨æ ˆ ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•åˆ é™¤å˜é‡ å±æ€§ç›¸å…³ æ™®é€šæ¨¡å¼ä¸‹ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡çš„åªè¯»å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œä¸ä¼šæŠ¥é”™ï¼Œåªä¼šé»˜é»˜åœ°å¤±è´¥ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°†æŠ¥é”™ã€‚\nä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹ç¦æ­¢æ‰©å±•çš„å¯¹è±¡æ·»åŠ æ–°å±æ€§ï¼Œä¼šæŠ¥é”™ã€‚\næ™®é€šæ¨¡å¼ä¸‹ï¼Œå¦‚æœå¯¹è±¡æœ‰å¤šä¸ªé‡åå±æ€§ï¼Œæœ€åèµ‹å€¼çš„é‚£ä¸ªå±æ€§ä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™å±äºè¯­æ³•é”™è¯¯ã€‚\næ™®é€šæ¨¡å¼ä¸‹ï¼Œå¦‚æœå‡½æ•°æœ‰å¤šä¸ªé‡åçš„å‚æ•°ï¼Œå¯ä»¥ç”¨ arguments[i]è¯»å–ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¤šä¸ªé‡åçš„å‚æ•°å±äºè¯­æ³•é”™è¯¯ã€‚\næ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š\nvar obj = { username: \u0026#39;smyh\u0026#39;; username: \u0026#39;vae\u0026#39; } ä¸Šé¢çš„ä»£ç ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å±äºè¯­æ³•é”™è¯¯ï¼Œå› ä¸ºæœ‰é‡åçš„å±æ€§ã€‚\nå‡½æ•°å¿…é¡»å£°æ˜åœ¨é¡¶å±‚ å°†æ¥ Javascript çš„æ–°ç‰ˆæœ¬ä¼šå¼•å…¥\u0026quot;å—çº§ä½œç”¨åŸŸ\u0026quot;ã€‚ä¸ºäº†ä¸æ–°ç‰ˆæœ¬æ¥è½¨ï¼Œä¸¥æ ¼æ¨¡å¼åªå…è®¸åœ¨å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„é¡¶å±‚å£°æ˜å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸åœ¨éå‡½æ•°çš„ä»£ç å—å†…å£°æ˜å‡½æ•°ã€‚\næ–°å¢å…³é”®å­— ä¸ºäº†å‘å°†æ¥ Javascript çš„æ–°ç‰ˆæœ¬è¿‡æ¸¡ï¼Œä¸¥æ ¼æ¨¡å¼æ–°å¢äº†ä¸€äº›ä¿ç•™å­—ï¼šimplements, interface, let, package, private, protected, public, static, yieldã€‚\næ€»ç»“ è‡³å°‘è¦èƒ½ç­”å‡ºå››äº”æ¡ã€‚\nå‚è€ƒé“¾æ¥ï¼š\né˜®ä¸€å³° | Javascript ä¸¥æ ¼æ¨¡å¼è¯¦è§£ ","permalink":"https://bablvsj.github.io/archives/es5%E4%B8%AD%E7%9A%84%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F.html/","tags":null,"title":"ES5ä¸­çš„ä¸¥æ ¼æ¨¡å¼"},{"categories":null,"contents":"å‰è¨€ ECMAScript ç®€ä»‹ ES çš„å…¨ç§°æ˜¯ ECMAScriptï¼Œå®ƒæ˜¯ç”± ECMA å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ åˆ¶å®šçš„ä¸€å¥—è„šæœ¬è¯­è¨€çš„æ ‡å‡†åŒ–è§„èŒƒã€‚\nè¯¦ç»†æ¥è¯´ï¼ŒES æ˜¯ç”± ECMA çš„ç¬¬ 39 å·æŠ€æœ¯ä¸“å®¶å§”å‘˜ä¼šï¼ˆTechnical Committee 39ï¼Œç®€ç§° TC39ï¼‰è´Ÿè´£åˆ¶è®¢ ECMAScript æ ‡å‡†ï¼Œæˆå‘˜åŒ…æ‹¬ Microsoftã€Mozillaã€Google ç­‰å…¬å¸ã€‚\nPSï¼šç®€å•æ¥è¯´ï¼ŒECMAScript æ˜¯ JS çš„è¯­è¨€æ ‡å‡†ã€‚å½“ç„¶ï¼ŒECMAScript è¿˜åŒ…æ‹¬å…¶ä»–è„šæœ¬è¯­è¨€çš„è¯­è¨€æ ‡å‡†ã€‚\nECMAScript ç‰ˆæœ¬å‘å¸ƒè®°å½• 1995 å¹´ï¼šECMAScript è¯ç”Ÿã€‚\n1997 å¹´ï¼šECMAScript æ ‡å‡†ç¡®ç«‹ã€‚ECMA å‘å¸ƒ ECMA-262 æ ‡å‡†ï¼Œæ¨å‡ºæµè§ˆå™¨æ ‡å‡†è¯­è¨€ ECMAScript 1.0ã€‚\n1999 å¹´ï¼šå‘å¸ƒ ES3ï¼›ä¸æ­¤åŒæ—¶ï¼ŒIE5 é£é¡ä¸€æ—¶ã€‚\n2009 å¹´ï¼šå‘å¸ƒ ECMAScript 5.0ï¼ˆç®€ç§° ES5ï¼‰ã€‚ä¾‹å¦‚ foreachã€Object.keysã€Object.create å’Œ json æ ‡å‡†ã€‚\n2011 å¹´ï¼šå‘å¸ƒ ECMAScript5.1ï¼Œæˆä¸º ISO å›½é™…æ ‡å‡†ï¼Œä»è€Œæ¨åŠ¨æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚\n2015 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 6ï¼ˆç®€ç§° ES6ï¼‰ï¼Œå³ ECMAScript 2015ã€‚ï¼ˆæ³¨æ„ï¼Œå‰è€…æ˜¯æŒ‰ç‰ˆæœ¬å·åŒºåˆ†ï¼Œåè€…æ˜¯æŒ‰å¹´ä»½åŒºåˆ†ã€‚ES çš„åç»­çš„ç‰ˆæœ¬ï¼Œè¯·å°½é‡ç”¨å¹´ä»½æ¥å‘½åã€‚ï¼‰\n2016 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 7ï¼Œå³ ECMAScript 2016ã€‚\n2017 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 8ï¼Œå³ ECMAScript 2017ã€‚\n2018 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 9ï¼Œå³ ECMAScript 2018ã€‚\n2019 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 10ï¼Œå³ ECMAScript 2019ã€‚\n2020 å¹´ 6 æœˆï¼šå‘å¸ƒ ECMAScript 11ï¼Œå³ ECMAScript 2020ã€‚\n\u0026hellip;\u0026hellip;\næ­¤åï¼Œæ¯å¹´æ›´æ–°ä¸€ç‰ˆã€‚ ES6 ç®€ä»‹ ä»ä¸Šé¢çš„ ES çš„ç‰ˆæœ¬è®°å½•å¯ä»¥çœ‹å‡ºï¼š2015 å¹´ 6 æœˆï¼ŒES6 æ­£å¼å‘å¸ƒã€‚å¦‚æœç”¨å¹´ä»½æ¥å‘½åç‰ˆæœ¬å·ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸º ES2015ã€‚\nES6 æ˜¯æ–°çš„ JS è¯­æ³•æ ‡å‡†ã€‚ES6 å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œæ³›æŒ‡ ES 2015 åŠåç»­çš„ç‰ˆæœ¬ã€‚\nå¾ˆå¤šäººåœ¨åšä¸šåŠ¡é€‰å‹çš„æ—¶å€™ï¼Œä¼šå€¾å‘äºé€‰ jQueryã€‚å…¶å® jQuery çš„è¯­æ³•æ˜¯åå‘äº ES3 çš„ã€‚è€Œç°åœ¨ä¸»æµçš„æ¡†æ¶ Vue.js å’Œ React.js çš„é»˜è®¤è¯­æ³•ï¼Œéƒ½æ˜¯ç”¨çš„ ES6ã€‚\nES6 çš„æ”¹è¿›å¦‚ä¸‹ï¼š\nES6 ä¹‹å‰çš„å˜é‡æå‡ï¼Œä¼šå¯¼è‡´ç¨‹åºåœ¨è¿è¡Œæ—¶æœ‰ä¸€äº›ä¸å¯é¢„æµ‹æ€§ã€‚è€Œ ES6 ä¸­é€šè¿‡ letã€const å˜é‡ä¼˜åŒ–äº†è¿™ä¸€ç‚¹ã€‚\nES6 å¢åŠ äº†å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šå¸¸é‡ã€ä½œç”¨åŸŸã€å¯¹è±¡ä»£ç†ã€å¼‚æ­¥å¤„ç†ã€ç±»ã€ç»§æ‰¿ç­‰ã€‚è¿™äº›åœ¨ ES5 ä¸­æƒ³å®ç°ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯ ES6 å¯¹å®ƒä»¬è¿›è¡Œäº†å°è£…ã€‚\nES6 ä¹‹å‰çš„è¯­æ³•è¿‡äºæ¾æ•£ï¼Œå®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œä¸åŒçš„äººå¯èƒ½ä¼šå†™å‡ºä¸åŒçš„ä»£ç ã€‚\nES6 çš„ç›®æ ‡æ˜¯ï¼šè®© JS è¯­è¨€å¯ä»¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚\nES6 çš„ç¯å¢ƒé…ç½®ï¼ˆä¸ºäº†å…¼å®¹ ES5ï¼‰ æŒæ¡ ES6 ä¹‹åï¼Œå¦‚æœè¦è€ƒè™‘ ES5 çš„å…¼å®¹æ€§ï¼Œå¯ä»¥è¿™æ ·åšï¼šå†™ ES6 è¯­æ³•çš„ js ä»£ç ï¼Œç„¶åé€šè¿‡ Babelå°† ES6 è½¬æ¢ä¸º ES5ã€‚\nbabel çš„ä½œç”¨æ˜¯å°† ES6 è¯­æ³•è½¬ä¸º ES5 è¯­æ³•ï¼Œæ”¯æŒä½ç«¯æµè§ˆå™¨ã€‚\nä½†æ˜¯ï¼Œåœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸‹ç›¸å…³çš„ç¯å¢ƒã€‚\nå»ºç«‹å·¥ç¨‹ç›®å½• ï¼ˆ1ï¼‰å…ˆå»ºç«‹ä¸€ä¸ªç©ºçš„å·¥ç¨‹ç›®å½• ES6Demoï¼Œå¹¶åœ¨ç›®å½•ä¸‹å»ºç«‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ srcå’Œ distï¼š\nsrcï¼šä¹¦å†™ ES6 ä»£ç ï¼Œæˆ‘ä»¬å†™çš„ js ç¨‹åºéƒ½æ”¾åœ¨è¿™é‡Œã€‚\ndistï¼šåˆ©ç”¨ Babel ç¼–è¯‘ç”Ÿæˆçš„ ES5 ä»£ç ã€‚æˆ‘ä»¬åœ¨ HTML é¡µé¢éœ€è¦å¼•å…¥ dist é‡Œçš„ js æ–‡ä»¶ã€‚\nï¼ˆ2ï¼‰åœ¨ src é‡Œæ–°å»ºæ–‡ä»¶ index.htmlï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;!-- æˆ‘ä»¬å¼•å…¥ ES5 ä¸­çš„ js æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å¼•å…¥ ES6 ä¸­çš„ js æ–‡ä»¶ã€‚ --\u0026gt; \u0026lt;script src=\u0026#34;./dist/index.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt;\u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ³¨æ„ï¼Œä¸Šæ–¹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥çš„æ˜¯distç›®å½•ä¸‹çš„ js æ–‡ä»¶ã€‚\nç„¶åæˆ‘ä»¬æ–°å»ºæ–‡ä»¶ src/index.jsï¼š\nlet a = \u0026#39;smyhvae\u0026#39;; const b = \u0026#39;qianguyihao\u0026#39;; console.log(a); console.log(b); è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ª ES6 è¯­æ³• çš„ js æ–‡ä»¶ï¼Œç¨åï¼Œæˆ‘ä»¬å°è¯•æŠŠè¿™ä¸ª ES6 è¯­æ³•çš„ js æ–‡ä»¶è½¬åŒ–ä¸º ES5 çš„ js æ–‡ä»¶ã€‚\nPSï¼šæˆ‘ä»¬åœ¨å†™ä»£ç æ—¶ï¼Œèƒ½ç”¨å•å¼•å·å°½é‡ç”¨å•å¼•å·ï¼Œè€Œä¸æ˜¯åŒå¼•å·ï¼Œå‰è€…åœ¨å‹ç¼©ä¹‹åï¼Œç¨‹åºæ‰§è¡Œä¼šæ›´å¿«ã€‚\nå…¨å±€å®‰è£… Babel-cli ï¼ˆ1ï¼‰åˆå§‹åŒ–é¡¹ç›®ï¼š\nåœ¨å®‰è£… Babel ä¹‹å‰ï¼Œéœ€è¦å…ˆç”¨ npm init å…ˆåˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®ã€‚æ‰“å¼€ç»ˆç«¯æˆ–è€…é€šè¿‡ cmd æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š\nnpm init -y ä¸Šæ–¹ä»£ç ä¸­ï¼Œ-y ä»£è¡¨å…¨éƒ¨é»˜è®¤åŒæ„ï¼Œå°±ä¸ç”¨ä¸€æ¬¡æ¬¡æŒ‰å›è½¦äº†ï¼ˆç¨åå†æ ¹æ®éœ€è¦ï¼Œåœ¨æ–‡ä»¶ä¸­æ‰‹åŠ¨ä¿®æ”¹ï¼‰ã€‚å‘½ä»¤æ‰§è¡Œå®Œæˆåï¼Œä¼šåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ç”Ÿæˆ package.json æ–‡ä»¶ï¼š\n{ \u0026#34;name\u0026#34;: \u0026#34;es6demo\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;main\u0026#34;: \u0026#34;index.js\u0026#34;, \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;echo \\\u0026#34;Error: no test specified\\\u0026#34; \u0026amp;\u0026amp; exit 1\u0026#34; }, \u0026#34;author\u0026#34;: \u0026#34;smyhvae\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;ISC\u0026#34; } PSï¼šVS Code é‡Œæ‰“å¼€ç»ˆç«¯çš„å¿«æ·é”®æ˜¯ï¼šContol + ~ã€‚\nï¼ˆ2ï¼‰å…¨å±€å®‰è£… Babel-cliï¼š\nåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nnpm install -g babel-cli å¦‚æœå®‰è£…æ¯”è¾ƒæ…¢çš„è¯ï¼ŒMac ä¸‹å¯ä»¥ä½¿ç”¨cnpmè¿›è¡Œå®‰è£… ï¼Œwindows ä¸‹å¯ä»¥ä½¿ç”¨nrmåˆ‡æ¢åˆ° taobao çš„é•œåƒã€‚\nï¼ˆ3ï¼‰æœ¬åœ°å®‰è£… babel-preset-es2015 å’Œ babel-cliï¼š\nnpm install --save-dev babel-preset-es2015 babel-cli å®‰è£…å®Œæˆåï¼Œä¼šå‘ç°package.jsonæ–‡ä»¶ï¼Œå·²ç»å¤šäº† devDependencies é€‰é¡¹ï¼š\nï¼ˆ4ï¼‰æ–°å»º.babelrcï¼š\nåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶.babelrcï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š\n{\r\u0026#34;presets\u0026#34;:[\r\u0026#34;es2015\u0026#34;\r],\r\u0026#34;plugins\u0026#34;:[]\r} ï¼ˆ5ï¼‰å¼€å§‹è½¬æ¢ï¼š\nç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥å°† ES6 çš„æ–‡ä»¶è½¬åŒ–ä¸º ES5 çš„æ–‡ä»¶äº†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼šï¼ˆæ­¤å‘½ä»¤ç•¥æ˜¾å¤æ‚ï¼‰\nbabel src/index.js -o dist/index.js æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢è¿™ä¸ªå‘½ä»¤è¿›è¡Œç®€åŒ–ä¸€ä¸‹ã€‚æ“ä½œå¦‚ä¸‹ï¼š\nåœ¨æ–‡ä»¶ package.json ä¸­ä¿®æ”¹é”® scriptsä¸­çš„å†…å®¹ï¼š\n\u0026#34;scripts\u0026#34;: { \u0026#34;build\u0026#34;: \u0026#34;babel src/index.js -o dist/index.js\u0026#34; }, ä¿®æ”¹åçš„æ•ˆæœå¦‚ä¸‹ï¼š\nç›®å‰ä¸ºæ­¢ï¼Œç¯å¢ƒé…ç½®å¥½äº†ã€‚ä»¥åï¼Œæˆ‘ä»¬æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯å°†src/index.jsè¿™ä¸ª ES6 æ–‡ä»¶è½¬åŒ–ä¸º dist/index.jsè¿™ä¸ª ES5 æ–‡ä»¶ï¼š\nnpm run build æˆ‘ä»¬æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¹‹åï¼Œä¼šå‘ç°ï¼Œ dist ç›®å½•ä¸‹ä¼šç”Ÿæˆ ES5 çš„ js æ–‡ä»¶ï¼š\nindex.jsï¼š\n\u0026#39;use strict\u0026#39;; var a = \u0026#39;smyhvae\u0026#39;; var b = \u0026#39;qianguyihao\u0026#39;; console.log(a); console.log(b); å½“æˆ‘ä»¬æ‰“å¼€ç½‘é¡µåï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œçœ‹åˆ°ä»£ç çš„è¾“å‡ºç»“æœã€‚\næœ¬æ®µå†…å®¹çš„å‚è€ƒé“¾æ¥ï¼šhttp://jspang.com/2017/06/03/es6/\n","permalink":"https://bablvsj.github.io/archives/es6%E7%9A%84%E4%BB%8B%E7%BB%8D%E5%92%8C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html/","tags":null,"title":"Es6çš„ä»‹ç»å’Œç¯å¢ƒé…ç½®"},{"categories":null,"contents":"ES6 çš„å˜é‡å£°æ˜ ES5 ä¸­ï¼Œä½¿ç”¨ var å®šä¹‰å…¨å±€å˜é‡ï¼ˆ var æ˜¯ variable çš„ç®€å†™ï¼‰ã€‚\nES6 ä¸­ï¼Œæ–°å¢äº† let å’Œ const æ¥å®šä¹‰å˜é‡ï¼š\nletï¼šå®šä¹‰å±€éƒ¨å˜é‡ï¼Œæ›¿ä»£ varã€‚\nconstï¼šå®šä¹‰å¸¸é‡ï¼ˆå®šä¹‰åï¼Œä¸å¯ä¿®æ”¹ï¼‰ã€‚\n1ã€varï¼šå®šä¹‰å…¨å±€å˜é‡ çœ‹ä¸‹é¢çš„ä»£ç ï¼š\n{ var a = 1; } console.log(a); //è¿™é‡Œçš„ aï¼ŒæŒ‡çš„æ˜¯ åŒºå— é‡Œçš„ a ä¸Šæ–¹ä»£ç æ˜¯å¯ä»¥è¾“å‡ºç»“æœçš„ï¼Œè¾“å‡ºç»“æœä¸º 1ã€‚å› ä¸º var æ˜¯å…¨å±€å£°æ˜çš„ï¼Œæ‰€ä»¥ï¼Œå³ä½¿æ˜¯åœ¨åŒºå—é‡Œå£°æ˜ï¼Œä½†ä»ç„¶åœ¨å…¨å±€èµ·ä½œç”¨ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼šä½¿ç”¨ var å£°æ˜çš„å˜é‡ä¸å…·å¤‡å—çº§ä½œç”¨åŸŸç‰¹æ€§ã€‚\nå†æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š\nvar a = 1; { var a = 2; } console.log(a); //è¿™é‡Œçš„ aï¼ŒæŒ‡çš„æ˜¯ åŒºå— é‡Œçš„ a ä¸Šæ–¹ä»£ç çš„è¾“å‡ºç»“æœä¸º 2 ï¼Œå› ä¸º var æ˜¯å…¨å±€å£°æ˜çš„ã€‚\næ€»ç»“ï¼š\nç”¨ var å®šä¹‰çš„å…¨éƒ¨å˜é‡ï¼Œæœ‰æ—¶å€™ä¼šæ±¡æŸ“æ•´ä¸ª js çš„ä½œç”¨åŸŸã€‚æˆ‘ä»¬åœ¨å¦‚ä»Šçš„å®æˆ˜ä¸­ï¼ŒåŸºæœ¬éƒ½æ˜¯ç”¨çš„ ES6 è¯­æ³•ï¼Œæ‰€ä»¥è¯·å°½é‡é¿å…ä½¿ç”¨ var å®šä¹‰å˜é‡ã€‚\n2ã€letï¼šå®šä¹‰å±€éƒ¨å˜é‡ ä¸¾ä¾‹ 1ï¼š\n{ let a = \u0026#39;hello\u0026#39;; } console.log(a); // æ‰“å°ç»“æœæŠ¥é”™ï¼šUncaught ReferenceError: a is not defined ä¸Šæ–¹ä»£ç ï¼Œæ‰“å°æŠ¥é”™ã€‚\nä¸¾ä¾‹ 2ï¼š\nvar a = 2; { let a = 3; } console.log(a); // æ‰“å°ç»“æœï¼š2 é€šè¿‡ä¸Šé¢ä¸¤ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œç”¨ let å£°æ˜çš„å˜é‡ï¼Œåªåœ¨å±€éƒ¨ï¼ˆå—çº§ä½œç”¨åŸŸå†…ï¼‰èµ·ä½œç”¨ã€‚\nç»å…¸é¢è¯•é¢˜ï¼š\nlet å¯ä»¥é˜²æ­¢æ•°æ®æ±¡æŸ“ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ª for å¾ªç¯çš„ç»å…¸é¢è¯•é¢˜ã€‚\n1ã€ç”¨ var å£°æ˜å˜é‡ï¼š\nfor (var i = 0; i \u0026lt; 10; i++) { console.log(\u0026#39;å¾ªç¯ä½“ä¸­:\u0026#39; + i); } console.log(\u0026#39;å¾ªç¯ä½“å¤–:\u0026#39; + i); ä¸Šæ–¹ä»£ç å¯ä»¥æ­£å¸¸æ‰“å°ç»“æœï¼Œä¸”æœ€åä¸€è¡Œçš„æ‰“å°ç»“æœæ˜¯ 10ã€‚è¯´æ˜å¾ªç¯ä½“å¤–å®šä¹‰çš„å˜é‡ iï¼Œæ˜¯å…¨å±€ä½œç”¨åŸŸä¸‹çš„ iã€‚\n2ã€ç”¨ let å£°æ˜å˜é‡ï¼š\nfor (let i = 0; i \u0026lt; 10; i++) { console.log(\u0026#39;å¾ªç¯ä½“ä¸­:\u0026#39; + i); // // æ¯å¾ªç¯ä¸€æ¬¡ï¼Œå°±ä¼šåœ¨ { } æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸä¸­ï¼Œé‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡ i } console.log(\u0026#39;å¾ªç¯ä½“å¤–:\u0026#39; + i); ä¸Šæ–¹ä»£ç çš„å…³é”®åœ¨äºï¼šæ¯æ¬¡å¾ªç¯éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ¯ä¸ªå—çº§ä½œç”¨åŸŸä¸­ä¼šé‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡ iã€‚\nå¦å¤–ï¼Œä¸Šæ–¹ä»£ç çš„æœ€åä¸€è¡Œæ— æ³•æ‰“å°ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´æ‰“å°ä¼šæŠ¥é”™ã€‚å› ä¸ºç”¨ let å®šä¹‰çš„å˜é‡ iï¼Œåªåœ¨{ }è¿™ä¸ªå—çº§ä½œç”¨åŸŸé‡Œç”Ÿæ•ˆã€‚\næ€»ç»“ï¼šæˆ‘ä»¬è¦ä¹ æƒ¯ç”¨ let å£°æ˜ï¼Œå‡å°‘ var å£°æ˜å¸¦æ¥çš„æ±¡æŸ“å…¨å±€ç©ºé—´ã€‚\nä¸ºäº†è¿›ä¸€æ­¥è¯´æ˜ let ä¸ä¼šå¸¦æ¥æ±¡æŸ“ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼šå½“æˆ‘ä»¬å®šä¹‰äº†let a = 1æ—¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ç»§ç»­å®šä¹‰let a = 2ï¼Œæ˜¯ä¼šæŠ¥é”™çš„ã€‚\n3ã€constï¼šå®šä¹‰å¸¸é‡ åœ¨ç¨‹åºå¼€å‘ä¸­ï¼Œæœ‰äº›å˜é‡æ˜¯å¸Œæœ›å£°æ˜åï¼Œåœ¨ä¸šåŠ¡å±‚å°±ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ const æ¥å®šä¹‰å¸¸é‡ã€‚å¸¸é‡å°±æ˜¯å€¼ï¼ˆå†…å­˜åœ°å€ï¼‰ä¸èƒ½å˜åŒ–çš„é‡ã€‚\nä¸¾ä¾‹ï¼š\nconst name = \u0026#39;smyhvae\u0026#39;; //å®šä¹‰å¸¸é‡ ç”¨ const å£°æ˜çš„å¸¸é‡ï¼Œåªåœ¨å±€éƒ¨ï¼ˆå—çº§ä½œç”¨åŸŸå†…ï¼‰èµ·ä½œç”¨ï¼›è€Œä¸”ï¼Œç”¨ const å£°æ˜å¸¸é‡æ—¶ï¼Œå¿…é¡»èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚\nlet å’Œ const çš„ç‰¹ç‚¹ã€é‡è¦ã€‘ ä¸å­˜åœ¨å˜é‡æå‡\nç¦æ­¢é‡å¤å£°æ˜\næ”¯æŒå—çº§ä½œç”¨åŸŸ\næš‚æ—¶æ€§æ­»åŒº\nç›¸åï¼Œ ç”¨varå£°æ˜çš„å˜é‡ï¼šå­˜åœ¨å˜é‡æå‡ã€å¯ä»¥é‡å¤å£°æ˜ã€æ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚\nvar/let/const çš„å…±åŒç‚¹ å…¨å±€ä½œç”¨åŸŸä¸­å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚\nå‡½æ•°ä¸­å£°æ˜çš„å˜é‡ï¼Œåªèƒ½åœ¨å‡½æ•°åŠå…¶å­å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¤–éƒ¨æ— æ³•ä½¿ç”¨ã€‚\næ€»ç»“ å…³äº letã€constã€var æ›´è¯¦ç»†çš„ä»‹ç»å’ŒåŒºåˆ«ï¼Œå¯ä»¥çœ‹æœ¬é¡¹ç›®çš„å¦ä¸€ç¯‡æ–‡ç« ã€ŠJavaScript è¿›é˜¶/varã€letã€const çš„åŒºåˆ«.mdã€‹ã€‚\nfor å¾ªç¯ä¸¾ä¾‹ï¼ˆç»å…¸æ¡ˆä¾‹ï¼‰ ä»£ç  1ã€æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä¸‹ä»£ç ï¼šï¼ˆç”¨ var å®šä¹‰å˜é‡ iï¼‰\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;aa\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;bb\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;cc\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;dd\u0026#34; /\u0026gt; \u0026lt;script\u0026gt; var myBtn = document.getElementsByTagName(\u0026#39;input\u0026#39;); for (var i = 0; i \u0026lt; myBtn.length; i++) { myBtn[i].onclick = function () { alert(i); }; } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ä¸Šæ–¹ä»£ç ä¸­çš„è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\nä½ å¯èƒ½ä¼šæ„Ÿåˆ°è¯§å¼‚ï¼Œä¸ºä½•ç‚¹å‡»ä»»ä½•ä¸€ä¸ªæŒ‰é’®ï¼Œå¼¹å‡ºçš„å†…å®¹éƒ½æ˜¯ 4 å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬ç”¨ var å®šä¹‰çš„å˜é‡ iï¼Œæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜çš„ã€‚æ•´ä¸ªä»£ç ä¸­ï¼Œè‡ªå§‹è‡³ç»ˆåªæœ‰ä¸€ä¸ªå˜é‡ã€‚\nfor å¾ªç¯æ˜¯åŒæ­¥ä»£ç ï¼Œè€Œ onclick ç‚¹å‡»äº‹ä»¶æ˜¯å¼‚æ­¥ä»£ç ã€‚å½“æˆ‘ä»¬è¿˜æ²¡ç‚¹å‡»æŒ‰é’®ä¹‹å‰ï¼ŒåŒæ­¥ä»£ç å·²ç»æ‰§è¡Œå®Œäº†ï¼Œå˜é‡ i å·²ç»å¾ªç¯åˆ° 4 äº†ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ for å¾ªç¯ï¼Œç›¸å½“äºå¦‚ä¸‹ä»£ç ï¼š\nvar i = 0; myBtn[0].onclick = function () { alert(i); }; i++; myBtn[1].onclick = function () { alert(i); }; i++; myBtn[2].onclick = function () { alert(i); }; i++; myBtn[3].onclick = function () { alert(i); }; i++; // åˆ°è¿™é‡Œï¼Œi çš„å€¼å·²ç»æ˜¯4äº†ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œiçš„å€¼ä¸€ç›´éƒ½æ˜¯4 ä»£ç  2ã€ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ”¹ä¸ºç”¨ let å®šä¹‰å˜é‡ iï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;meta /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;aa\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;bb\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;cc\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; value=\u0026#34;dd\u0026#34; /\u0026gt; \u0026lt;script\u0026gt; var myBtn = document.getElementsByTagName(\u0026#39;input\u0026#39;); for (let i = 0; i \u0026lt; myBtn.length; i++) { myBtn[i].onclick = function () { alert(i); }; } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ä¸Šæ–¹ä»£ç ä¸­çš„è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\nä¸Šé¢è¿™ä¸ªè¿è¡Œç»“æœï¼Œæ‰æ˜¯æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœã€‚æˆ‘ä»¬ç”¨ let å®šä¹‰å˜é‡ iï¼Œåœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“ï¼Œå°±ä¼šè¯ç”Ÿä¸€ä¸ªæ–°çš„ iã€‚å¾ªç¯ä½“æ‰§è¡Œ 4 æ¬¡ï¼Œå°±ä¼šæœ‰å››ä¸ª iã€‚\næš‚æ—¶æ€§æ­»åŒº DTC ES6 è§„å®šï¼šä½¿ç”¨ let/const å£°æ˜çš„å˜é‡ï¼Œä¼šä½¿åŒºå—å½¢æˆå°é—­çš„ä½œç”¨åŸŸã€‚è‹¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½¿ç”¨ let/const å£°æ˜å˜é‡æ—¶ï¼Œå˜é‡éœ€è¦å…ˆå£°æ˜ï¼Œå†ä½¿ç”¨ï¼ˆå£°æ˜è¯­å¥å¿…é¡»æ”¾åœ¨ä½¿ç”¨ä¹‹å‰ï¼‰ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸º â€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆ temporal dead zoneï¼Œç®€ç§° TDZï¼‰ã€‚\nDTC å…¶å®æ˜¯ä¸€ç§ä¿æŠ¤æœºåˆ¶ï¼Œå¯ä»¥è®©æˆ‘ä»¬å…»æˆè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚\nä»£ç ä¸¾ä¾‹ï¼š\nconst name = \u0026#39;qianguyihao\u0026#39;; function foo() { console.log(name); const name = \u0026#39;hello\u0026#39;; } foo(); // æ‰§è¡Œå‡½æ•°åï¼Œæ§åˆ¶å°æŠ¥é”™ï¼šUncaught ReferenceError: Cannot access \u0026#39;name\u0026#39; before initialization å‚è€ƒé“¾æ¥ï¼š é˜®ä¸€å³° | ECMAScript 6 å…¥é—¨ ","permalink":"https://bablvsj.github.io/archives/letconst%E5%92%8C%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F.html/","tags":null,"title":"letã€constå’Œå—çº§ä½œç”¨åŸŸ"},{"categories":null,"contents":"é“¾å¼è°ƒç”¨ï¼šåŸºäº Promise å¤„ç†å¤šæ¬¡ Ajax è¯·æ±‚ã€é‡è¦ã€‘ å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŒæ—¶è¯·æ±‚å¤šä¸ªæ¥å£ã€‚æ¯”å¦‚è¯´ï¼šåœ¨è¯·æ±‚å®Œæ¥å£1çš„æ•°æ®data1ä¹‹åï¼Œéœ€è¦æ ¹æ®data1çš„æ•°æ®ï¼Œç»§ç»­è¯·æ±‚æ¥å£ 2ï¼Œè·å–data2ï¼›ç„¶åæ ¹æ®data2çš„æ•°æ®ï¼Œç»§ç»­è¯·æ±‚æ¥å£ 3ã€‚\næ¢è€Œè¨€ä¹‹ï¼Œç°åœ¨æœ‰ä¸‰ä¸ªç½‘ç»œè¯·æ±‚ï¼Œè¯·æ±‚ 2 å¿…é¡»ä¾èµ–è¯·æ±‚ 1 çš„ç»“æœï¼Œè¯·æ±‚ 3 å¿…é¡»ä¾èµ–è¯·æ±‚ 2 çš„ç»“æœï¼Œå¦‚æœæŒ‰ç…§å¾€å¸¸çš„å†™æ³•ï¼Œä¼šæœ‰ä¸‰å±‚å›è°ƒï¼Œä¼šé™·å…¥â€œå›è°ƒåœ°ç‹±â€ã€‚\nè¿™ç§åœºæ™¯å…¶å®å°±æ˜¯æ¥å£çš„å¤šå±‚åµŒå¥—è°ƒç”¨ã€‚æœ‰äº† Promise ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤šå±‚åµŒå¥—è°ƒç”¨æŒ‰ç…§çº¿æ€§çš„æ–¹å¼è¿›è¡Œä¹¦å†™ï¼Œéå¸¸ä¼˜é›…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šPromise å¯ä»¥æŠŠåŸæœ¬çš„å¤šå±‚åµŒå¥—è°ƒç”¨æ”¹è¿›ä¸ºé“¾å¼è°ƒç”¨ã€‚\nä»£ç ä¸¾ä¾‹ï¼šï¼ˆå¤šæ¬¡ Ajax è¯·æ±‚ï¼Œé“¾å¼è°ƒç”¨ï¼‰\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; const request = require(\u0026#39;request\u0026#39;); // Promise å°è£…æ¥å£1 const request1 = function () { const promise = new Promise((resolve, reject) =\u0026gt; { request(\u0026#39;https://www.baidu.com\u0026#39;, function (response) { if (response.retCode == 200) { // è¿™é‡Œçš„ response æ˜¯æ¥å£1çš„è¿”å›ç»“æœ resolve(\u0026#39;request1 success\u0026#39; + response); } else { reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }); }); return promise; }; // Promise å°è£…æ¥å£2 const request2 = function () { const promise = new Promise((resolve, reject) =\u0026gt; { request(\u0026#39;https://www.jd.com\u0026#39;, function (response) { if (response.retCode == 200) { // è¿™é‡Œçš„ response æ˜¯æ¥å£2çš„è¿”å›ç»“æœ resolve(\u0026#39;request2 success\u0026#39; + response); } else { reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }); }); return promise; }; // Promise å°è£…æ¥å£3 const request3 = function () { const promise = new Promise((resolve, reject) =\u0026gt; { request(\u0026#39;https://www.taobao.com\u0026#39;, function (response) { if (response.retCode == 200) { // è¿™é‡Œçš„ response æ˜¯æ¥å£3çš„è¿”å›ç»“æœ resolve(\u0026#39;request3 success\u0026#39; + response); } else { reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }); }); return promise; }; // å…ˆå‘èµ·request1ï¼Œç­‰resolveåå†å‘èµ·request2ï¼›ç´§æ¥ç€ï¼Œç­‰ request2æœ‰äº† resolveä¹‹åï¼Œå†å‘èµ· request3 request1() .then((res1) =\u0026gt; { // æ¥å£1è¯·æ±‚æˆåŠŸåï¼Œæ‰“å°æ¥å£1çš„è¿”å›ç»“æœ console.log(res1); return request2(); }) .then((res2) =\u0026gt; { // æ¥å£2è¯·æ±‚æˆåŠŸåï¼Œæ‰“å°æ¥å£2çš„è¿”å›ç»“æœ console.log(res2); return request3(); }) .then((res3) =\u0026gt; { // æ¥å£3è¯·æ±‚æˆåŠŸåï¼Œæ‰“å°æ¥å£3çš„è¿”å›ç»“æœ console.log(res3); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ä¸Šé¢ä»£ç ä¸­ï¼Œthen æ˜¯å¯ä»¥é“¾å¼è°ƒç”¨çš„ï¼Œåé¢çš„ then å¯ä»¥æ‹¿åˆ°å‰é¢ resolve å‡ºæ¥çš„æ•°æ®ã€‚\nè¿™ä¸ªä¸¾ä¾‹å¾ˆç»å…¸ï¼Œéœ€è¦å¤šçœ‹å‡ éã€‚\nreturn çš„å‡½æ•°è¿”å›å€¼ return åé¢çš„è¿”å›å€¼ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š\næƒ…å†µ 1ï¼šè¿”å› Promise å®ä¾‹å¯¹è±¡ã€‚è¿”å›çš„è¯¥å®ä¾‹å¯¹è±¡ä¼šè°ƒç”¨ä¸‹ä¸€ä¸ª thenã€‚\næƒ…å†µ 2ï¼šè¿”å›æ™®é€šå€¼ã€‚è¿”å›çš„æ™®é€šå€¼ä¼šç›´æ¥ä¼ é€’ç»™ä¸‹ä¸€ä¸ª thenï¼Œé€šè¿‡ then å‚æ•°ä¸­å‡½æ•°çš„å‚æ•°æ¥æ”¶è¯¥å€¼ã€‚\næˆ‘ä»¬é’ˆå¯¹ä¸Šé¢è¿™ä¸¤ç§æƒ…å†µï¼Œè¯¦ç»†è§£é‡Šä¸€ä¸‹ã€‚\næƒ…å†µ 1ï¼šè¿”å› Promise å®ä¾‹å¯¹è±¡ ä¸¾ä¾‹å¦‚ä¸‹ï¼šï¼ˆè¿™ä¸ªä¾‹å­ï¼Œè·Ÿä¸Šä¸€æ®µ Ajax é“¾å¼è°ƒç”¨ çš„ä¾‹å­å·®ä¸å¤šï¼‰\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; /* åŸºäºPromiseå‘é€Ajaxè¯·æ±‚ */ function queryData(url) { return new Promise((resolve, reject) =\u0026gt; { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState != 4) return; if (xhr.readyState == 4 \u0026amp;\u0026amp; xhr.status == 200) { // å¤„ç†æ­£å¸¸æƒ…å†µ resolve(xhr.responseText); } else { // å¤„ç†å¼‚å¸¸æƒ…å†µ reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }; xhr.responseType = \u0026#39;json\u0026#39;; // è®¾ç½®è¿”å›çš„æ•°æ®ç±»å‹ xhr.open(\u0026#39;get\u0026#39;, url); xhr.send(null); // è¯·æ±‚æ¥å£ }); } // å‘é€å¤šä¸ªajaxè¯·æ±‚å¹¶ä¸”ä¿è¯é¡ºåº queryData(\u0026#39;http://localhost:3000/api1\u0026#39;) .then( (data1) =\u0026gt; { console.log(JSON.stringify(data1)); return queryData(\u0026#39;http://localhost:3000/api2\u0026#39;); }, (error1) =\u0026gt; { console.log(error1); } ) .then( (data2) =\u0026gt; { console.log(JSON.stringify(data2)); // è¿™é‡Œçš„ returnï¼Œè¿”å›çš„æ˜¯ Promise å®ä¾‹å¯¹è±¡ return new Promise((resolve, reject) =\u0026gt; { resolve(\u0026#39;qianguyihao\u0026#39;); }); }, (error2) =\u0026gt; { console.log(error2); } ) .then((data3) =\u0026gt; { console.log(data3); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æƒ…å†µ 2ï¼šè¿”å› æ™®é€šå€¼ \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; /* åŸºäºPromiseå‘é€Ajaxè¯·æ±‚ */ function queryData(url) { return new Promise((resolve, reject) =\u0026gt; { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState != 4) return; if (xhr.readyState == 4 \u0026amp;\u0026amp; xhr.status == 200) { // å¤„ç†æ­£å¸¸æƒ…å†µ resolve(xhr.responseText); } else { // å¤„ç†å¼‚å¸¸æƒ…å†µ reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }; xhr.responseType = \u0026#39;json\u0026#39;; // è®¾ç½®è¿”å›çš„æ•°æ®ç±»å‹ xhr.open(\u0026#39;get\u0026#39;, url); xhr.send(null); // è¯·æ±‚æ¥å£ }); } // å‘é€å¤šä¸ªajaxè¯·æ±‚å¹¶ä¸”ä¿è¯é¡ºåº queryData(\u0026#39;http://localhost:3000/api1\u0026#39;) .then( (data1) =\u0026gt; { console.log(JSON.stringify(data1)); return queryData(\u0026#39;http://localhost:3000/api2\u0026#39;); }, (error1) =\u0026gt; { console.log(error1); } ) .then( (data2) =\u0026gt; { console.log(JSON.stringify(data2)); // è¿”å›æ™®é€šå€¼ return \u0026#39;qianguyihao\u0026#39;; }, (error2) =\u0026gt; { console.log(error2); } ) /* æ—¢ç„¶ä¸Šæ–¹è¿”å›çš„æ˜¯ æ™®é€šå€¼ï¼Œé‚£ä¹ˆï¼Œè¿™é‡Œçš„ then æ˜¯è°æ¥è°ƒç”¨å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼šè¿™é‡Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ é»˜è®¤çš„ promiseå®ä¾‹ï¼Œæ¥è°ƒç”¨è¿™é‡Œçš„thenï¼Œç¡®ä¿å¯ä»¥ç»§ç»­è¿›è¡Œé“¾å¼æ“ä½œã€‚ */ .then((data3) =\u0026gt; { // è¿™é‡Œçš„ data3 æ¥æ”¶çš„æ˜¯ æ™®é€šå€¼ \u0026#39;qianguyihao\u0026#39; console.log(data3); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Promise çš„å¸¸ç”¨ APIï¼šå®ä¾‹æ–¹æ³•ã€é‡è¦ã€‘ Promise è‡ªå¸¦çš„ API æä¾›äº†å¦‚ä¸‹å®ä¾‹æ–¹æ³•ï¼š\npromise.then()ï¼šè·å–å¼‚æ­¥ä»»åŠ¡çš„æ­£å¸¸ç»“æœã€‚\npromise.catch()ï¼šè·å–å¼‚æ­¥ä»»åŠ¡çš„å¼‚å¸¸ç»“æœã€‚\npromise.finaly()ï¼šå¼‚æ­¥ä»»åŠ¡æ— è®ºæˆåŠŸä¸å¦ï¼Œéƒ½ä¼šæ‰§è¡Œã€‚\nä»£ç ä¸¾ä¾‹å¦‚ä¸‹ã€‚\nå†™æ³• 1ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; function queryData() { return new Promise((resolve, reject) =\u0026gt; { setTimeout(function () { var data = { retCode: 0, msg: \u0026#39;qianguyihao\u0026#39; }; // æ¥å£è¿”å›çš„æ•°æ® if (data.retCode == 0) { // æ¥å£è¯·æ±‚æˆåŠŸæ—¶è°ƒç”¨ resolve(data); } else { // æ¥å£è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨ reject({ retCode: -1, msg: \u0026#39;network error\u0026#39; }); } }, 100); }); } queryData() .then((data) =\u0026gt; { // ä» resolve è·å–æ­£å¸¸ç»“æœ console.log(\u0026#39;æ¥å£è¯·æ±‚æˆåŠŸæ—¶ï¼Œèµ°è¿™é‡Œ\u0026#39;); console.log(data); }) .catch((data) =\u0026gt; { // ä» reject è·å–å¼‚å¸¸ç»“æœ console.log(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥æ—¶ï¼Œèµ°è¿™é‡Œ\u0026#39;); console.log(data); }) .finally(() =\u0026gt; { console.log(\u0026#39;æ— è®ºæ¥å£è¯·æ±‚æˆåŠŸä¸å¦ï¼Œéƒ½ä¼šèµ°è¿™é‡Œ\u0026#39;); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å†™æ³• 2ï¼šï¼ˆå’Œä¸Šé¢çš„å†™æ³• 1 ç­‰ä»·ï¼‰\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt; function queryData() { return new Promise((resolve, reject) =\u0026gt; { setTimeout(function () { var data = { retCode: 0, msg: \u0026#39;qianguyihao\u0026#39; }; // æ¥å£è¿”å›çš„æ•°æ® if (data.retCode == 0) { // æ¥å£è¯·æ±‚æˆåŠŸæ—¶è°ƒç”¨ resolve(data); } else { // æ¥å£è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨ reject({ retCode: -1, msg: \u0026#39;network error\u0026#39; }); } }, 100); }); } queryData() .then( (data) =\u0026gt; { // ä» resolve è·å–æ­£å¸¸ç»“æœ console.log(\u0026#39;æ¥å£è¯·æ±‚æˆåŠŸæ—¶ï¼Œèµ°è¿™é‡Œ\u0026#39;); console.log(data); }, (data) =\u0026gt; { // ä» reject è·å–å¼‚å¸¸ç»“æœ console.log(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥æ—¶ï¼Œèµ°è¿™é‡Œ\u0026#39;); console.log(data); } ) .finally(() =\u0026gt; { console.log(\u0026#39;æ— è®ºæ¥å£è¯·æ±‚æˆåŠŸä¸å¦ï¼Œéƒ½ä¼šèµ°è¿™é‡Œ\u0026#39;); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ³¨æ„ï¼šå†™æ³• 1 å’Œå†™æ³• 2 çš„ä½œç”¨æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚åªä¸è¿‡ï¼Œå†™æ³• 2 æ˜¯æŠŠ catch é‡Œé¢çš„ä»£ç ä½œä¸º then é‡Œé¢çš„ç¬¬äºŒä¸ªå‚æ•°è€Œå·²ã€‚\nPromise çš„å¸¸ç”¨ APIï¼šå¯¹è±¡æ–¹æ³•ã€é‡è¦ã€‘ Promise è‡ªå¸¦çš„ API æä¾›äº†å¦‚ä¸‹å¯¹è±¡æ–¹æ³•ï¼š\nPromise.all()ï¼šå¹¶å‘å¤„ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½æ‰§è¡ŒæˆåŠŸï¼Œæ‰èƒ½å¾—åˆ°ç»“æœã€‚\nPromise.race(): å¹¶å‘å¤„ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ï¼Œåªè¦æœ‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œå°±èƒ½å¾—åˆ°ç»“æœã€‚\nä¸‹é¢æ¥è¯¦ç»†ä»‹ç»ã€‚\nPromise.all() ä»£ç ä¸¾ä¾‹ ä»£ç ä¸¾ä¾‹ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; /* å°è£… Promise æ¥å£è°ƒç”¨ */ function queryData(url) { return new Promise((resolve, reject) =\u0026gt; { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState != 4) return; if (xhr.readyState == 4 \u0026amp;\u0026amp; xhr.status == 200) { // å¤„ç†æ­£å¸¸ç»“æœ resolve(xhr.responseText); } else { // å¤„ç†å¼‚å¸¸ç»“æœ reject(\u0026#39;æœåŠ¡å™¨é”™è¯¯\u0026#39;); } }; xhr.open(\u0026#39;get\u0026#39;, url); xhr.send(null); }); } var promise1 = queryData(\u0026#39;http://localhost:3000/api1\u0026#39;); var promise2 = queryData(\u0026#39;http://localhost:3000/api2\u0026#39;); var promise3 = queryData(\u0026#39;http://localhost:3000/api3\u0026#39;); Promise.all([promise1, promise2, promise3]).then((result) =\u0026gt; { console.log(result); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Promise.race() ä»£ç ä¸¾ä¾‹ ä»£ç ä¸¾ä¾‹ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; /* å°è£… Promise æ¥å£è°ƒç”¨ */ function queryData(url) { return new Promise((resolve, reject) =\u0026gt; { var xhr = new XMLHttpRequest(); xhr.onreadystatechange = function () { if (xhr.readyState != 4) return; if (xhr.readyState == 4 \u0026amp;\u0026amp; xhr.status == 200) { // å¤„ç†æ­£å¸¸ç»“æœ resolve(xhr.responseText); } else { // å¤„ç†å¼‚å¸¸ç»“æœ reject(\u0026#39;æœåŠ¡å™¨é”™è¯¯\u0026#39;); } }; xhr.open(\u0026#39;get\u0026#39;, url); xhr.send(null); }); } var promise1 = queryData(\u0026#39;http://localhost:3000/api1\u0026#39;); var promise2 = queryData(\u0026#39;http://localhost:3000/api2\u0026#39;); var promise3 = queryData(\u0026#39;http://localhost:3000/api3\u0026#39;); Promise.race([promise1, promise2, promise3]).then((result) =\u0026gt; { console.log(result); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","permalink":"https://bablvsj.github.io/home/11-promise%E7%9A%84%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95%E5%92%8Capi/","tags":null,"title":"Promiseçš„å¸¸è§ç”¨æ³•"},{"categories":null,"contents":"å‰è¨€ï¼šå¼‚æ­¥å’Œå›è°ƒ å¼‚æ­¥ JavaScript çš„æ‰§è¡Œç¯å¢ƒæ˜¯å•çº¿ç¨‹ã€‚\næ‰€è°“å•çº¿ç¨‹ï¼Œæ˜¯æŒ‡ JS å¼•æ“ä¸­è´Ÿè´£è§£é‡Šå’Œæ‰§è¡Œ JavaScript ä»£ç çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡åªèƒ½å®Œæˆä¸€é¡¹ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªï¼Œå®ƒä¼šã€Œé˜»å¡ã€å…¶ä»–ä»»åŠ¡ã€‚è¿™ä¸ªä»»åŠ¡å¯ç§°ä¸ºä¸»çº¿ç¨‹ã€‚\nå¼‚æ­¥æ¨¡å¼å¯ä»¥ä¸€èµ·æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚å¸¸è§çš„å¼‚æ­¥æ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š\nå®šæ—¶å™¨\næ¥å£è°ƒç”¨\näº‹ä»¶å‡½æ•°\nä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬é‡ç‚¹è®²ä¸€ä¸‹æ¥å£è°ƒç”¨ã€‚æ¥å£è°ƒç”¨é‡Œï¼Œé‡ç‚¹è®²ä¸€ä¸‹Promiseã€‚\næ¥å£è°ƒç”¨çš„æ–¹å¼ js ä¸­å¸¸è§çš„æ¥å£è°ƒç”¨æ–¹å¼ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š\nåŸç”Ÿ ajaxã€åŸºäº jQuery çš„ ajax Promise Fetch axios å¤šæ¬¡å¼‚æ­¥è°ƒç”¨çš„é¡ºåº å¤šæ¬¡å¼‚æ­¥è°ƒç”¨çš„ç»“æœï¼Œé¡ºåºå¯èƒ½ä¸åŒæ­¥ã€‚\nå¼‚æ­¥è°ƒç”¨çš„ç»“æœå¦‚æœå­˜åœ¨ä¾èµ–ï¼Œåˆ™éœ€è¦é€šè¿‡å›è°ƒå‡½æ•°è¿›è¡ŒåµŒå¥—ã€‚\nå›è°ƒåœ°ç‹±çš„ä¸¾ä¾‹ å‡è®¾ä¹°èœã€åšé¥­ã€æ´—ç¢—ã€å€’å¨ä½™åƒåœ¾éƒ½æ˜¯å¼‚æ­¥çš„ã€‚\nä½†çœŸå®çš„åœºæ™¯ä¸­ï¼Œå®é™…çš„æ“ä½œæµç¨‹æ˜¯ï¼šä¹°èœæˆåŠŸä¹‹åï¼Œæ‰èƒ½å¼€å§‹åšé¥­ã€‚åšé¥­æˆåŠŸåï¼Œæ‰èƒ½å¼€å§‹æ´—ç¢—ã€‚æ´—ç¢—ç»“æŸåï¼Œ å†å€’å¨ä½™åƒåœ¾ã€‚è¿™é‡Œçš„ä¸€ç³»åˆ—åŠ¨ä½œå°±æ¶‰åŠåˆ°äº†å¤šå±‚åµŒå¥—è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯å›è°ƒåœ°ç‹±ã€‚\nåœ¨ ES5 ä¸­ï¼Œå½“è¿›è¡Œå¤šå±‚åµŒå¥—å›è°ƒæ—¶ï¼Œä¼šå¯¼è‡´ä»£ç å±‚æ¬¡è¿‡å¤šï¼Œå¾ˆéš¾è¿›è¡Œåç»­ç»´æŠ¤å’ŒäºŒæ¬¡å¼€å‘ï¼›è€Œä¸”ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚ES6 ä¸­çš„ Promise å°±å¯ä»¥è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚\nPromise æ¦‚è¿° ä¸ºä»€ä¹ˆéœ€è¦ Promiseï¼Ÿ å¦‚ä¸Šä¸€æ®µæ‰€è¿°ï¼ŒJavascript æ˜¯â¼€â»”å•çº¿ç¨‹è¯­â¾”ã€‚æ—©æœŸæˆ‘ä»¬è§£å†³å¼‚æ­¥åœºæ™¯æ—¶ï¼Œâ¼¤éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯é€šè¿‡å›è°ƒå‡½æ•°æ¥è¿›â¾ã€‚\nä¾‹å¦‚åœ¨æµè§ˆå™¨ä¸­å‘é€ ajax è¯·æ±‚ï¼Œå°±æ˜¯å¸¸â»…çš„â¼€ä¸ªå¼‚æ­¥åœºæ™¯ï¼Œå‘é€è¯·æ±‚åï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç­‰æœåŠ¡ç«¯å“åº”ä¹‹åæˆ‘ä»¬æ‰èƒ½æ‹¿åˆ°ç»“æœã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›åœ¨å¼‚æ­¥ç»“æŸä¹‹åæ‰§â¾æŸä¸ªæ“ä½œï¼Œå°±åªèƒ½é€šè¿‡å›è°ƒå‡½æ•°è¿™æ ·çš„â½…å¼è¿›â¾æ“ä½œã€‚\nvar dynamicFunc = function (callback) { setTimeout(function () { callback(); }, 1000); }; dynamicFunc(function () { console.log(\u0026#39;qian gu\u0026#39;); }); ä¾‹å¦‚ä¸Šâ¾¯è¿™ä¸ªä¾‹â¼¦ï¼ŒdynamicFunc å°±æ˜¯â¼€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œâ¾¥â¾¯ setTimeout ä¼šåœ¨ 1s ä¹‹åè°ƒâ½¤ä¼ â¼Šçš„ callback å‡½æ•°ã€‚æŒ‰ç…§ä¸Šâ¾¯çš„è°ƒâ½¤â½…å¼ï¼Œæœ€ç»ˆ 1s ä¹‹åï¼Œä¼šæ‰“å° qian gu è¿™ä¸ªç»“æœã€‚\nåŒæ ·çš„ï¼Œå¦‚æœåç»­è¿˜æœ‰å†…å®¹éœ€è¦åœ¨å¼‚æ­¥å‡½æ•°ç»“æŸæ—¶è¾“å‡ºï¼Œå°±éœ€è¦å¤šä¸ªå¼‚æ­¥å‡½æ•°è¿›â¾åµŒå¥—ï¼Œâ¾®å¸¸ä¸åˆ©äºåç»­çš„ç»´æŠ¤ï¼Œè€Œä¸”ä¼šå¯¼è‡´å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼š\nsetTimeout(function () { console.log(\u0026#39;qiangu1\u0026#39;); setTimeout(function () { console.log(\u0026#39;qiangu2\u0026#39;); }, 2000); }, 1000); ä¸ºäº†èƒ½ä½¿å›è°ƒå‡½æ•°ä»¥æ›´ä¼˜é›…çš„â½…å¼è¿›â¾è°ƒâ½¤ï¼Œåœ¨ ES6 è¯­æ³•ä¸­ï¼Œæ–°å¢äº†â¼€ä¸ªåä¸º Promise çš„æ–°è§„èŒƒã€‚\nPromise çš„ä»‹ç»å’Œä¼˜ç‚¹ ES6 ä¸­çš„ Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æ–¹æ¡ˆã€‚ä»è¯­æ³•ä¸Šè®²ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚\nPromise å¯¹è±¡, å¯ä»¥ç”¨åŒæ­¥çš„è¡¨ç°å½¢å¼æ¥ä¹¦å†™å¼‚æ­¥ä»£ç ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç çœ‹èµ·æ¥æ˜¯åŒæ­¥çš„ï¼Œä½†æœ¬è´¨ä¸Šçš„è¿è¡Œè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼‰ã€‚ä½¿ç”¨ Promise ä¸»è¦æœ‰ä»¥ä¸‹å¥½å¤„ï¼š\nå¯ä»¥å¾ˆå¥½åœ°è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼ˆé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ï¼‰ã€‚\nè¯­æ³•éå¸¸ç®€æ´ã€å¯è¯»æ€§å¼ºï¼Œä¾¿äºåæœŸç»´æŠ¤ã€‚Promise å¯¹è±¡æä¾›äº†ç®€æ´çš„ APIï¼Œä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚\nPromise åŸºç¡€ Promise çš„åŸºæœ¬ç”¨æ³• ï¼ˆ1ï¼‰é€šè¿‡ new Promise() æ„é€ å‡ºä¸€ä¸ª Promise å®ä¾‹ã€‚Promise çš„æ„é€ å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨äºå¤„ç†å¼‚æ­¥ä»»åŠ¡ã€‚\nï¼ˆ2ï¼‰å‡½æ•°ä¸­ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šresolve å’Œ rejectï¼Œåˆ†åˆ«è¡¨ç¤ºå¼‚æ­¥æ‰§è¡ŒæˆåŠŸåçš„å›è°ƒå‡½æ•°å’Œå¼‚æ­¥æ‰§è¡Œå¤±è´¥åçš„å›è°ƒå‡½æ•°ã€‚ä»£è¡¨ç€æˆ‘ä»¬éœ€è¦æ”¹å˜å½“å‰å®ä¾‹çš„çŠ¶æ€åˆ°å·²å®Œæˆæˆ–æ˜¯å·²æ‹’ç»ã€‚\nï¼ˆ3ï¼‰é€šè¿‡ promise.then() å¤„ç†è¿”å›ç»“æœï¼ˆè¿™é‡Œçš„ promise æŒ‡çš„æ˜¯ Promise å®ä¾‹ï¼‰ã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹ï¼Œ promise çš„ä»£ç æ˜¯æ€ä¹ˆå†™çš„ã€‚\nPromise å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„è¿‡ç¨‹ é€šè¿‡ Promise å¤„ç†å¼‚æ­¥ä»»åŠ¡çš„å…¸å‹å†™æ³•å¦‚ä¸‹ï¼š\n// ç¬¬ä¸€æ­¥ï¼šmodelå±‚çš„æ¥å£å°è£… function promiseA() { return new Promise((resolve, reject) =\u0026gt; { // è¿™é‡Œåšå¼‚æ­¥ä»»åŠ¡ï¼ˆæ¯”å¦‚ ajax è¯·æ±‚æ¥å£ã€‚è¿™é‡Œæš‚æ—¶ç”¨å®šæ—¶å™¨ä»£æ›¿ï¼‰ setTimeout(() =\u0026gt; { var data = { retCode: 0, msg: \u0026#39;qianguyihao\u0026#39; }; // æ¥å£è¿”å›çš„æ•°æ®ï¼Œè¿”å›ç  retCode æ˜¯åŠ¨æ€æ•°æ® if (data.retCode == 0) { // æ¥å£è¯·æ±‚æˆåŠŸæ—¶è°ƒç”¨ resolve(data); } else { // æ¥å£è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨ reject({ retCode: -1, msg: \u0026#39;network error\u0026#39; }); } }, 100); }); } // ç¬¬äºŒæ­¥ï¼šä¸šåŠ¡å±‚çš„æ¥å£è°ƒç”¨ã€‚è¿™é‡Œçš„ data å°±æ˜¯ ä» resolve å’Œ reject ä¼ è¿‡æ¥çš„ï¼Œä¹Ÿå°±æ˜¯ä»æ¥å£æ‹¿åˆ°çš„æ•°æ® promiseA() .then((data) =\u0026gt; { // ä» resolve è·å–æ­£å¸¸ç»“æœ console.log(data); }) .catch((e) =\u0026gt; { // ä» reject è·å–å¼‚å¸¸ç»“æœ console.log(e); }); ä¸Šæ–¹ä»£ç ä¸­ï¼Œå½“ä»æ¥å£è¿”å›çš„æ•°æ®data.retCodeçš„å€¼ï¼ˆæ¥å£è¿”å›ç ï¼‰ä¸åŒæ—¶ï¼Œå¯èƒ½ä¼šèµ° resolveï¼Œä¹Ÿå¯èƒ½ä¼šèµ° rejectï¼Œè¿™ä¸ªç”±ä½ è‡ªå·±çš„ä¸šåŠ¡å†³å®šã€‚\nä¸Šé¢çš„å†™æ³•ä¸­ï¼Œæ˜¯å°† promise å®ä¾‹å®šä¹‰æˆäº†ä¸€ä¸ªå‡½æ•° PromiseAã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† promise å®ä¾‹å®šä¹‰æˆä¸€ä¸ªå˜é‡ promiseBï¼Œè¾¾åˆ°çš„æ•ˆæœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚å†™æ³•å¦‚ä¸‹ï¼šï¼ˆå†™æ³•ä¸Šç•¥æœ‰åŒºåˆ«ï¼‰\n// ç¬¬ä¸€æ­¥ï¼šmodelå±‚çš„æ¥å£å°è£… const promiseB = new Promise((resolve, reject) =\u0026gt; { // è¿™é‡Œåšå¼‚æ­¥ä»»åŠ¡ï¼ˆæ¯”å¦‚ajax è¯·æ±‚æ¥å£ã€‚è¿™é‡Œæš‚æ—¶ç”¨å®šæ—¶å™¨ä»£æ›¿ï¼‰ setTimeout(() =\u0026gt; { var data = { retCode: 0, msg: \u0026#39;qianguyihao\u0026#39; }; // æ¥å£è¿”å›çš„æ•°æ®ï¼Œè¿”å›ç  retCode æ˜¯åŠ¨æ€æ•°æ® if (data.retCode == 0) { // æ¥å£è¯·æ±‚æˆåŠŸæ—¶è°ƒç”¨ resolve(data); } else { // æ¥å£è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨ reject({ retCode: -1, msg: \u0026#39;network error\u0026#39; }); } }, 100); }); // ç¬¬äºŒæ­¥ï¼šä¸šåŠ¡å±‚çš„æ¥å£è°ƒç”¨ã€‚è¿™é‡Œçš„ data å°±æ˜¯ ä» resolve å’Œ reject ä¼ è¿‡æ¥çš„ï¼Œä¹Ÿå°±æ˜¯ä»æ¥å£æ‹¿åˆ°çš„æ•°æ® promiseB .then((data) =\u0026gt; { // ä» resolve è·å–æ­£å¸¸ç»“æœ console.log(data); }) .catch((e) =\u0026gt; { // ä» reject è·å–å¼‚å¸¸ç»“æœ console.log(e); }); æ•è· reject å¼‚å¸¸çŠ¶æ€çš„ä¸¤ç§å†™æ³• æˆ‘ä»¬æœ‰ä¸¤ç§å†™æ³•å¯ä»¥æ•è·å¹¶å¤„ç† reject å¼‚å¸¸çŠ¶æ€ã€‚ä¸Šä¸€å°æ®µä¸­ï¼Œç”¨çš„å°±æ˜¯å…¶ä¸­ä¸€ç§å†™æ³•ã€‚\nè¿™ä¸¤ç§å†™æ³•çš„ä»£ç ä¸¾ä¾‹å¦‚ä¸‹ï¼š\n// ç¬¬ä¸€æ­¥ï¼šmodelå±‚çš„æ¥å£å°è£… function promiseA() { return new Promise((resolve, reject) =\u0026gt; { // è¿™é‡Œåšå¼‚æ­¥ä»»åŠ¡ï¼ˆæ¯”å¦‚ ajax è¯·æ±‚æ¥å£ã€‚è¿™é‡Œæš‚æ—¶ç”¨å®šæ—¶å™¨ä»£æ›¿ï¼‰ setTimeout(() =\u0026gt; { var data = { retCode: 0, msg: \u0026#39;qianguyihao\u0026#39; }; // æ¥å£è¿”å›çš„æ•°æ®ï¼Œè¿”å›ç  retCode æ˜¯åŠ¨æ€æ•°æ® if (data.retCode == 0) { // æ¥å£è¯·æ±‚æˆåŠŸæ—¶è°ƒç”¨ resolve(data); } else { // æ¥å£è¯·æ±‚å¤±è´¥æ—¶è°ƒç”¨ reject({ retCode: -1, msg: \u0026#39;network error\u0026#39; }); } }, 100); }); } const onResolve = function (value) { console.log(value); }; const onReject = function (e) { console.log(e); }; // å†™æ³•1ï¼šé€šè¿‡ catch æ–¹æ³•æ•è· çŠ¶æ€å˜ä¸ºå·²æ‹’ç»æ—¶çš„ promise promiseA().then(onResolve).catch(onReject); // å†™æ³•2ï¼šthen å¯ä»¥ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬â¼€ä¸ªå‚æ•°ä¸º resolve åæ‰§â¾ï¼Œç¬¬â¼†ä¸ªå‚æ•°ä¸º reject åæ‰§â¾ promiseA().then(onResolve, onReject); // ã€é”™è¯¯å†™æ³•ã€‘å†™æ³•3ï¼šé€šè¿‡ try catch æ•è· çŠ¶æ€å˜ä¸ºå·²æ‹’ç»æ—¶çš„ promise // è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º try catchåªèƒ½æ•è·åŒæ­¥ä»£ç é‡Œçš„å¼‚å¸¸ï¼Œè€Œ promise.reject() æ˜¯å¼‚æ­¥ä»£ç ã€‚ try { promiseA().then(onResolve); } catch (e) { // è¯­æ³•ä¸Šï¼Œcatchå¿…é¡»è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™æŠ¥é”™ onReject(e); } éœ€è¦æ³¨æ„çš„æ˜¯ï¼š\nï¼ˆ1ï¼‰ä¸Šé¢çš„å†™æ³• 3 æ˜¯é”™è¯¯çš„ã€‚è¿è¡Œä¹‹åï¼Œæ§åˆ¶å°ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š\nè§£é‡Šå¦‚ä¸‹ï¼š\ntry-catch ä¸»è¦ç”¨äºæ•è·å¼‚å¸¸ï¼Œæ³¨æ„ï¼Œè¿™é‡Œçš„å¼‚å¸¸æ˜¯æŒ‡åŒæ­¥å‡½æ•°çš„å¼‚å¸¸ã€‚å¦‚æœ try é‡Œé¢çš„å¼‚æ­¥æ–¹æ³•å‡ºç°äº†å¼‚å¸¸ï¼Œæ­¤æ—¶ catch æ˜¯æ— æ³•æ•è·åˆ°å¼‚å¸¸çš„ã€‚\nåŸå› æ˜¯ï¼šå½“å¼‚æ­¥å‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå¯¹äºå®ä»»åŠ¡è€Œè¨€ï¼Œæ‰§è¡Œå‡½æ•°æ—¶å·²ç»å°†è¯¥å‡½æ•°æ¨å…¥æ ˆï¼Œæ­¤æ—¶å¹¶ä¸åœ¨ try-catch æ‰€åœ¨çš„æ ˆï¼Œæ‰€ä»¥ try-catch å¹¶ä¸èƒ½æ•è·åˆ°é”™è¯¯ã€‚å¯¹äºå¾®ä»»åŠ¡è€Œè¨€ï¼ˆæ¯”å¦‚ promiseï¼‰promise çš„æ„é€ å‡½æ•°çš„å¼‚å¸¸åªèƒ½è¢«è‡ªå¸¦çš„ reject ä¹Ÿå°±æ˜¯.catch å‡½æ•°æ•è·åˆ°ã€‚\nï¼ˆ2ï¼‰å†™æ³•1ä¸­ï¼ŒpromiseA().then().catch()å’ŒpromiseA().catch().then()åŒºåˆ«åœ¨äºï¼šå‰è€…å¯ä»¥æ•è·åˆ° then é‡Œé¢çš„å¼‚å¸¸ï¼Œåè€…ä¸å¯ä»¥ã€‚\nå°ç»“ 1ã€promise æœ‰ä¸‰ç§çŠ¶æ€ï¼šç­‰å¾…ä¸­ã€æˆåŠŸã€å¤±è´¥ã€‚ç­‰å¾…ä¸­çŠ¶æ€å¯ä»¥æ›´æ”¹ä¸ºæˆåŠŸæˆ–å¤±è´¥ï¼Œå·²ç»æ›´æ”¹è¿‡çŠ¶æ€åâ½†æ³•ç»§ç»­æ›´æ”¹ï¼ˆä¾‹å¦‚ä»å¤±è´¥æ”¹ä¸ºæˆåŠŸï¼‰ã€‚\n2ã€promise å®ä¾‹ä¸­éœ€è¦ä¼ â¼Šâ¼€ä¸ªå‡½æ•°ï¼Œä»–æ¥å—ä¸¤ä¸ªå‡½æ•°å‚æ•°ï¼Œæ‰§â¾ç¬¬â¼€ä¸ªå‚æ•°ä¹‹åå°±ä¼šæ”¹å˜å½“å‰ promise ä¸ºã€ŒæˆåŠŸã€çŠ¶æ€ï¼Œæ‰§â¾ç¬¬â¼†ä¸ªå‚æ•°ä¹‹åå°±ä¼šå˜ä¸ºã€Œå¤±è´¥ã€çŠ¶æ€ã€‚\n3ã€é€šè¿‡ .then â½…æ³•ï¼Œå³å¯åœ¨ä¸Šâ¼€ä¸ª promise è¾¾åˆ°æˆåŠŸæ—¶ç»§ç»­æ‰§â¾ä¸‹â¼€ä¸ªå‡½æ•°æˆ– promiseã€‚åŒæ—¶é€šè¿‡ resolve æˆ– reject æ—¶ä¼ â¼Šå‚æ•°ï¼Œå³å¯ç»™ä¸‹â¼€ä¸ªå‡½æ•°æˆ– promise ä¼ â¼Šåˆå§‹å€¼ã€‚\n4ã€å¤±è´¥çš„ promiseï¼Œåç»­å¯ä»¥é€šè¿‡ promise è‡ªå¸¦çš„ .catch â½…æ³•æˆ–æ˜¯ .then â½…æ³•çš„ç¬¬â¼†ä¸ªå‚æ•°è¿›â¾æ•è·ã€‚\nPromise è§„èŒƒ Promise è§„èŒƒè§£è¯» Promise æ˜¯â¼€ä¸ªæ‹¥æœ‰ then â½…æ³•çš„å¯¹è±¡æˆ–å‡½æ•°ã€‚ä»»ä½•ç¬¦åˆ promise è§„èŒƒçš„å¯¹è±¡æˆ–å‡½æ•°éƒ½å¯ä»¥æˆä¸º Promiseã€‚\nå…³äºpromise è§„èŒƒçš„è¯¦ç»†è§£è¯»ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªé“¾æ¥ï¼š\nPromises/A+ è§„èŒƒï¼šhttps://promisesaplus.com/ promise å¯¹è±¡çš„ 3 ä¸ªçŠ¶æ€ åˆå§‹åŒ–ï¼ˆç­‰å¾…ä¸­ï¼‰ï¼špending\næˆåŠŸï¼šfulfilled\nå¤±è´¥ï¼šrejected\nï¼ˆ1ï¼‰å½“ new Promise()æ‰§è¡Œä¹‹åï¼Œpromise å¯¹è±¡çš„çŠ¶æ€ä¼šè¢«åˆå§‹åŒ–ä¸ºpendingï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯åˆå§‹åŒ–çŠ¶æ€ã€‚new Promise()è¿™è¡Œä»£ç ï¼Œæ‹¬å·é‡Œçš„å†…å®¹æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚æ‹¬å·é‡Œå®šä¹‰ä¸€ä¸ª functionï¼Œfunction æœ‰ä¸¤ä¸ªå‚æ•°ï¼šresolve å’Œ rejectã€‚å¦‚ä¸‹ï¼š\nå¦‚æœè¯·æ±‚æˆåŠŸäº†ï¼Œåˆ™æ‰§è¡Œ resolve()ï¼Œæ­¤æ—¶ï¼Œpromise çš„çŠ¶æ€ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ä¸º fulfilledã€‚\nå¦‚æœè¯·æ±‚å¤±è´¥äº†ï¼Œåˆ™æ‰§è¡Œ reject()ï¼Œæ­¤æ—¶ï¼Œpromise çš„çŠ¶æ€ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ä¸º rejected\nï¼ˆ2ï¼‰promise.then()æ–¹æ³•ï¼Œæ‹¬å·é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªå‡½æ•° function1 å’Œ function2ï¼š\nå¦‚æœ promise çš„çŠ¶æ€ä¸º fulfilledï¼ˆæ„æ€æ˜¯ï¼šå¦‚æœè¯·æ±‚æˆåŠŸï¼‰ï¼Œåˆ™æ‰§è¡Œ function1 é‡Œçš„å†…å®¹\nå¦‚æœ promise çš„çŠ¶æ€ä¸º rejectedï¼ˆæ„æ€æ˜¯ï¼Œå¦‚æœè¯·æ±‚å¤±è´¥ï¼‰ï¼Œåˆ™æ‰§è¡Œ function2 é‡Œçš„å†…å®¹\nå¦å¤–ï¼Œresolve()å’Œ reject()è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæ˜¯å¯ä»¥ç»™ promise.then()ä¼ é€’å‚æ•°çš„ã€‚\nå®Œæ•´ä»£ç ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nlet promise = new Promise((resolve, reject) =\u0026gt; { //è¿›æ¥ä¹‹åï¼ŒçŠ¶æ€ä¸ºpending console.log(\u0026#39;111\u0026#39;); //è¿™è¡Œä»£ç æ˜¯åŒæ­¥çš„ //å¼€å§‹æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼ˆè¿™é‡Œå¼€å§‹ï¼Œå†™å¼‚æ­¥çš„ä»£ç ï¼Œæ¯”å¦‚ajaxè¯·æ±‚ or å¼€å¯å®šæ—¶å™¨ï¼‰ if (å¼‚æ­¥çš„ajaxè¯·æ±‚æˆåŠŸ) { console.log(\u0026#39;333\u0026#39;); resolve(\u0026#39;haha\u0026#39;); //å¦‚æœè¯·æ±‚æˆåŠŸäº†ï¼Œè¯·å†™resolve()ï¼Œæ­¤æ—¶ï¼Œpromiseçš„çŠ¶æ€ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ä¸ºfulfilled } else { reject(\u0026#39;555\u0026#39;); //å¦‚æœè¯·æ±‚å¤±è´¥äº†ï¼Œè¯·å†™reject()ï¼Œæ­¤æ—¶ï¼Œpromiseçš„çŠ¶æ€ä¼šè¢«è‡ªåŠ¨ä¿®æ”¹ä¸ºrejected } }); console.log(\u0026#39;222\u0026#39;); //è°ƒç”¨promiseçš„then() promise.then( (successMsg) =\u0026gt; { //å¦‚æœpromiseçš„çŠ¶æ€ä¸ºfulfilledï¼Œåˆ™æ‰§è¡Œè¿™é‡Œçš„ä»£ç  console.log(successMsg, \u0026#39;æˆåŠŸäº†\u0026#39;); }, (errorMsg) =\u0026gt; { //å¦‚æœpromiseçš„çŠ¶æ€ä¸ºrejectedï¼Œåˆ™æ‰§è¡Œè¿™é‡Œçš„ä»£ç  console.log(errorMsg, \u0026#39;å¤±è´¥äº†\u0026#39;); } ); å¦‚ä½•å°è£…å¼‚æ­¥æ“ä½œä¸º promise Promise å°è£…å¼‚æ­¥ä»»åŠ¡ ä¼ ç»Ÿå†™æ³•ï¼š\nå†™æ³• 1ï¼š\n// å®šä¹‰ä¸€ä¸ªå¼‚æ­¥çš„å»¶è¿Ÿå‡½æ•°ï¼šå¼‚æ­¥å‡½æ•°ç»“æŸ1ç§’ä¹‹åï¼Œå†æ‰§è¡Œcbå›è°ƒå‡½æ•° function fun1(cb) { setTimeout(function () { console.log(\u0026#39;å³å°†æ‰§è¡Œcbå›è°ƒå‡½æ•°\u0026#39;); cb(); }, 1000); } // å…ˆæ‰§è¡Œå¼‚æ­¥å‡½æ•° fun1ï¼Œå†æ‰§è¡Œå›è°ƒå‡½æ•° myCallback fun1(myCallback); // å®šä¹‰å›è°ƒå‡½æ•° function myCallback() { console.log(\u0026#39;æˆ‘æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„cbå›è°ƒå‡½æ•°\u0026#39;); } å†™æ³• 2ï¼šï¼ˆç²¾ç®€ç‰ˆï¼Œæ›´å¸¸è§ï¼‰\n// å®šä¹‰ä¸€ä¸ªå¼‚æ­¥çš„å»¶è¿Ÿå‡½æ•°ï¼šå¼‚æ­¥å‡½æ•°ç»“æŸ1ç§’ä¹‹åï¼Œå†æ‰§è¡Œcbå›è°ƒå‡½æ•° function fun1(cb) { setTimeout(cb, 1000); } // å…ˆæ‰§è¡Œå¼‚æ­¥å‡½æ•°fun1ï¼Œå†æ‰§è¡Œå›è°ƒå‡½æ•° fun1(function () { console.log(\u0026#39;æˆ‘æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„cbå›è°ƒå‡½æ•°\u0026#39;); }); ä¸Šâ¾¯çš„ä¾‹â¼¦å°±æ˜¯æœ€ä¼ ç»Ÿçš„å†™æ³•ï¼Œåœ¨å¼‚æ­¥ç»“æŸåé€šè¿‡ä¼ å…¥å›è°ƒå‡½æ•°çš„æ–¹å¼æ‰§â¾å‡½æ•°ã€‚\nå­¦ä¹  Promise ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå¼‚æ­¥å‡½æ•°å°è£…ä¸º Promiseï¼Œå¦‚ä¸‹ã€‚\nPromise å†™æ³•ï¼š\nfunction fun2() { return new Promise((resolve) =\u0026gt; { setTimeout(resolve, 1000); }); } /* ã€é‡è¦ã€‘ä¸Šé¢çš„ fun2 ä¹Ÿå¯ä»¥å†™æˆï¼š function fun2() { return new Promise((resolve) =\u0026gt; { setTimeout(() =\u0026gt; { resolve(); }, 1000); }); } */ // å…ˆæ‰§è¡Œå¼‚æ­¥å‡½æ•°fun1ï¼Œå†æ‰§è¡Œå›è°ƒå‡½æ•° fun2().then(() =\u0026gt; { console.log(\u0026#39;æˆ‘æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„å›è°ƒå‡½æ•°\u0026#39;); }); Promise å°è£… Ajax è¯·æ±‚ ä¼ ç»Ÿå†™æ³•ï¼š\n// å®šä¹‰ ajax è¯·æ±‚ï¼šä¼ å…¥å›è°ƒå‡½æ•° success å’Œ fail function ajax(url, success, fail) { var client = new XMLHttpRequest(); client.open(\u0026#39;GET\u0026#39;, url); client.onreadystatechange = function () { if (this.readyState !== 4) { return; } if (this.status === 200) { success(this.response); } else { fail(new Error(this.statusText)); } }; client.send(); } // æ‰§è¡Œ ajax è¯·æ±‚ ajax( \u0026#39;/ajax.json\u0026#39;, function () { console.log(\u0026#39;qianguyihao æˆåŠŸ\u0026#39;); }, function () { console.log(\u0026#39;å¤±è´¥\u0026#39;); } ); ä¸Šé¢çš„ä¼ ç»Ÿå†™æ³•é‡Œï¼Œå®šä¹‰å’Œæ‰§è¡Œ ajax æ—¶éœ€è¦ä¼ â¼Š success å’Œ fail è¿™ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿›è€Œæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚\næœ‰äº† Promise ä¹‹åï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¼ å…¥å›è°ƒå‡½æ•°ï¼Œè€Œæ˜¯ï¼š\nå…ˆå°† promise å®ä¾‹åŒ–ï¼›\nç„¶ååœ¨åŸæ¥æ‰§è¡Œå›è°ƒå‡½æ•°çš„åœ°æ–¹ï¼Œæ”¹ä¸ºæ‰§è¡Œå¯¹åº”çš„æ”¹å˜ promise çŠ¶æ€çš„å‡½æ•°ï¼›\nå¹¶é€šè¿‡ then \u0026hellip; catch æˆ–è€… then \u0026hellip;then ç­‰å†™æ³•ï¼Œå®ç°é“¾å¼è°ƒç”¨ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚\nå’Œä¼ ç»Ÿå†™æ³•ç›¸æ¯”ï¼Œpromise åœ¨å†™æ³•ä¸Šçš„å¤§è‡´åŒºåˆ«æ˜¯ï¼šå®šä¹‰å¼‚æ­¥å‡½æ•°çš„æ—¶å€™ï¼Œå°† callback æ”¹ä¸º resolve å’Œ rejectï¼Œå¾…çŠ¶æ€æ”¹å˜ä¹‹åï¼Œæˆ‘ä»¬åœ¨å¤–é¢æ§åˆ¶å…·ä½“æ‰§è¡Œå“ªäº›å‡½æ•°ã€‚\nPromise å†™æ³•ï¼š\nconst request = require(\u0026#39;request\u0026#39;); // Promise å®šä¹‰æ¥å£ function request1() { return new Promise((resolve, reject) =\u0026gt; { request(\u0026#39;https://www.baidu.com\u0026#39;, (response) =\u0026gt; { if (response.retCode == 200) { // è¿™é‡Œçš„ response æ˜¯æ¥å£1çš„è¿”å›ç»“æœ resolve(\u0026#39;request1 success\u0026#39; + response); } else { reject(\u0026#39;æ¥å£è¯·æ±‚å¤±è´¥\u0026#39;); } }); }); } request1() .then((res1) =\u0026gt; { // æ¥å£1è¯·æ±‚æˆåŠŸåï¼Œæ‰“å°æ¥å£1çš„è¿”å›ç»“æœ console.log(res1); return request2(); }) .catch((e) =\u0026gt; { // ä» reject è·å–å¼‚å¸¸ç»“æœ console.log(e); }); æ€»ç»“ äº†è§£è¿™äº›å†…å®¹ä¹‹åï¼Œ ä½ å·²ç»å¯¹ Promise æœ‰äº†åŸºæœ¬äº†è§£ã€‚ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ¥è®²ä¸€è®² Promiseåœ¨å®æˆ˜å¼€å‘çš„å¸¸è§ç”¨æ³•ã€‚\nå‚è€ƒé“¾æ¥ å½“é¢è¯•å®˜é—®ä½  Promise çš„æ—¶å€™ï¼Œä»–ç©¶ç«Ÿæƒ³å¬åˆ°ä»€ä¹ˆï¼Ÿ\næ‰‹å†™ä¸€ä¸ª Promise/A+,å®Œç¾é€šè¿‡å®˜æ–¹ 872 ä¸ªæµ‹è¯•ç”¨ä¾‹\n","permalink":"https://bablvsj.github.io/home/10-promise%E5%85%A5%E9%97%A8%E8%AF%A6%E8%A7%A3/","tags":null,"title":"Promiseå…¥é—¨è¯¦è§£"},{"categories":null,"contents":"Symbol æ¦‚è¿° èƒŒæ™¯ï¼šES5ä¸­å¯¹è±¡çš„å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®¹æ˜“é€ æˆé‡åï¼Œæ±¡æŸ“ç¯å¢ƒã€‚\næ¦‚å¿µï¼šES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§æ˜¯ï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚\nç‰¹ç‚¹ï¼š\nSymbolå±æ€§å¯¹åº”çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œè§£å†³å‘½åå†²çªé—®é¢˜\nSymbolå€¼ä¸èƒ½ä¸å…¶ä»–æ•°æ®è¿›è¡Œè®¡ç®—ï¼ŒåŒ…æ‹¬åŒå­—ç¬¦ä¸²æ‹¼ä¸²\nfor inã€for of éå†æ—¶ä¸ä¼šéå†Symbolå±æ€§ã€‚\nåˆ›å»ºSymbolå±æ€§å€¼ Symbolæ˜¯å‡½æ•°ï¼Œä½†å¹¶ä¸æ˜¯æ„é€ å‡½æ•°ã€‚åˆ›å»ºä¸€ä¸ªSymbolæ•°æ®ç±»å‹ï¼š\nlet mySymbol = Symbol(); console.log(typeof mySymbol); //æ‰“å°ç»“æœï¼šsymbol console.log(mySymbol); //æ‰“å°ç»“æœï¼šSymbol() æ‰“å°ç»“æœï¼š\nä¸‹é¢æ¥è®²ä¸€ä¸‹Symbolçš„ä½¿ç”¨ã€‚\n1ã€å°†Symbolä½œä¸ºå¯¹è±¡çš„å±æ€§å€¼ let mySymbol = Symbol(); let obj = { name: \u0026#39;smyhvae\u0026#39;, age: 26 }; //obj.mySymbol = \u0026#39;male\u0026#39;; //é”™è¯¯ï¼šä¸èƒ½ç”¨ . è¿™ä¸ªç¬¦å·ç»™å¯¹è±¡æ·»åŠ  Symbol å±æ€§ã€‚ obj[mySymbol] = \u0026#39;hello\u0026#39;; //æ­£ç¡®ï¼šé€šè¿‡**å±æ€§é€‰æ‹©å™¨**ç»™å¯¹è±¡æ·»åŠ  Symbol å±æ€§ã€‚åé¢çš„å±æ€§å€¼éšä¾¿å†™ã€‚ console.log(obj); ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°è¯•ç»™objæ·»åŠ ä¸€ä¸ªSymbolç±»å‹çš„å±æ€§å€¼ï¼Œä½†æ˜¯æ·»åŠ çš„æ—¶å€™ï¼Œä¸èƒ½é‡‡ç”¨.è¿™ä¸ªç¬¦å·ï¼Œè€Œæ˜¯åº”è¯¥ç”¨å±æ€§é€‰æ‹©å™¨çš„æ–¹å¼ã€‚æ‰“å°ç»“æœï¼š\nç°åœ¨æˆ‘ä»¬ç”¨for inå°è¯•å¯¹ä¸Šé¢çš„objè¿›è¡Œéå†ï¼š\nlet mySymbol = Symbol(); let obj = { name: \u0026#39;smyhvae\u0026#39;, age: 26 }; obj[mySymbol] = \u0026#39;hello\u0026#39;; console.log(obj); //éå†obj for (let i in obj) { console.log(i); } æ‰“å°ç»“æœï¼š\nä»æ‰“å°ç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼šfor inã€for of éå†æ—¶ä¸ä¼šéå†Symbolå±æ€§ã€‚\nåˆ›å»ºSymbolå±æ€§å€¼æ—¶ï¼Œä¼ å‚ä½œä¸ºæ ‡è¯† å¦‚æœæˆ‘é€šè¿‡ Symbol()å‡½æ•°åˆ›å»ºäº†ä¸¤ä¸ªå€¼ï¼Œè¿™ä¸¤ä¸ªå€¼æ˜¯ä¸ä¸€æ ·çš„ï¼š\nlet mySymbol1 = Symbol(); let mySymbol2 = Symbol(); console.log(mySymbol1 == mySymbol2); //æ‰“å°ç»“æœï¼šfalse console.log(mySymbol1); //æ‰“å°ç»“æœï¼šSymbol() console.log(mySymbol2); //æ‰“å°ç»“æœï¼šSymbol() ä¸Šé¢ä»£ç ä¸­ï¼Œå€’æ•°ç¬¬ä¸‰è¡Œçš„æ‰“å°ç»“æœä¹Ÿå°±è¡¨æ˜äº†ï¼ŒäºŒè€…çš„å€¼ç¡®å®æ˜¯ä¸ç›¸ç­‰çš„ã€‚\næœ€åä¸¤è¡Œçš„æ‰“å°ç»“æœå´å‘ç°ï¼ŒäºŒè€…çš„æ‰“å°è¾“å‡ºï¼Œè‚‰çœ¼çœ‹åˆ°çš„å´ç›¸åŒã€‚é‚£è¯¥æ€ä¹ˆåŒºåˆ†å®ƒä»¬å‘¢ï¼Ÿ\næ—¢ç„¶Symbol()æ˜¯å‡½æ•°ï¼Œå‡½æ•°å°±å¯ä»¥ä¼ å…¥å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°çš„ä¸åŒæ¥ä½œä¸ºæ ‡è¯†ã€‚æ¯”å¦‚ï¼š\n//åœ¨æ‹¬å·é‡ŒåŠ å…¥å‚æ•°ï¼Œæ¥æ ‡è¯†ä¸åŒçš„Symbol let mySymbol1 = Symbol(\u0026#39;one\u0026#39;); let mySymbol2 = Symbol(\u0026#39;two\u0026#39;); console.log(mySymbol1 == mySymbol2); //æ‰“å°ç»“æœï¼šfalse console.log(mySymbol1); //æ‰“å°ç»“æœï¼šSymbol(one) console.log(mySymbol2); //æ‰“å°ç»“æœï¼šSymbol(two)ã€‚é¢œè‰²ä¸ºçº¢è‰²ã€‚ console.log(mySymbol2.toString());//æ‰“å°ç»“æœï¼šSymbol(two)ã€‚é¢œè‰²ä¸ºé»‘è‰²ã€‚ æ‰“å°ç»“æœï¼š\nå®šä¹‰å¸¸é‡ Symbol å¯ä»¥ç”¨æ¥å®šä¹‰å¸¸é‡ï¼š\nconst MY_NAME = Symbol(\u0026#39;my_name\u0026#39;); å†…ç½®çš„ Symbol å€¼ é™¤äº†å®šä¹‰è‡ªå·±ä½¿ç”¨çš„ Symbol å€¼ä»¥å¤–ï¼ŒES6 è¿˜æä¾›äº† 11 ä¸ªå†…ç½®çš„ Symbol å€¼ï¼ŒæŒ‡å‘è¯­è¨€å†…éƒ¨ä½¿ç”¨çš„æ–¹æ³•ã€‚\nSymbol.iteratorå±æ€§ å¯¹è±¡çš„Symbol.iteratorå±æ€§ï¼ŒæŒ‡å‘è¯¥å¯¹è±¡çš„é»˜è®¤éå†å™¨æ–¹æ³•ã€‚\n","permalink":"https://bablvsj.github.io/home/es6symbol/","tags":null,"title":"Symbol"},{"categories":null,"contents":"è§£æ„èµ‹å€¼çš„æ¦‚å¿µ è§£æ„èµ‹å€¼ï¼šES6 å…è®¸æˆ‘ä»¬ï¼ŒæŒ‰ç…§ä¸€ä¸€å¯¹åº”çš„æ–¹å¼ï¼Œä»æ•°ç»„æˆ–è€…å¯¹è±¡ä¸­æå–å€¼ï¼Œå†å°†æå–å‡ºæ¥çš„å€¼èµ‹å€¼ç»™å˜é‡ã€‚\nè§£æ„ï¼šåˆ†è§£æ•°æ®ç»“æ„ï¼›èµ‹å€¼ï¼šç»™å˜é‡èµ‹å€¼ã€‚\nè§£æ„èµ‹å€¼åœ¨å®é™…å¼€å‘ä¸­å¯ä»¥å¤§é‡å‡å°‘æˆ‘ä»¬çš„ä»£ç é‡ï¼Œå¹¶ä¸”è®©ç¨‹åºç»“æ„æ›´æ¸…æ™°ã€‚\næ•°ç»„çš„è§£æ„èµ‹å€¼ æ•°ç»„çš„ç»“æ„èµ‹å€¼ï¼šå°†æ•°ç»„ä¸­çš„å€¼æŒ‰ç…§ä½ç½®æå–å‡ºæ¥ï¼Œç„¶åèµ‹å€¼ç»™å˜é‡ã€‚\nè¯­æ³• åœ¨ ES6 ä¹‹å‰ï¼Œå½“æˆ‘ä»¬åœ¨ä¸ºä¸€ç»„å˜é‡èµ‹å€¼æ—¶ï¼Œä¸€èˆ¬æ˜¯è¿™æ ·å†™ï¼š\nvar a = 1; var b = 2; var c = 3; æˆ–è€…æ˜¯è¿™æ ·å†™ï¼š\nvar arr = [1, 2, 3]; var a = arr[0]; var b = arr[1]; var c = arr[2]; ç°åœ¨æœ‰äº† ES6 ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„è§£æ„çš„æ–¹å¼è¿›è¡Œèµ‹å€¼ï¼šï¼ˆæ ¹æ®ä½ç½®è¿›è¡Œä¸€ä¸€å¯¹åº”ï¼‰\nlet [a, b, c] = [1, 2, 3]; äºŒè€…çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜æ˜¾åè€…çš„ä»£ç æ›´ç®€æ´ä¼˜é›…ã€‚\næœªåŒ¹é…åˆ°çš„æƒ…å†µ æ•°æ®çš„ç»“æ„èµ‹å€¼ï¼Œæ˜¯æ ¹æ®ä½ç½®è¿›è¡Œä¸€ä¸€å¯¹åº”æ¥èµ‹å€¼çš„ã€‚å¯å¦‚æœå·¦è¾¹çš„æ•°é‡å¤§äºå³è¾¹çš„æ•°é‡æ—¶ï¼ˆä¹Ÿå°±æ˜¯å˜é‡çš„æ•°é‡å¤§äºå€¼çš„æ•°é‡æ—¶ï¼‰ï¼Œå¤šä½™çš„å˜é‡è¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ\nç­”æ¡ˆæ˜¯ï¼šå¦‚æœå˜é‡åœ¨ä¸€ä¸€å¯¹åº”æ—¶ï¼Œæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œé‚£ä¹ˆï¼Œå¤šä½™çš„å˜é‡ä¼šè¢«èµ‹å€¼ä¸º undefinedã€‚\nè§£æ„æ—¶ï¼Œå·¦è¾¹å…è®¸æœ‰é»˜è®¤å€¼ åœ¨è§£æ„èµ‹å€¼æ—¶ï¼Œæ˜¯å…è®¸ä½¿ç”¨é»˜è®¤å€¼çš„ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š\n{ //ä¸€ä¸ªå˜é‡æ—¶ let [foo = true] = []; console.log(foo); //è¾“å‡ºç»“æœï¼štrue } { //ä¸¤ä¸ªå˜é‡æ—¶ let [a, b] = [\u0026#39;ç”Ÿå‘½å£¹å·\u0026#39;]; //a èµ‹å€¼ä¸ºï¼šç”Ÿå‘½å£¹å·ã€‚bæ²¡æœ‰èµ‹å€¼ console.log(a + \u0026#39;,\u0026#39; + b); //è¾“å‡ºç»“æœï¼šç”Ÿå‘½å£¹å·,undefined } { //ä¸¤ä¸ªå˜é‡æ—¶ let [a, b = \u0026#39;smyhvae\u0026#39;] = [\u0026#39;ç”Ÿå‘½å£¹å·\u0026#39;]; //a èµ‹å€¼ä¸ºï¼šç”Ÿå‘½å£¹å·ã€‚b é‡‡ç”¨é»˜è®¤å€¼ smyhvae console.log(a + \u0026#39;,\u0026#39; + b); //è¾“å‡ºç»“æœï¼šç”Ÿå‘½å£¹å·,smyhvae } å°†å³è¾¹çš„ undefinedå’Œnullèµ‹å€¼ç»™å˜é‡ å¦‚æœæˆ‘ä»¬åœ¨èµ‹å€¼æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯ undefinedæˆ–è€…nullï¼Œé‚£ä¼šæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\n{ let [a, b = \u0026#39;smyhvae\u0026#39;] = [\u0026#39;ç”Ÿå‘½å£¹å·\u0026#39;, undefined]; //b è™½ç„¶è¢«èµ‹å€¼ä¸º undefinedï¼Œä½†æ˜¯ b ä¼šé‡‡ç”¨é»˜è®¤å€¼ console.log(a + \u0026#39;,\u0026#39; + b); //è¾“å‡ºç»“æœï¼šç”Ÿå‘½å£¹å·,smyhvae } { let [a, b = \u0026#39;smyhvae\u0026#39;] = [\u0026#39;ç”Ÿå‘½å£¹å·\u0026#39;, null]; //b è¢«èµ‹å€¼ä¸º null console.log(a + \u0026#39;,\u0026#39; + b); //è¾“å‡ºç»“æœï¼šç”Ÿå‘½å£¹å·,null } ä¸Šæ–¹ä»£ç åˆ†æï¼š\nundefinedï¼šç›¸å½“äºä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæ­¤æ—¶ b é‡‡ç”¨é»˜è®¤å€¼ã€‚\nnullï¼šç›¸å½“äºæœ‰å€¼ï¼Œä½†å€¼ä¸º nullã€‚\nå¯¹è±¡çš„è§£æ„èµ‹å€¼ å¯¹è±¡çš„ç»“æ„èµ‹å€¼ï¼šå°†å¯¹è±¡ä¸­çš„å€¼æŒ‰ç…§å±æ€§åŒ¹é…çš„æ–¹å¼æå–å‡ºæ¥ï¼Œç„¶åèµ‹å€¼ç»™å˜é‡ã€‚\nè¯­æ³• åœ¨ ES6 ä¹‹å‰ï¼Œæˆ‘ä»¬ä»æ¥å£æ‹¿åˆ° json æ•°æ®åï¼Œä¸€èˆ¬è¿™ä¹ˆèµ‹å€¼ï¼š\nvar name = json.name; var age = json.age; var sex = json.sex; ä¸Šé¢è¿™ç§å†™æ³•ï¼Œè¿‡äºéº»çƒ¦äº†ã€‚\nç°åœ¨ï¼Œæœ‰äº† ES6 ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹è±¡è§£æ„çš„æ–¹å¼è¿›è¡Œèµ‹å€¼ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nconst person = { name: \u0026#39;qianguyihao\u0026#39;, age: 28, sex: \u0026#39;ç”·\u0026#39; }; let { name, age, sex } = person; // å¯¹è±¡çš„ç»“æ„èµ‹å€¼ console.log(name); // æ‰“å°ç»“æœï¼šqianguyihao console.log(age); // æ‰“å°ç»“æœï¼š28 console.log(sex); // æ‰“å°ç»“æœï¼šç”· ä¸Šæ–¹ä»£ç å¯ä»¥çœ‹å‡ºï¼Œå¯¹è±¡çš„è§£æ„ä¸æ•°ç»„çš„ç»“æ„ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«ï¼šæ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›è€Œå¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œæ˜¯æ ¹æ®é”®æ¥å–å€¼çš„ã€‚\næœªåŒ¹é…åˆ°çš„æƒ…å†µ å¯¹è±¡çš„ç»“æ„èµ‹å€¼ï¼Œæ˜¯æ ¹æ®å±æ€§åè¿›è¡Œä¸€ä¸€å¯¹åº”æ¥èµ‹å€¼çš„ã€‚å¯å¦‚æœå·¦è¾¹çš„æ•°é‡å¤§äºå³è¾¹çš„æ•°é‡æ—¶ï¼ˆä¹Ÿå°±æ˜¯å˜é‡çš„æ•°é‡å¤§äºå€¼çš„æ•°é‡æ—¶ï¼‰ï¼Œå¤šä½™çš„å˜é‡è¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ\nç­”æ¡ˆæ˜¯ï¼šå¦‚æœå˜é‡åœ¨ä¸€ä¸€å¯¹åº”æ—¶ï¼Œæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œé‚£ä¹ˆï¼Œå¤šä½™çš„å˜é‡ä¼šè¢«èµ‹å€¼ä¸º undefinedã€‚\nç»™å·¦è¾¹çš„å˜é‡è‡ªå®šä¹‰å‘½å å¯¹è±¡çš„ç»“æ„èµ‹å€¼é‡Œï¼Œå·¦è¾¹çš„å˜é‡åä¸€å®šè¦è·Ÿå³è¾¹çš„å±æ€§åä¿æŒä¸€è‡´ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯ä¸ä¸€å®šã€‚æˆ‘ä»¬å¯ä»¥å•ç‹¬ç»™å·¦è¾¹çš„å˜é‡è‡ªå®šä¹‰å‘½åã€‚\nä¸¾ä¾‹å¦‚ä¸‹ï¼š\nconst person = { name: \u0026#39;qianguyihao\u0026#39;, age: 28 }; let { name: myName, age: myAge } = person; // å¯¹è±¡çš„ç»“æ„èµ‹å€¼ console.log(myName); // æ‰“å°ç»“æœï¼šqianguyihao console.log(myAge); // æ‰“å°ç»“æœï¼š28 console.log(name); // æ‰“å°æŠ¥é”™ï¼šUncaught ReferenceError: name is not defined console.log(age); // æ‰“å°æŠ¥é”™ï¼šUncaught ReferenceError: age is not defined ä¸Šæ–¹çš„ç¬¬ 2 è¡Œä»£ç ä¸­ï¼šï¼ˆè¯·ç‰¢è®°ï¼‰\nç­‰å·å·¦è¾¹çš„å±æ€§å nameã€age æ˜¯å¯¹åº”ç­‰å·å³è¾¹çš„å±æ€§åã€‚\nç­‰å·å·¦è¾¹çš„ myNameã€myAge æ˜¯å·¦è¾¹è‡ªå®šä¹‰çš„å˜é‡åã€‚\næˆ–è€…ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼šå°†å³è¾¹ name çš„å€¼èµ‹å€¼ç»™å·¦è¾¹çš„ myName å˜é‡ï¼Œå°†å³è¾¹ age çš„å€¼èµ‹å€¼ç»™å·¦è¾¹çš„ myAge å˜é‡ã€‚ç°åœ¨ï¼Œä½ åº”è¯¥ä¸€ç›®äº†ç„¶äº†å§ï¼Ÿ\nåœ†æ‹¬å·çš„ä½¿ç”¨ å¦‚æœå˜é‡ foo åœ¨è§£æ„ä¹‹å‰å°±å·²ç»å®šä¹‰äº†ï¼Œæ­¤æ—¶ä½ å†å»è§£æ„ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚ä¸‹é¢æ˜¯é”™è¯¯çš„ä»£ç ï¼Œç¼–è¯‘ä¼šæŠ¥é”™ï¼š\nlet foo = \u0026#39;haha\u0026#39;; { foo } = { foo: \u0026#39;smyhvae\u0026#39; }; console.log(foo); è¦è§£å†³æŠ¥é”™ï¼Œåªè¦åœ¨è§£æ„çš„è¯­å¥å¤–è¾¹ï¼ŒåŠ ä¸€ä¸ªåœ†æ‹¬å·å³å¯ï¼š\nlet foo = \u0026#39;haha\u0026#39;; ({ foo } = { foo: \u0026#39;smyhvae\u0026#39; }); console.log(foo); //è¾“å‡ºç»“æœï¼šsmyhvae å­—ç¬¦ä¸²è§£æ„ å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„ï¼Œè¿™æ˜¯å› ä¸ºï¼Œæ­¤æ—¶å­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š\nconst [a, b, c, d] = \u0026#39;hello\u0026#39;; console.log(a); console.log(b); console.log(c); console.log(typeof a); //è¾“å‡ºç»“æœï¼šstring æ‰“å°ç»“æœï¼š\nh\re\rl\rstring ","permalink":"https://bablvsj.github.io/archives/%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC.html/","tags":null,"title":"å˜é‡çš„è§£æ„èµ‹å€¼"},{"categories":null,"contents":"å‰è¨€ ES6 åœ¨å‡½æ•°æ‰©å±•æ–¹é¢ï¼Œæ–°å¢äº†å¾ˆå¤šç‰¹æ€§ã€‚ä¾‹å¦‚ï¼š\nç®­å¤´å‡½æ•°\nå‚æ•°é»˜è®¤å€¼\nå‚æ•°ç»“æ„èµ‹å€¼\nå‰©ä½™å‚æ•°\næ‰©å±•è¿ç®—ç¬¦\nthis ç»‘å®š\nå°¾è°ƒç”¨\nä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬è®²ä¸€ä¸‹ç®­å¤´å‡½æ•°ã€‚\nç®­å¤´å‡½æ•° å®šä¹‰ç®­å¤´å‡½æ•°çš„è¯­æ³• è¯­æ³•ï¼š\n(å‚æ•°1, å‚æ•°2 ...) =\u0026gt; { å‡½æ•°ä½“ } è§£é‡Šï¼š\nå¦‚æœæœ‰ä¸”ä»…æœ‰ 1 ä¸ªå½¢å‚ï¼Œåˆ™()å¯ä»¥çœç•¥\nå¦‚æœå‡½æ•°ä½“å†…æœ‰ä¸”ä»…æœ‰ 1 æ¡è¯­å¥ï¼Œåˆ™{}å¯ä»¥çœç•¥ï¼Œä½†å‰ææ˜¯ï¼Œè¿™æ¡è¯­å¥å¿…é¡»æ˜¯ return è¯­å¥ã€‚\néœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œç®­å¤´å‡½æ•°æ˜¯æ²¡æœ‰å‡½æ•°åçš„ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œé‚£è¦æ€ä¹ˆè°ƒç”¨ç®­å¤´å‡½æ•°å‘¢ï¼Ÿä½ å¯ä»¥å°†ç®­å¤´å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œé€šè¿‡å˜é‡åè°ƒç”¨å‡½æ•°ï¼›ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚\nä¸¾ä¾‹ å†™æ³• 1ã€å®šä¹‰å’Œè°ƒç”¨å‡½æ•°ï¼šï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰\nfunction fn1(a, b) { console.log(\u0026#39;haha\u0026#39;); return a + b; } console.log(fn1(1, 2)); //è¾“å‡ºç»“æœï¼š3 å†™æ³• 2ã€å®šä¹‰å’Œè°ƒç”¨å‡½æ•°ï¼šï¼ˆES6 ä¸­çš„å†™æ³•ï¼‰\nconst fn2 = (a, b) =\u0026gt; { console.log(\u0026#39;haha\u0026#39;); return a + b; }; console.log(fn2(1, 2)); //è¾“å‡ºç»“æœï¼š3 ä¸Šé¢çš„ä¸¤ç§å†™æ³•ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚\nä»ä¸Šé¢çš„ç®­å¤´å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ°å˜é‡åã€å‚æ•°åã€å‡½æ•°ä½“ã€‚\nå¦å¤–ï¼Œç®­å¤´å‡½æ•°çš„å†™æ³•è¿˜å¯ä»¥ç²¾ç®€ä¸€ä¸‹ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚\nåœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œå¦‚æœæ–¹æ³•ä½“å†…åªæœ‰ä¸€å¥è¯ï¼Œä¸”è¿™å¥è¯æ˜¯ return è¯­å¥ï¼Œé‚£å°±å¯ä»¥æŠŠ {}çœç•¥ã€‚å†™æ³•å¦‚ä¸‹ï¼š\nconst fn2 = (a, b) =\u0026gt; a + b; console.log(fn2(1, 2)); //è¾“å‡ºç»“æœï¼š3 åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œå¦‚æœå½¢å‚åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™å¯ä»¥æŠŠ()çœç•¥ã€‚å†™æ³•å¦‚ä¸‹ï¼š\nconst fn2 = (a) =\u0026gt; { console.log(\u0026#39;haha\u0026#39;); return a + 1; }; console.log(fn2(1)); //è¾“å‡ºç»“æœï¼š2 ç®­å¤´å‡½æ•°çš„ this çš„æŒ‡å‘ ç®­å¤´å‡½æ•°åªæ˜¯ä¸ºäº†è®©å‡½æ•°å†™èµ·æ¥æ›´ç®€æ´ä¼˜é›…å—ï¼Ÿå½“ç„¶ä¸åªæ˜¯è¿™ä¸ªåŸå› ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä½œç”¨æ˜¯ä¸ this çš„æŒ‡å‘æœ‰å…³ã€‚\nES6 ä¹‹å‰çš„æ™®é€šå‡½æ•°ä¸­ï¼šthis æŒ‡å‘çš„æ˜¯å‡½æ•°è¢«è°ƒç”¨çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œè°è°ƒç”¨äº†å‡½æ•°ï¼Œthis å°±æŒ‡å‘è°ï¼‰ã€‚\nè€Œ ES6 çš„ç®­å¤´å‡½æ•°ä¸­ï¼šç®­å¤´å‡½æ•°æœ¬èº«ä¸ç»‘å®š thisï¼Œthis æŒ‡å‘çš„æ˜¯ç®­å¤´å‡½æ•°å®šä¹‰ä½ç½®çš„ thisï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œç®­å¤´å‡½æ•°åœ¨å“ªä¸ªä½ç½®å®šä¹‰çš„ï¼Œthis å°±è·Ÿè¿™ä¸ªä½ç½®çš„ this æŒ‡å‘ç›¸åŒï¼‰ã€‚\nä»£ç ä¸¾ä¾‹ï¼š\nconst obj = { name: \u0026#39;åƒå¤å£¹å·\u0026#39; }; function fn1() { console.log(this); // ç¬¬ä¸€ä¸ª this return () =\u0026gt; { console.log(this); // ç¬¬äºŒä¸ª this }; } const fn2 = fn1.call(obj); fn2(); æ‰“å°ç»“æœï¼š\nobj\robj ä»£ç è§£é‡Šï¼šï¼ˆä¸€å®šè¦å¥½å¥½ç†è§£ä¸‹é¢è¿™å¥è¯ï¼‰\nä¸Šé¢çš„ä»£ç ä¸­ï¼Œç®­å¤´å‡½æ•°æ˜¯åœ¨ fn1()å‡½æ•°é‡Œé¢å®šä¹‰çš„ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª this è·Ÿ ç¬¬ä¸€ä¸ª this æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªä½ç½®ã€‚åˆå› ä¸ºï¼Œåœ¨æ‰§è¡Œ fn1.call(obj)ä¹‹åï¼Œç¬¬ä¸€ä¸ª this å°±æŒ‡å‘äº† objï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª this ä¹Ÿæ˜¯æŒ‡å‘ äº† objã€‚\né¢è¯•é¢˜ï¼šç®­å¤´å‡½æ•°çš„ this æŒ‡å‘ ä»£ç ä¸¾ä¾‹ï¼š\nconst name = \u0026#39;è®¸åµ©\u0026#39;; const obj = { name: \u0026#39;åƒå¤å£¹å·\u0026#39;, sayHello: () =\u0026gt; { console.log(this.name); }, }; obj.sayHello(); ä¸Šæ–¹ä»£ç çš„æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä½ å¯èƒ½å¾ˆéš¾æƒ³åˆ°ã€‚\næ­£ç¡®ç­”æ¡ˆçš„æ‰“å°ç»“æœæ˜¯è®¸åµ©ã€‚å› ä¸º obj è¿™ä¸ªå¯¹è±¡å¹¶ä¸äº§ç”Ÿä½œç”¨åŸŸï¼Œ sayHello() è¿™ä¸ªç®­å¤´å‡½æ•°å®é™…ä»ç„¶æ˜¯å®šä¹‰åœ¨ window å½“ä¸­çš„ï¼Œæ‰€ä»¥ è¿™é‡Œçš„ this æŒ‡å‘æ˜¯ windowã€‚\nå‚æ•°é»˜è®¤å€¼ ä¼ ç»Ÿå†™æ³•ï¼š\nfunction fn(param) { let p = param || \u0026#39;hello\u0026#39;; console.log(p); } ä¸Šæ–¹ä»£ç ä¸­ï¼Œå‡½æ•°ä½“å†…çš„å†™æ³•æ˜¯ï¼šå¦‚æœ param ä¸å­˜åœ¨ï¼Œå°±ç”¨ helloå­—ç¬¦ä¸²åšå…œåº•ã€‚è¿™æ ·å†™æ¯”è¾ƒå•°å—¦ã€‚\nES6 å†™æ³•ï¼šï¼ˆå‚æ•°é»˜è®¤å€¼çš„å†™æ³•ï¼Œå¾ˆç®€æ´ï¼‰\nfunction fn(param = \u0026#39;hello\u0026#39;) { console.log(param); } åœ¨ ES6 ä¸­å®šä¹‰æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ–¹æ³•é‡Œçš„å‚æ•°åŠ ä¸€ä¸ªé»˜è®¤å€¼ï¼ˆç¼ºçœå€¼ï¼‰ï¼š\næ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç»™å‚æ•°èµ‹å€¼ï¼Œé‚£å°±æ˜¯ç”¨é»˜è®¤å€¼ï¼›\næ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå¦‚æœç»™å‚æ•°èµ‹å€¼äº†æ–°çš„å€¼ï¼Œé‚£å°±ç”¨æ–°çš„å€¼ã€‚\nå¦‚ä¸‹ï¼š\nvar fn2 = (a, b = 5) =\u0026gt; { console.log(\u0026#39;haha\u0026#39;); return a + b; }; console.log(fn2(1)); //ç¬¬äºŒä¸ªå‚æ•°ä½¿ç”¨é»˜è®¤å€¼ 5ã€‚è¾“å‡ºç»“æœï¼š6 console.log(fn2(1, 8)); //è¾“å‡ºç»“æœï¼š9 æé†’ 1ï¼šé»˜è®¤å€¼çš„åé¢ï¼Œä¸èƒ½å†æœ‰æ²¡æœ‰é»˜è®¤å€¼çš„å˜é‡ã€‚æ¯”å¦‚(a,b,c)è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¦‚æœæˆ‘ç»™ b è®¾ç½®äº†é»˜è®¤å€¼ï¼Œé‚£ä¹ˆå°±ä¸€å®šè¦ç»™ c è®¾ç½®é»˜è®¤å€¼ã€‚\næé†’ 2ï¼š\næˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š\nlet x = \u0026#39;smyh\u0026#39;; function fn(x, y = x) { console.log(x, y); } fn(\u0026#39;vae\u0026#39;); æ³¨æ„ç¬¬äºŒè¡Œä»£ç ï¼Œæˆ‘ä»¬ç»™ y èµ‹å€¼ä¸ºxï¼Œè¿™é‡Œçš„xæ˜¯æ‹¬å·é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸æ˜¯ç¬¬ä¸€è¡Œä»£ç é‡Œå®šä¹‰çš„xã€‚æ‰“å°ç»“æœï¼švae vaeã€‚\nå¦‚æœæˆ‘æŠŠç¬¬ä¸€ä¸ªå‚æ•°æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆï¼š\nlet x = \u0026#39;smyh\u0026#39;; function fn(z, y = x) { console.log(z, y); } fn(\u0026#39;vae\u0026#39;); æ­¤æ—¶æ‰“å°ç»“æœæ˜¯ï¼švae smyhã€‚\n","permalink":"https://bablvsj.github.io/home/06-es6%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0/","tags":null,"title":"ç®­å¤´å‡½æ•°"},{"categories":null,"contents":"Set æ•°æ®ç»“æ„ Set æ•°æ®ç»“æ„çš„ä»‹ç» ES6 æä¾›äº† æ–°çš„æ•°æ®ç»“æ„ Setã€‚Set ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚\nSet çš„åº”ç”¨æœ‰å¾ˆå¤šã€‚æ¯”å¦‚ï¼Œåœ¨ H5 é¡µé¢çš„æœç´¢åŠŸèƒ½é‡Œï¼Œç”¨æˆ·å¯èƒ½ä¼šå¤šæ¬¡æœç´¢é‡å¤çš„å…³é”®å­—ï¼›ä½†æ˜¯åœ¨æ•°æ®å­˜å‚¨ä¸Šï¼Œä¸éœ€è¦å­˜å‚¨é‡å¤çš„å…³é”®å­—ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ Set æ¥å­˜å‚¨ç”¨æˆ·çš„æœç´¢è®°å½•ï¼ŒSet å†…éƒ¨ä¼šè‡ªåŠ¨åˆ¤æ–­å€¼æ˜¯å¦é‡å¤ï¼Œå¦‚æœé‡å¤ï¼Œåˆ™ä¸ä¼šè¿›è¡Œå­˜å‚¨ï¼Œååˆ†æ–¹ä¾¿ã€‚\nç”Ÿæˆ Set æ•°æ®ç»“æ„ Set æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯é€šè¿‡ new Set() ç”Ÿæˆä¸€ä¸ª Set çš„å®ä¾‹ã€‚\nä¸¾ä¾‹ 1ï¼š\nconst set1 = new Set(); console.log(set1.size); // æ‰“å°ç»“æœï¼š0 ä¸¾ä¾‹ 2ã€å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå®ç°æ•°ç»„å»é‡ï¼š\nconst set2 = new Set([\u0026#39;å¼ ä¸‰\u0026#39;, \u0026#39;æå››\u0026#39;, \u0026#39;ç‹äº”\u0026#39;, \u0026#39;å¼ ä¸‰\u0026#39;]); // æ³¨æ„ï¼Œè¿™ä¸ªæ•°ç»„é‡Œæœ‰é‡å¤çš„å€¼ // æ³¨æ„ï¼Œè¿™é‡Œçš„ set2 å¹¶ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªå•çº¯çš„ Set æ•°æ®ç»“æ„ console.log(set2); // {\u0026#34;å¼ ä¸‰\u0026#34;, \u0026#34;æå››\u0026#34;, \u0026#34;ç‹äº”\u0026#34;} // é€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼Œæ‹¿åˆ° set ä¸­çš„å…ƒç´ ï¼ˆç”¨é€—å·åˆ†éš”çš„åºåˆ—ï¼‰ // ...set2 // \u0026#34;å¼ ä¸‰\u0026#34;, \u0026#34;æå››\u0026#34;, \u0026#34;ç‹äº”\u0026#34; // æ³¨æ„ï¼Œåˆ°è¿™ä¸€æ­¥ï¼Œæ‰è·å–åˆ°äº†çœŸæ­£çš„æ•°ç»„ console.log([...set2]); // [\u0026#34;å¼ ä¸‰\u0026#34;, \u0026#34;æå››\u0026#34;, \u0026#34;ç‹äº”\u0026#34;] æ³¨æ„ä¸Šæ–¹çš„ç¬¬ä¸€è¡Œä»£ç ï¼Œè™½ç„¶å‚æ•°é‡Œä¼ é€’çš„æ˜¯æ•°ç»„ç»“æ„ï¼Œä½†æ‹¿åˆ°çš„ set2 ä¸æ˜¯æ•°ç»„ç»“æ„ï¼Œè€Œæ˜¯ Set ç»“æ„ï¼Œè€Œä¸”é‡Œé¢å…ƒç´ æ˜¯å»é‡äº†çš„ã€‚é€šè¿‡ [...set2]å°±å¯ä»¥æ‹¿åˆ°set2å¯¹åº”çš„æ•°ç»„ã€‚\n","permalink":"https://bablvsj.github.io/home/09-%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E6%89%A9%E5%B1%95set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/","tags":null,"title":"å†…ç½®å¯¹è±¡æ‰©å±•ï¼šsetæ•°æ®ç»“æ„"},{"categories":null,"contents":"å‰©ä½™å‚æ•° å‰©ä½™å‚æ•°å…è®¸æˆ‘ä»¬å°†ä¸ç¡®å®šæ•°é‡çš„å‰©ä½™çš„å…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚\næ¯”å¦‚è¯´ï¼Œå½“å‡½æ•°çš„å®å‚ä¸ªæ•°å¤§äºå½¢å‚ä¸ªæ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‰©ä½™çš„å®å‚æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚\nä¼ ç»Ÿå†™æ³•ï¼š\nES5 ä¸­ï¼Œåœ¨å®šä¹‰æ–¹æ³•æ—¶ï¼Œå‚æ•°è¦ç¡®å®šä¸ªæ•°ï¼Œå¦‚ä¸‹ï¼šï¼ˆç¨‹åºä¼šæŠ¥é”™ï¼‰\nfunction fn(a, b, c) { console.log(a); console.log(b); console.log(c); console.log(d); } fn(1, 2, 3); ä¸Šæ–¹ä»£ç ä¸­ï¼Œå› ä¸ºæ–¹æ³•çš„å‚æ•°æ˜¯ä¸‰ä¸ªï¼Œä½†ä½¿ç”¨æ—¶æ˜¯ç”¨åˆ°äº†å››ä¸ªå‚æ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼š\nES6 å†™æ³•ï¼š\nES6 ä¸­ï¼Œæˆ‘ä»¬æœ‰äº†å‰©ä½™å‚æ•°ï¼Œå°±ä¸ç”¨æ‹…å¿ƒæŠ¥é”™çš„é—®é¢˜äº†ã€‚ä»£ç å¯ä»¥è¿™æ ·å†™ï¼š\nconst fn = (...args) =\u0026gt; { //å½“ä¸ç¡®å®šæ–¹æ³•çš„å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‰©ä½™å‚æ•° console.log(args[0]); console.log(args[1]); console.log(args[2]); console.log(args[3]); }; fn(1, 2); fn(1, 2, 3); //æ–¹æ³•çš„å®šä¹‰ä¸­äº†å››ä¸ªå‚æ•°ï¼Œä½†è°ƒç”¨å‡½æ•°æ—¶åªä½¿ç”¨äº†ä¸‰ä¸ªå‚æ•°ï¼ŒES6 ä¸­å¹¶ä¸ä¼šæŠ¥é”™ã€‚ æ‰“å°ç»“æœï¼š\n1 2 undefined undefined 1 2 3 undefined ä¸Šæ–¹ä»£ç ä¸­æ³¨æ„ï¼Œargs å‚æ•°ä¹‹åï¼Œä¸èƒ½å†åŠ åˆ«çš„å‚æ•°ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚\nä¸‹é¢è¿™æ®µä»£ç ï¼Œä¹Ÿæ˜¯åˆ©ç”¨åˆ°äº†å‰©ä½™å‚æ•°ï¼š\nfunction fn1(first, ...args) { console.log(first); // 10 console.log(args); // æ•°ç»„ï¼š[20, 30] } fn1(10, 20, 30); å‰©ä½™å‚æ•°çš„ä¸¾ä¾‹ï¼šå‚æ•°æ±‚å’Œ ä»£ç ä¸¾ä¾‹ï¼š\nconst sum = (...args) =\u0026gt; { let total = 0; args.forEach(item =\u0026gt; total += item); // æ³¨æ„ forEaché‡Œé¢çš„ä»£ç ï¼Œå†™å¾— å¾ˆç²¾ç®€ return total; }; console.log(sum(10, 20, 30)); æ‰“å°ç»“æœï¼š60\nå‰©ä½™å‚æ•°å’Œè§£æ„èµ‹å€¼é…åˆä½¿ç”¨ ä»£ç ä¸¾ä¾‹ï¼š\nconst students = [\u0026#39;å¼ ä¸‰\u0026#39;, \u0026#39;æå››\u0026#39;, \u0026#39;ç‹äº”\u0026#39;]; let [s1, ...s2] = students; console.log(s1); // \u0026#39;å¼ ä¸‰\u0026#39; console.log(s2); // [\u0026#39;æå››\u0026#39;, \u0026#39;ç‹äº”\u0026#39;] æ‰©å±•è¿ç®—ç¬¦ï¼ˆå±•å¼€è¯­æ³•ï¼‰ æ‰©å±•è¿ç®—ç¬¦å’Œå‰©ä½™å‚æ•°æ˜¯ç›¸åçš„ã€‚\nå‰©ä½™å‚æ•°æ˜¯å°†å‰©ä½™çš„å…ƒç´ æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼›è€Œæ‰©å±•è¿ç®—ç¬¦æ˜¯å°†æ•°ç»„æˆ–è€…å¯¹è±¡æ‹†åˆ†æˆé€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚\nä»£ç ä¸¾ä¾‹ï¼š\nconst arr = [10, 20, 30]; ...arr // 10, 20, 30 æ³¨æ„ï¼Œè¿™ä¸€è¡Œæ˜¯ä¼ªä»£ç ï¼Œè¿™é‡Œç”¨åˆ°äº†æ‰©å±•è¿ç®—ç¬¦ console.log(...arr); // 10 20 30 console.log(10, 20, 30); // 10 20 30 ä¸Šé¢çš„ä»£ç è¦ä»”ç»†çœ‹ï¼š\narræ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œ...arråˆ™è¡¨ç¤º10, 20, 30è¿™æ ·çš„åºåˆ—ã€‚\næˆ‘ä»¬æŠŠ...arr æ‰“å°å‡ºæ¥ï¼Œå‘ç°æ‰“å°ç»“æœç«Ÿç„¶æ˜¯ 10 20 30ï¼Œä¸ºå•¥é€—å·ä¸è§äº†å‘¢ï¼Ÿå› ä¸ºé€—å·è¢«å½“ä½œäº† console.log çš„å‚æ•°åˆ†éš”ç¬¦ã€‚å¦‚æœä½ ä¸ä¿¡ï¼Œå¯ä»¥ç›´æ¥æ‰“å° console.log(10, 20, 30) çœ‹çœ‹ã€‚\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨ã€‚\nä¸¾ä¾‹1ï¼šæ•°ç»„èµ‹å€¼ æ•°ç»„èµ‹å€¼çš„ä»£ç ä¸¾ä¾‹ï¼š\nlet arr2 = [...arr1]; // å°† arr1 èµ‹å€¼ç»™ arr2 ä¸ºäº†ç†è§£ä¸Šé¢è¿™è¡Œä»£ç ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æä¸€æ®µä»£ç ï¼šï¼ˆå°†æ•°ç»„ arr1 èµ‹å€¼ç»™ arr2ï¼‰\nlet arr1 = [\u0026#39;www\u0026#39;, \u0026#39;smyhvae\u0026#39;, \u0026#39;com\u0026#39;]; let arr2 = arr1; // å°† arr1 èµ‹å€¼ç»™ arr2ï¼Œå…¶å®æ˜¯è®© arr2 æŒ‡å‘ arr1 çš„å†…å­˜åœ°å€ console.log(\u0026#39;arr1:\u0026#39; + arr1); console.log(\u0026#39;arr2:\u0026#39; + arr2); console.log(\u0026#39;---------------------\u0026#39;); arr2.push(\u0026#39;ä½ æ‡‚å¾—\u0026#39;); //å¾€ arr2 é‡Œæ·»åŠ ä¸€éƒ¨åˆ†å†…å®¹ console.log(\u0026#39;arr1:\u0026#39; + arr1); console.log(\u0026#39;arr2:\u0026#39; + arr2); è¿è¡Œç»“æœï¼š\nä¸Šæ–¹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ arr2 é‡Œæ·»åŠ äº†ä½ æ‡‚çš„ï¼Œå´å‘ç°ï¼Œarr1 é‡Œä¹Ÿæœ‰è¿™ä¸ªå†…å®¹ã€‚åŸå› æ˜¯ï¼šlet arr2 = arr1;å…¶å®æ˜¯è®© arr2 æŒ‡å‘ arr1 çš„åœ°å€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒäºŒè€…æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚\nå¦‚æœä¸æƒ³è®© arr1 å’Œ arr2 æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ‰©å±•è¿ç®—ç¬¦æ¥åšï¼š\nlet arr1 = [\u0026#39;www\u0026#39;, \u0026#39;smyhvae\u0026#39;, \u0026#39;com\u0026#39;]; let arr2 = [...arr1]; //ã€é‡è¦ä»£ç ã€‘arr2 ä¼šé‡æ–°å¼€è¾Ÿå†…å­˜åœ°å€ console.log(\u0026#39;arr1:\u0026#39; + arr1); console.log(\u0026#39;arr2:\u0026#39; + arr2); console.log(\u0026#39;---------------------\u0026#39;); arr2.push(\u0026#39;ä½ æ‡‚å¾—\u0026#39;); //å¾€arr2 é‡Œæ·»åŠ ä¸€éƒ¨åˆ†å†…å®¹ console.log(\u0026#39;arr1:\u0026#39; + arr1); console.log(\u0026#39;arr2:\u0026#39; + arr2); è¿è¡Œç»“æœï¼š\narr1:www,smyhvae,com arr2:www,smyhvae,com --------------------- arr1:www,smyhvae,com arr2:www,smyhvae,com,ä½ æ‡‚å¾— æˆ‘ä»¬æ˜ç™½äº†è¿™ä¸ªä¾‹å­ï¼Œå°±å¯ä»¥é¿å…å¼€å‘ä¸­çš„å¾ˆå¤šä¸šåŠ¡é€»è¾‘ä¸Šçš„ bugã€‚\nä¸¾ä¾‹2ï¼šåˆå¹¶æ•°ç»„ ä»£ç ä¸¾ä¾‹ï¼š\nlet arr1 = [\u0026#39;ç‹ä¸€\u0026#39;, \u0026#39;ç‹äºŒ\u0026#39;, \u0026#39;ç‹ä¸‰\u0026#39;]; let arr2 = [\u0026#39;ç‹å››\u0026#39;, \u0026#39;ç‹äº”\u0026#39;, \u0026#39;ç‹å…­\u0026#39;]; // ...arr1 // \u0026#39;ç‹ä¸€\u0026#39;,\u0026#39;ç‹äºŒ\u0026#39;,\u0026#39;ç‹ä¸‰\u0026#39; // ...arr2 // \u0026#39;ç‹å››\u0026#39;,\u0026#39;ç‹äº”\u0026#39;,\u0026#39;ç‹å…­\u0026#39; // æ–¹æ³•1 let arr3 = [...arr1, ...arr2]; console.log(arr3); // [\u0026#34;ç‹ä¸€\u0026#34;, \u0026#34;ç‹äºŒ\u0026#34;, \u0026#34;ç‹ä¸‰\u0026#34;, \u0026#34;ç‹å››\u0026#34;, \u0026#34;ç‹äº”\u0026#34;, \u0026#34;ç‹å…­\u0026#34;] // æ–¹æ³•2 arr1.push(...arr2); console.log(arr1); // [\u0026#34;ç‹ä¸€\u0026#34;, \u0026#34;ç‹äºŒ\u0026#34;, \u0026#34;ç‹ä¸‰\u0026#34;, \u0026#34;ç‹å››\u0026#34;, \u0026#34;ç‹äº”\u0026#34;, \u0026#34;ç‹å…­\u0026#34;] ä¸¾ä¾‹3ï¼šå°†ä¼ªæ•°ç»„æˆ–è€…å¯éå†å¯¹è±¡è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ ä»£ç ä¸¾ä¾‹ï¼š\nconst myDivs = document.getElementsByClassName(\u0026#39;div\u0026#39;); const divArr = [...myDivs]; // åˆ©ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†ä¼ªæ•°ç»„è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ è¡¥å……ï¼š\næˆ‘ä»¬åœ¨ã€ŠJavaScriptåŸºç¡€/æ•°ç»„çš„å¸¸è§æ–¹æ³•ã€‹ä¸­ä¹Ÿå­¦è¿‡ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†ä¼ªæ•°ç»„ï¼ˆæˆ–è€…å¯éå†å¯¹è±¡ï¼‰è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nlet arr2 = Array.from(arrayLike); ","permalink":"https://bablvsj.github.io/home/07-%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0%E5%92%8C%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6/","tags":null,"title":"å‰©ä½™å‚æ•°å’Œæ‰©å±•è¿ç®—ç¬¦"},{"categories":null,"contents":"å­—ç¬¦ä¸²çš„æ‰©å±• ä¸‹é¢æåˆ°çš„å­—ç¬¦ä¸²çš„å‡ ä¸ªæ–¹æ³•ï¼Œæ›´è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥çœ‹ã€Š04-JavaScript åŸºç¡€/å†…ç½®å¯¹è±¡ Stringï¼šå­—ç¬¦ä¸²çš„å¸¸è§æ–¹æ³•.mdã€‹ã€‚\nES6 ä¸­çš„å­—ç¬¦ä¸²æ‰©å±•å¦‚ä¸‹ï¼š\nincludes(str)ï¼šåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ä¸²\nstartsWith(str)ï¼šåˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´\nendsWith(str)ï¼šåˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾\nrepeat(count)ï¼šé‡å¤æŒ‡å®šæ¬¡æ•°\nä¸¾ä¾‹å¦‚ä¸‹ï¼š\nlet str = \u0026#39;abcdefg\u0026#39;; console.log(str.includes(\u0026#39;a\u0026#39;)); //true console.log(str.includes(\u0026#39;h\u0026#39;)); //false //startsWith(str) : åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´ console.log(str.startsWith(\u0026#39;a\u0026#39;)); //true console.log(str.startsWith(\u0026#39;d\u0026#39;)); //false //endsWith(str) : åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾ console.log(str.endsWith(\u0026#39;g\u0026#39;)); //true console.log(str.endsWith(\u0026#39;d\u0026#39;)); //false //repeat(count) : é‡å¤æŒ‡å®šæ¬¡æ•°a console.log(str.repeat(5)); æ‰“å°ç»“æœï¼š\nNumber çš„æ‰©å±• äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶æ•°å€¼è¡¨ç¤ºæ³•: äºŒè¿›åˆ¶ç”¨0b, å…«è¿›åˆ¶ç”¨0oã€‚ ä¸¾ä¾‹ï¼š\nconsole.log(0b1010); //10 console.log(0o56); //46 Number.isFinite(i)ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæœ‰é™å¤§çš„æ•°ã€‚æ¯”å¦‚Infinityè¿™ç§æ— ç©·å¤§çš„æ•°ï¼Œè¿”å›çš„å°±æ˜¯ falseã€‚\nNumber.isNaN(i)ï¼šåˆ¤æ–­æ˜¯å¦ä¸º NaNã€‚\nNumber.isInteger(i)ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ•´æ•°ã€‚\nNumber.parseInt(str)ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å€¼ã€‚\nMath.trunc(i)ï¼šå»é™¤å°æ•°éƒ¨åˆ†ã€‚\nä¸¾ä¾‹ï¼š\n//Number.isFinite(i) : åˆ¤æ–­æ˜¯å¦æ˜¯æœ‰é™å¤§çš„æ•° console.log(Number.isFinite(NaN)); //false console.log(Number.isFinite(5)); //true console.log(Number.isFinite(Infinity)); //false //Number.isNaN(i) : åˆ¤æ–­æ˜¯å¦æ˜¯NaN console.log(Number.isNaN(NaN)); //true console.log(Number.isNaN(5)); //falsse //Number.isInteger(i) : åˆ¤æ–­æ˜¯å¦æ˜¯æ•´æ•° console.log(Number.isInteger(5.23)); //false console.log(Number.isInteger(5.0)); //true console.log(Number.isInteger(5)); //true //Number.parseInt(str) : å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å€¼ console.log(Number.parseInt(\u0026#39;123abc\u0026#39;)); //123 console.log(Number.parseInt(\u0026#39;a123abc\u0026#39;)); //NaN // Math.trunc(i) : ç›´æ¥å»é™¤å°æ•°éƒ¨åˆ† console.log(Math.trunc(13.123)); //13 æ•°ç»„çš„æ‰©å±• ä¸‹é¢æåˆ°çš„æ•°ç»„çš„å‡ ä¸ªæ–¹æ³•ï¼Œæ›´è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥çœ‹ã€Š04-JavaScript åŸºç¡€/æ•°ç»„çš„å¸¸è§æ–¹æ³•.mdã€‹ã€‚\nArray.from()\nfind()\nfindIndex()\nå¯¹è±¡çš„æ‰©å±• æ‰©å±• 1 Object.is(v1, v2); ä½œç”¨ï¼šåˆ¤æ–­ä¸¤ä¸ªæ•°æ®æ˜¯å¦å®Œå…¨ç›¸ç­‰ã€‚åº•å±‚æ˜¯é€šè¿‡å­—ç¬¦ä¸²æ¥åˆ¤æ–­çš„ã€‚\næˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸¤è¡Œä»£ç çš„æ‰“å°ç»“æœï¼š\nconsole.log(0 == -0); console.log(NaN == NaN); æ‰“å°ç»“æœï¼š\ntrue\rfalse ä¸Šæ–¹ä»£ç ä¸­ï¼Œç¬¬ä¸€è¡Œä»£ç çš„æ‰“å°ç»“æœä¸º trueï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚ç¬¬äºŒè¡Œä»£ç çš„æ‰“å°ç»“æœä¸º falseï¼Œå› ä¸º NaN å’Œä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ã€‚\nä½†æ˜¯ï¼Œå¦‚æœæ¢æˆä¸‹é¢è¿™ç§æ–¹å¼æ¥æ¯”è¾ƒï¼š\nconsole.log(Object.is(0, -0)); console.log(Object.is(NaN, NaN)); æ‰“å°ç»“æœå´æ˜¯ï¼š\nfalse true ä»£ç è§£é‡Šï¼šè¿˜æ˜¯åˆšåˆšè¯´çš„é‚£æ ·ï¼ŒObject.is(v1, v2)æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ã€‚\nObject.assign() Object.assign() åœ¨å®æˆ˜å¼€å‘ä¸­ï¼Œä½¿ç”¨åˆ°çš„é¢‘ç‡éå¸¸é«˜ï¼Œä¸€å®šè¦é‡è§†ã€‚å…³äºå®ƒçš„å†…å®¹ï¼Œè¯¦è§ã€Š04-JavaScript åŸºç¡€/æµ…æ‹·è´å’Œæ·±æ‹·è´.mdã€‹ã€‚\næ‰©å±• 3ï¼š__proto__å±æ€§ ä¸¾ä¾‹ï¼š\nlet obj1 = { name: \u0026#39;smyhvae\u0026#39; }; let obj2 = {}; obj2.__proto__ = obj1; console.log(obj1); console.log(obj2); console.log(obj2.name); æ‰“å°ç»“æœï¼š\nä¸Šæ–¹ä»£ç ä¸­ï¼Œobj2 æœ¬èº«æ˜¯æ²¡æœ‰å±æ€§çš„ï¼Œä½†æ˜¯é€šè¿‡__proto__å±æ€§å’Œ obj1 äº§ç”Ÿå…³è”ï¼Œäºæ˜¯å°±å¯ä»¥è·å¾— obj1 é‡Œçš„å±æ€§ã€‚\n","permalink":"https://bablvsj.github.io/home/08-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/","tags":null,"title":"å­—ç¬¦ä¸²ã€æ•°ç»„ã€å¯¹è±¡çš„æ‰©å±•"},{"categories":null,"contents":"\nä¸ªäººè¯´æ˜ æˆ‘æ˜¯å°å¸ƒã€‚\nè¿™æ˜¯ä¸€ä¸ªæˆ‘åœ¨é—²æš‡æ—¶é—´å†™çš„åšå®¢ï¼Œè®°å½•ä¸€äº›ç”Ÿæ´»çäº‹ï¼Œä¹Ÿä¼šå†™ä¸€äº›æŠ€æœ¯ç¬”è®°ã€‚\næ¬¢è¿å’Œæˆ‘ä¸€èµ·æ¢è®¨ä¸€äº›é—®é¢˜ï¼Œæˆ–è€…èŠèŠäººç”Ÿä¸æƒ³ã€‚ the road ahead will be long and our climb will be steep. âœ¨2023ï¼Œé¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€ï¼ã€‚ \u0026ndash;2022.12\nåšå®¢æ—¥å¿— 2022-12-15: å¼•ç”¨hugoä¸»é¢˜ hugo-theme-Readerã€‚\n2022-12-10: åšå®¢ä½¿ç”¨hugoæ„å»ºã€‚\nå‹æƒ…é“¾æ¥ ä¸€äº›æ–‡ç« å†™çš„ä¸é”™çš„åšä¸»\næ¶›å” æ±Ÿå®å¯ä¹ æ¢¦ç¹æ˜Ÿ ä¾ç„¶ ç‹å®œæ¥·å·¥ä½œå®¤ éšæœ›æ·¡æ€ å¶å¼€æ¥—åšå®¢ ä¸œä¸œåšå®¢ æ¶“æ»´æ„å¿µæ±‡æˆæ²³ å—å¼¦ SharpG.çš„åšå®¢ ç¢—é‡Œæœ‰è‚‰ä¸ Javaç å†œåšå®¢\næ¨èç½‘ç«™ ç¹æ˜ŸAPI æ¢¦ç¹æ˜Ÿåšçš„apiç½‘ç«™ï¼Œæœ¬ç«™å¤šå¤„ä½¿ç”¨è¯¥ç«™æ¥å£ï¼Œç¨³å®šé€Ÿåº¦å¿«ã€‚\nç‰ˆæƒå£°æ˜ï¼šç½‘ç«™æ–‡ç« æ‰€æœ‰ç‰ˆæƒå¦‚æ— ç‰¹æ®Šè¯´æ˜ï¼Œå‡å½’æœ¬äººæ‰€æœ‰ã€‚å…è®¸è½¬è½½ï¼Œæ ‡æ˜å‡ºå¤„å³å¯ã€‚\n","permalink":"https://bablvsj.github.io/about/","tags":null,"title":"å…³äº"},{"categories":null,"contents":"","permalink":"https://bablvsj.github.io/message/","tags":null,"title":"ç•™è¨€"},{"categories":null,"contents":"","permalink":"https://bablvsj.github.io/lab/","tags":null,"title":"å®éªŒå®¤"},{"categories":null,"contents":"","permalink":"https://bablvsj.github.io/search/","tags":null,"title":"æœç´¢"},{"categories":null,"contents":"è®°å½•æˆ‘è®¢é˜…çš„å‘¨åˆŠï¼Œè´¨é‡ä¸é”™ï¼Œå†…å®¹æŒºæœ‰æ„æ€ã€‚å¦‚æœä½ æœ‰æ¨èï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ã€‚\n(ä»¥ä¸‹æ’åä¸åˆ†å…ˆåï¼Œä»…ä»¥è®°å½•çš„å…ˆåé¡ºåºã€‚)\nå‘¨åˆŠ 1. DecoHackå‘¨åˆŠ\nhttps://decohack.zhubai.love/\nä¸ºç‹¬ç«‹åˆ›é€ è€…æä¾›ç‹¬ç«‹è§è§£ï¼Œå¸®åŠ©ä½ å‘ç°æ–°äº§å“æ–¹å‘ï¼Œå¯åŠ¨å’Œå®Œå–„ä½ çš„é¡¹ç›®ã€‚\n2. å¥½å·¥å…·å‘¨åˆŠ\nhttps://bestxtools.zhubai.love/\nå‘ç°å¹¶åˆ†äº«æœ‰è¶£ï¼Œæœ‰åˆ›æ„ï¼Œå…è´¹ã€å¥½ç”¨çš„å·¥å…·ï¼Œæ¯å‘¨å››å‘å¸ƒã€‚\n3. è€èƒ¡çš„å‘¨åˆŠ\nhttps://weekly.howie6879.cn/\næ¯å‘¨è®°å½•çœ‹åˆ°çš„æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œä¸»è¦é’ˆå¯¹è®¡ç®—æœºé¢†åŸŸï¼Œå†…å®¹ä¸»é¢˜æå¤§ç¨‹åº¦è¢«æˆ‘ä¸ªäººå–œå¥½ä¸»å¯¼ã€‚è¿™ä¸ªé¡¹ç›®æ ¸å¿ƒç›®çš„åœ¨äºè®°å½•è®©è‡ªå·±æœ‰å°è±¡çš„ä¿¡æ¯åšä¸€ä¸ªç•™å­˜ä»¥åŠå…±äº«ã€‚\n4. å‰æ®µç²¾è¯»å‘¨åˆŠ\nhttps://github.com/ascoders/weekly\nå‰ç«¯ç•Œçš„å¥½æ–‡ç²¾è¯»ï¼Œæ¯å‘¨æ›´æ–°ã€‚\n5. ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠ-é˜®ä¸€å³°\nhttps://github.com/ruanyf/weekly\nè®°å½•æ¯å‘¨å€¼å¾—åˆ†äº«çš„ç§‘æŠ€å†…å®¹ï¼Œå‘¨äº”å‘å¸ƒã€‚\n6. å¼€å‘è€…ç®€æŠ¥\nhttps://dev.com.cn/\næ¯å‘¨ä¸ºä½ è½»è§£è¯»æŠ€æœ¯åˆ›ä¸šğŸš€ã€é…·äº§å“ğŸ“±ã€ç¼–ç¨‹è¯­è¨€ğŸ‘¨â€ğŸ’»ã€å¼€å‘å·¥å…·ğŸ› ï¸â€¦ç­‰å†…å®¹\næœˆåˆŠ hellogithub - https://hellogithub.com/\næ¯æœˆ28å·å‘å¸ƒ\næ’­å®¢ æ«è¨€æ«è¯­\nhttps://fyfy.fm/\nå¬è§ç§‘æŠ€ä¸äººæ–‡çš„å£°éŸ³ ä¸€æ¡£ç”±å¼€å‘è€… @æ«å½±JustinYan å’Œè®¾è®¡å¸ˆ @è‡ªåŠ›hzlzh ä¸»æŒçš„æ’­å®¢èŠ‚ç›®ã€‚\n","permalink":"https://bablvsj.github.io/weekly/","tags":null,"title":"å‘¨åˆŠ"}]